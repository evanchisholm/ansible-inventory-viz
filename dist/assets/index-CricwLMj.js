(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var Vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oA={exports:{}},of={},uA={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u=Symbol.for("react.element"),cO=Symbol.for("react.portal"),dO=Symbol.for("react.fragment"),vO=Symbol.for("react.strict_mode"),hO=Symbol.for("react.profiler"),pO=Symbol.for("react.provider"),gO=Symbol.for("react.context"),mO=Symbol.for("react.forward_ref"),yO=Symbol.for("react.suspense"),bO=Symbol.for("react.memo"),wO=Symbol.for("react.lazy"),Vb=Symbol.iterator;function xO(e){return e===null||typeof e!="object"?null:(e=Vb&&e[Vb]||e["@@iterator"],typeof e=="function"?e:null)}var sA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lA=Object.assign,fA={};function oo(e,r,t){this.props=e,this.context=r,this.refs=fA,this.updater=t||sA}oo.prototype.isReactComponent={};oo.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};oo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cA(){}cA.prototype=oo.prototype;function j0(e,r,t){this.props=e,this.context=r,this.refs=fA,this.updater=t||sA}var Y0=j0.prototype=new cA;Y0.constructor=j0;lA(Y0,oo.prototype);Y0.isPureReactComponent=!0;var $b=Array.isArray,dA=Object.prototype.hasOwnProperty,X0={current:null},vA={key:!0,ref:!0,__self:!0,__source:!0};function hA(e,r,t){var n,a={},i=null,o=null;if(r!=null)for(n in r.ref!==void 0&&(o=r.ref),r.key!==void 0&&(i=""+r.key),r)dA.call(r,n)&&!vA.hasOwnProperty(n)&&(a[n]=r[n]);var u=arguments.length-2;if(u===1)a.children=t;else if(1<u){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+2];a.children=s}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)a[n]===void 0&&(a[n]=u[n]);return{$$typeof:$u,type:e,key:i,ref:o,props:a,_owner:X0.current}}function EO(e,r){return{$$typeof:$u,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function Z0(e){return typeof e=="object"&&e!==null&&e.$$typeof===$u}function SO(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return r[t]})}var Ub=/\/+/g;function oc(e,r){return typeof e=="object"&&e!==null&&e.key!=null?SO(""+e.key):r.toString(36)}function Ws(e,r,t,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $u:case cO:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+oc(o,0):n,$b(a)?(t="",e!=null&&(t=e.replace(Ub,"$&/")+"/"),Ws(a,r,t,"",function(l){return l})):a!=null&&(Z0(a)&&(a=EO(a,t+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Ub,"$&/")+"/")+e)),r.push(a)),1;if(o=0,n=n===""?".":n+":",$b(e))for(var u=0;u<e.length;u++){i=e[u];var s=n+oc(i,u);o+=Ws(i,r,t,s,a)}else if(s=xO(e),typeof s=="function")for(e=s.call(e),u=0;!(i=e.next()).done;)i=i.value,s=n+oc(i,u++),o+=Ws(i,r,t,s,a);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return o}function ds(e,r,t){if(e==null)return e;var n=[],a=0;return Ws(e,n,"","",function(i){return r.call(t,i,a++)}),n}function CO(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},Ks={transition:null},kO={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:Ks,ReactCurrentOwner:X0};function pA(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:ds,forEach:function(e,r,t){ds(e,function(){r.apply(this,arguments)},t)},count:function(e){var r=0;return ds(e,function(){r++}),r},toArray:function(e){return ds(e,function(r){return r})||[]},only:function(e){if(!Z0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=oo;Me.Fragment=dO;Me.Profiler=hO;Me.PureComponent=j0;Me.StrictMode=vO;Me.Suspense=yO;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kO;Me.act=pA;Me.cloneElement=function(e,r,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=lA({},e.props),a=e.key,i=e.ref,o=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,o=X0.current),r.key!==void 0&&(a=""+r.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(s in r)dA.call(r,s)&&!vA.hasOwnProperty(s)&&(n[s]=r[s]===void 0&&u!==void 0?u[s]:r[s])}var s=arguments.length-2;if(s===1)n.children=t;else if(1<s){u=Array(s);for(var l=0;l<s;l++)u[l]=arguments[l+2];n.children=u}return{$$typeof:$u,type:e.type,key:a,ref:i,props:n,_owner:o}};Me.createContext=function(e){return e={$$typeof:gO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pO,_context:e},e.Consumer=e};Me.createElement=hA;Me.createFactory=function(e){var r=hA.bind(null,e);return r.type=e,r};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:mO,render:e}};Me.isValidElement=Z0;Me.lazy=function(e){return{$$typeof:wO,_payload:{_status:-1,_result:e},_init:CO}};Me.memo=function(e,r){return{$$typeof:bO,type:e,compare:r===void 0?null:r}};Me.startTransition=function(e){var r=Ks.transition;Ks.transition={};try{e()}finally{Ks.transition=r}};Me.unstable_act=pA;Me.useCallback=function(e,r){return at.current.useCallback(e,r)};Me.useContext=function(e){return at.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return at.current.useDeferredValue(e)};Me.useEffect=function(e,r){return at.current.useEffect(e,r)};Me.useId=function(){return at.current.useId()};Me.useImperativeHandle=function(e,r,t){return at.current.useImperativeHandle(e,r,t)};Me.useInsertionEffect=function(e,r){return at.current.useInsertionEffect(e,r)};Me.useLayoutEffect=function(e,r){return at.current.useLayoutEffect(e,r)};Me.useMemo=function(e,r){return at.current.useMemo(e,r)};Me.useReducer=function(e,r,t){return at.current.useReducer(e,r,t)};Me.useRef=function(e){return at.current.useRef(e)};Me.useState=function(e){return at.current.useState(e)};Me.useSyncExternalStore=function(e,r,t){return at.current.useSyncExternalStore(e,r,t)};Me.useTransition=function(){return at.current.useTransition()};Me.version="18.3.1";uA.exports=Me;var xt=uA.exports;const uc=K0(xt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O=xt,TO=Symbol.for("react.element"),AO=Symbol.for("react.fragment"),RO=Object.prototype.hasOwnProperty,PO=_O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DO={key:!0,ref:!0,__self:!0,__source:!0};function gA(e,r,t){var n,a={},i=null,o=null;t!==void 0&&(i=""+t),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(o=r.ref);for(n in r)RO.call(r,n)&&!DO.hasOwnProperty(n)&&(a[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps,r)a[n]===void 0&&(a[n]=r[n]);return{$$typeof:TO,type:e,key:i,ref:o,props:a,_owner:PO.current}}of.Fragment=AO;of.jsx=gA;of.jsxs=gA;oA.exports=of;var Qr=oA.exports,mA={exports:{}},_t={},yA={exports:{}},bA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(D,F){var z=D.length;D.push(F);e:for(;0<z;){var q=z-1>>>1,$=D[q];if(0<a($,F))D[q]=F,D[z]=$,z=q;else break e}}function t(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var F=D[0],z=D.pop();if(z!==F){D[0]=z;e:for(var q=0,$=D.length,Y=$>>>1;q<Y;){var M=2*(q+1)-1,N=D[M],V=M+1,H=D[V];if(0>a(N,z))V<$&&0>a(H,N)?(D[q]=H,D[V]=z,q=V):(D[q]=N,D[M]=z,q=M);else if(V<$&&0>a(H,z))D[q]=H,D[V]=z,q=V;else break e}}return F}function a(D,F){var z=D.sortIndex-F.sortIndex;return z!==0?z:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var s=[],l=[],f=1,c=null,d=3,v=!1,h=!1,b=!1,m=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var F=t(l);F!==null;){if(F.callback===null)n(l);else if(F.startTime<=D)n(l),F.sortIndex=F.expirationTime,r(s,F);else break;F=t(l)}}function w(D){if(b=!1,y(D),!h)if(t(s)!==null)h=!0,B(E);else{var F=t(l);F!==null&&O(w,F.startTime-D)}}function E(D,F){h=!1,b&&(b=!1,g(C),C=-1),v=!0;var z=d;try{for(y(F),c=t(s);c!==null&&(!(c.expirationTime>F)||D&&!T());){var q=c.callback;if(typeof q=="function"){c.callback=null,d=c.priorityLevel;var $=q(c.expirationTime<=F);F=e.unstable_now(),typeof $=="function"?c.callback=$:c===t(s)&&n(s),y(F)}else n(s);c=t(s)}if(c!==null)var Y=!0;else{var M=t(l);M!==null&&O(w,M.startTime-F),Y=!1}return Y}finally{c=null,d=z,v=!1}}var S=!1,x=null,C=-1,_=5,k=-1;function T(){return!(e.unstable_now()-k<_)}function A(){if(x!==null){var D=e.unstable_now();k=D;var F=!0;try{F=x(!0,D)}finally{F?R():(S=!1,x=null)}}else S=!1}var R;if(typeof p=="function")R=function(){p(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,L=I.port2;I.port1.onmessage=A,R=function(){L.postMessage(null)}}else R=function(){m(A,0)};function B(D){x=D,S||(S=!0,R())}function O(D,F){C=m(function(){D(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){h||v||(h=!0,B(E))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return t(s)},e.unstable_next=function(D){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var z=d;d=F;try{return D()}finally{d=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=d;d=D;try{return F()}finally{d=z}},e.unstable_scheduleCallback=function(D,F,z){var q=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?q+z:q):z=q,D){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=z+$,D={id:f++,callback:F,priorityLevel:D,startTime:z,expirationTime:$,sortIndex:-1},z>q?(D.sortIndex=z,r(l,D),t(s)===null&&D===t(l)&&(b?(g(C),C=-1):b=!0,O(w,z-q))):(D.sortIndex=$,r(s,D),h||v||(h=!0,B(E))),D},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(D){var F=d;return function(){var z=d;d=F;try{return D.apply(this,arguments)}finally{d=z}}}})(bA);yA.exports=bA;var IO=yA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO=xt,kt=IO;function ae(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)r+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wA=new Set,cu={};function ei(e,r){Yi(e,r),Yi(e+"Capture",r)}function Yi(e,r){for(cu[e]=r,e=0;e<r.length;e++)wA.add(r[e])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Py=Object.prototype.hasOwnProperty,OO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gb={},Hb={};function MO(e){return Py.call(Hb,e)?!0:Py.call(Gb,e)?!1:OO.test(e)?Hb[e]=!0:(Gb[e]=!0,!1)}function BO(e,r,t,n){if(t!==null&&t.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function NO(e,r,t,n){if(r===null||typeof r>"u"||BO(e,r,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function it(e,r,t,n,a,i,o){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=t,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=o}var Fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fr[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];Fr[r]=new it(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fr[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fr[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fr[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fr[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fr[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fr[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fr[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var Q0=/[\-:]([a-z])/g;function J0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(Q0,J0);Fr[r]=new it(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(Q0,J0);Fr[r]=new it(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(Q0,J0);Fr[r]=new it(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fr[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});Fr.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fr[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function e1(e,r,t,n){var a=Fr.hasOwnProperty(r)?Fr[r]:null;(a!==null?a.type!==0:n||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(NO(r,t,a,n)&&(t=null),n||a===null?MO(r)&&(t===null?e.removeAttribute(r):e.setAttribute(r,""+t)):a.mustUseProperty?e[a.propertyName]=t===null?a.type===3?!1:"":t:(r=a.attributeName,n=a.attributeNamespace,t===null?e.removeAttribute(r):(a=a.type,t=a===3||a===4&&t===!0?"":""+t,n?e.setAttributeNS(n,r,t):e.setAttribute(r,t))))}var Ln=LO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),Ei=Symbol.for("react.portal"),Si=Symbol.for("react.fragment"),r1=Symbol.for("react.strict_mode"),Dy=Symbol.for("react.profiler"),xA=Symbol.for("react.provider"),EA=Symbol.for("react.context"),t1=Symbol.for("react.forward_ref"),Iy=Symbol.for("react.suspense"),Ly=Symbol.for("react.suspense_list"),n1=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),SA=Symbol.for("react.offscreen"),Wb=Symbol.iterator;function Co(e){return e===null||typeof e!="object"?null:(e=Wb&&e[Wb]||e["@@iterator"],typeof e=="function"?e:null)}var or=Object.assign,sc;function $o(e){if(sc===void 0)try{throw Error()}catch(t){var r=t.stack.trim().match(/\n( *(at )?)/);sc=r&&r[1]||""}return`
`+sc+e}var lc=!1;function fc(e,r){if(!e||lc)return"";lc=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(l){var n=l}Reflect.construct(e,[],r)}else{try{r.call()}catch(l){n=l}e.call(r.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var a=l.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,u=i.length-1;1<=o&&0<=u&&a[o]!==i[u];)u--;for(;1<=o&&0<=u;o--,u--)if(a[o]!==i[u]){if(o!==1||u!==1)do if(o--,u--,0>u||a[o]!==i[u]){var s=`
`+a[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=o&&0<=u);break}}}finally{lc=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?$o(e):""}function qO(e){switch(e.tag){case 5:return $o(e.type);case 16:return $o("Lazy");case 13:return $o("Suspense");case 19:return $o("SuspenseList");case 0:case 2:case 15:return e=fc(e.type,!1),e;case 11:return e=fc(e.type.render,!1),e;case 1:return e=fc(e.type,!0),e;default:return""}}function Oy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Si:return"Fragment";case Ei:return"Portal";case Dy:return"Profiler";case r1:return"StrictMode";case Iy:return"Suspense";case Ly:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EA:return(e.displayName||"Context")+".Consumer";case xA:return(e._context.displayName||"Context")+".Provider";case t1:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case n1:return r=e.displayName||null,r!==null?r:Oy(e.type)||"Memo";case $n:r=e._payload,e=e._init;try{return Oy(e(r))}catch{}}return null}function FO(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oy(r);case 8:return r===r1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function la(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function CA(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zO(e){var r=CA(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),n=""+e[r];if(!e.hasOwnProperty(r)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var a=t.get,i=t.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,r,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function hs(e){e._valueTracker||(e._valueTracker=zO(e))}function kA(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var t=r.getValue(),n="";return e&&(n=CA(e)?e.checked?"true":"false":e.value),e=n,e!==t?(r.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function My(e,r){var t=r.checked;return or({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function Kb(e,r){var t=r.defaultValue==null?"":r.defaultValue,n=r.checked!=null?r.checked:r.defaultChecked;t=la(r.value!=null?r.value:t),e._wrapperState={initialChecked:n,initialValue:t,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function _A(e,r){r=r.checked,r!=null&&e1(e,"checked",r,!1)}function By(e,r){_A(e,r);var t=la(r.value),n=r.type;if(t!=null)n==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Ny(e,r.type,t):r.hasOwnProperty("defaultValue")&&Ny(e,r.type,la(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function jb(e,r,t){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var n=r.type;if(!(n!=="submit"&&n!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,t||r===e.value||(e.value=r),e.defaultValue=r}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function Ny(e,r,t){(r!=="number"||pl(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var Uo=Array.isArray;function Fi(e,r,t,n){if(e=e.options,r){r={};for(var a=0;a<t.length;a++)r["$"+t[a]]=!0;for(t=0;t<e.length;t++)a=r.hasOwnProperty("$"+e[t].value),e[t].selected!==a&&(e[t].selected=a),a&&n&&(e[t].defaultSelected=!0)}else{for(t=""+la(t),r=null,a=0;a<e.length;a++){if(e[a].value===t){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}r!==null||e[a].disabled||(r=e[a])}r!==null&&(r.selected=!0)}}function qy(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(ae(91));return or({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yb(e,r){var t=r.value;if(t==null){if(t=r.children,r=r.defaultValue,t!=null){if(r!=null)throw Error(ae(92));if(Uo(t)){if(1<t.length)throw Error(ae(93));t=t[0]}r=t}r==null&&(r=""),t=r}e._wrapperState={initialValue:la(t)}}function TA(e,r){var t=la(r.value),n=la(r.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),r.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),n!=null&&(e.defaultValue=""+n)}function Xb(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function AA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fy(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?AA(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,RA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,t,n,a){MSApp.execUnsafeLocalFunction(function(){return e(r,t,n,a)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function du(e,r){if(r){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=r;return}}e.textContent=r}var Jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VO=["Webkit","ms","Moz","O"];Object.keys(Jo).forEach(function(e){VO.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Jo[r]=Jo[e]})});function PA(e,r,t){return r==null||typeof r=="boolean"||r===""?"":t||typeof r!="number"||r===0||Jo.hasOwnProperty(e)&&Jo[e]?(""+r).trim():r+"px"}function DA(e,r){e=e.style;for(var t in r)if(r.hasOwnProperty(t)){var n=t.indexOf("--")===0,a=PA(t,r[t],n);t==="float"&&(t="cssFloat"),n?e.setProperty(t,a):e[t]=a}}var $O=or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zy(e,r){if(r){if($O[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(ae(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(ae(61))}if(r.style!=null&&typeof r.style!="object")throw Error(ae(62))}}function Vy(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $y=null;function a1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uy=null,zi=null,Vi=null;function Zb(e){if(e=Hu(e)){if(typeof Uy!="function")throw Error(ae(280));var r=e.stateNode;r&&(r=cf(r),Uy(e.stateNode,e.type,r))}}function IA(e){zi?Vi?Vi.push(e):Vi=[e]:zi=e}function LA(){if(zi){var e=zi,r=Vi;if(Vi=zi=null,Zb(e),r)for(e=0;e<r.length;e++)Zb(r[e])}}function OA(e,r){return e(r)}function MA(){}var cc=!1;function BA(e,r,t){if(cc)return e(r,t);cc=!0;try{return OA(e,r,t)}finally{cc=!1,(zi!==null||Vi!==null)&&(MA(),LA())}}function vu(e,r){var t=e.stateNode;if(t===null)return null;var n=cf(t);if(n===null)return null;t=n[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(ae(231,r,typeof t));return t}var Gy=!1;if(_n)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){Gy=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{Gy=!1}function UO(e,r,t,n,a,i,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{r.apply(t,l)}catch(f){this.onError(f)}}var eu=!1,gl=null,ml=!1,Hy=null,GO={onError:function(e){eu=!0,gl=e}};function HO(e,r,t,n,a,i,o,u,s){eu=!1,gl=null,UO.apply(GO,arguments)}function WO(e,r,t,n,a,i,o,u,s){if(HO.apply(this,arguments),eu){if(eu){var l=gl;eu=!1,gl=null}else throw Error(ae(198));ml||(ml=!0,Hy=l)}}function ri(e){var r=e,t=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(t=r.return),e=r.return;while(e)}return r.tag===3?t:null}function NA(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function Qb(e){if(ri(e)!==e)throw Error(ae(188))}function KO(e){var r=e.alternate;if(!r){if(r=ri(e),r===null)throw Error(ae(188));return r!==e?null:e}for(var t=e,n=r;;){var a=t.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){t=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===t)return Qb(a),e;if(i===n)return Qb(a),r;i=i.sibling}throw Error(ae(188))}if(t.return!==n.return)t=a,n=i;else{for(var o=!1,u=a.child;u;){if(u===t){o=!0,t=a,n=i;break}if(u===n){o=!0,n=a,t=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===t){o=!0,t=i,n=a;break}if(u===n){o=!0,n=i,t=a;break}u=u.sibling}if(!o)throw Error(ae(189))}}if(t.alternate!==n)throw Error(ae(190))}if(t.tag!==3)throw Error(ae(188));return t.stateNode.current===t?e:r}function qA(e){return e=KO(e),e!==null?FA(e):null}function FA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=FA(e);if(r!==null)return r;e=e.sibling}return null}var zA=kt.unstable_scheduleCallback,Jb=kt.unstable_cancelCallback,jO=kt.unstable_shouldYield,YO=kt.unstable_requestPaint,fr=kt.unstable_now,XO=kt.unstable_getCurrentPriorityLevel,i1=kt.unstable_ImmediatePriority,VA=kt.unstable_UserBlockingPriority,yl=kt.unstable_NormalPriority,ZO=kt.unstable_LowPriority,$A=kt.unstable_IdlePriority,uf=null,ln=null;function QO(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(uf,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:rM,JO=Math.log,eM=Math.LN2;function rM(e){return e>>>=0,e===0?32:31-(JO(e)/eM|0)|0}var gs=64,ms=4194304;function Go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bl(e,r){var t=e.pendingLanes;if(t===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=t&268435455;if(o!==0){var u=o&~a;u!==0?n=Go(u):(i&=o,i!==0&&(n=Go(i)))}else o=t&~a,o!==0?n=Go(o):i!==0&&(n=Go(i));if(n===0)return 0;if(r!==0&&r!==n&&!(r&a)&&(a=n&-n,i=r&-r,a>=i||a===16&&(i&4194240)!==0))return r;if(n&4&&(n|=t&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=n;0<r;)t=31-jt(r),a=1<<t,n|=e[t],r&=~a;return n}function tM(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nM(e,r){for(var t=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-jt(i),u=1<<o,s=a[o];s===-1?(!(u&t)||u&n)&&(a[o]=tM(u,r)):s<=r&&(e.expiredLanes|=u),i&=~u}}function Wy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function UA(){var e=gs;return gs<<=1,!(gs&4194240)&&(gs=64),e}function dc(e){for(var r=[],t=0;31>t;t++)r.push(e);return r}function Uu(e,r,t){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-jt(r),e[r]=t}function aM(e,r){var t=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<t;){var a=31-jt(t),i=1<<a;r[a]=0,n[a]=-1,e[a]=-1,t&=~i}}function o1(e,r){var t=e.entangledLanes|=r;for(e=e.entanglements;t;){var n=31-jt(t),a=1<<n;a&r|e[n]&r&&(e[n]|=r),t&=~a}}var He=0;function GA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var HA,u1,WA,KA,jA,Ky=!1,ys=[],Qn=null,Jn=null,ea=null,hu=new Map,pu=new Map,Hn=[],iM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ew(e,r){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":hu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(r.pointerId)}}function _o(e,r,t,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:t,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},r!==null&&(r=Hu(r),r!==null&&u1(r)),e):(e.eventSystemFlags|=n,r=e.targetContainers,a!==null&&r.indexOf(a)===-1&&r.push(a),e)}function oM(e,r,t,n,a){switch(r){case"focusin":return Qn=_o(Qn,e,r,t,n,a),!0;case"dragenter":return Jn=_o(Jn,e,r,t,n,a),!0;case"mouseover":return ea=_o(ea,e,r,t,n,a),!0;case"pointerover":var i=a.pointerId;return hu.set(i,_o(hu.get(i)||null,e,r,t,n,a)),!0;case"gotpointercapture":return i=a.pointerId,pu.set(i,_o(pu.get(i)||null,e,r,t,n,a)),!0}return!1}function YA(e){var r=Na(e.target);if(r!==null){var t=ri(r);if(t!==null){if(r=t.tag,r===13){if(r=NA(t),r!==null){e.blockedOn=r,jA(e.priority,function(){WA(t)});return}}else if(r===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var t=jy(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var n=new t.constructor(t.type,t);$y=n,t.target.dispatchEvent(n),$y=null}else return r=Hu(t),r!==null&&u1(r),e.blockedOn=t,!1;r.shift()}return!0}function rw(e,r,t){js(e)&&t.delete(r)}function uM(){Ky=!1,Qn!==null&&js(Qn)&&(Qn=null),Jn!==null&&js(Jn)&&(Jn=null),ea!==null&&js(ea)&&(ea=null),hu.forEach(rw),pu.forEach(rw)}function To(e,r){e.blockedOn===r&&(e.blockedOn=null,Ky||(Ky=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,uM)))}function gu(e){function r(a){return To(a,e)}if(0<ys.length){To(ys[0],e);for(var t=1;t<ys.length;t++){var n=ys[t];n.blockedOn===e&&(n.blockedOn=null)}}for(Qn!==null&&To(Qn,e),Jn!==null&&To(Jn,e),ea!==null&&To(ea,e),hu.forEach(r),pu.forEach(r),t=0;t<Hn.length;t++)n=Hn[t],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hn.length&&(t=Hn[0],t.blockedOn===null);)YA(t),t.blockedOn===null&&Hn.shift()}var $i=Ln.ReactCurrentBatchConfig,wl=!0;function sM(e,r,t,n){var a=He,i=$i.transition;$i.transition=null;try{He=1,s1(e,r,t,n)}finally{He=a,$i.transition=i}}function lM(e,r,t,n){var a=He,i=$i.transition;$i.transition=null;try{He=4,s1(e,r,t,n)}finally{He=a,$i.transition=i}}function s1(e,r,t,n){if(wl){var a=jy(e,r,t,n);if(a===null)Ec(e,r,n,xl,t),ew(e,n);else if(oM(a,e,r,t,n))n.stopPropagation();else if(ew(e,n),r&4&&-1<iM.indexOf(e)){for(;a!==null;){var i=Hu(a);if(i!==null&&HA(i),i=jy(e,r,t,n),i===null&&Ec(e,r,n,xl,t),i===a)break;a=i}a!==null&&n.stopPropagation()}else Ec(e,r,n,null,t)}}var xl=null;function jy(e,r,t,n){if(xl=null,e=a1(n),e=Na(e),e!==null)if(r=ri(e),r===null)e=null;else if(t=r.tag,t===13){if(e=NA(r),e!==null)return e;e=null}else if(t===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return xl=e,null}function XA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XO()){case i1:return 1;case VA:return 4;case yl:case ZO:return 16;case $A:return 536870912;default:return 16}default:return 16}}var Kn=null,l1=null,Ys=null;function ZA(){if(Ys)return Ys;var e,r=l1,t=r.length,n,a="value"in Kn?Kn.value:Kn.textContent,i=a.length;for(e=0;e<t&&r[e]===a[e];e++);var o=t-e;for(n=1;n<=o&&r[t-n]===a[i-n];n++);return Ys=a.slice(e,1<n?1-n:void 0)}function Xs(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function tw(){return!1}function Tt(e){function r(t,n,a,i,o){this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(t=e[u],this[u]=t?t(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bs:tw,this.isPropagationStopped=tw,this}return or(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),r}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f1=Tt(uo),Gu=or({},uo,{view:0,detail:0}),fM=Tt(Gu),vc,hc,Ao,sf=or({},Gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ao&&(Ao&&e.type==="mousemove"?(vc=e.screenX-Ao.screenX,hc=e.screenY-Ao.screenY):hc=vc=0,Ao=e),vc)},movementY:function(e){return"movementY"in e?e.movementY:hc}}),nw=Tt(sf),cM=or({},sf,{dataTransfer:0}),dM=Tt(cM),vM=or({},Gu,{relatedTarget:0}),pc=Tt(vM),hM=or({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),pM=Tt(hM),gM=or({},uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mM=Tt(gM),yM=or({},uo,{data:0}),aw=Tt(yM),bM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EM(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=xM[e])?!!r[e]:!1}function c1(){return EM}var SM=or({},Gu,{key:function(e){if(e.key){var r=bM[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c1,charCode:function(e){return e.type==="keypress"?Xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CM=Tt(SM),kM=or({},sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iw=Tt(kM),_M=or({},Gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c1}),TM=Tt(_M),AM=or({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),RM=Tt(AM),PM=or({},sf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DM=Tt(PM),IM=[9,13,27,32],d1=_n&&"CompositionEvent"in window,ru=null;_n&&"documentMode"in document&&(ru=document.documentMode);var LM=_n&&"TextEvent"in window&&!ru,QA=_n&&(!d1||ru&&8<ru&&11>=ru),ow=" ",uw=!1;function JA(e,r){switch(e){case"keyup":return IM.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ci=!1;function OM(e,r){switch(e){case"compositionend":return eR(r);case"keypress":return r.which!==32?null:(uw=!0,ow);case"textInput":return e=r.data,e===ow&&uw?null:e;default:return null}}function MM(e,r){if(Ci)return e==="compositionend"||!d1&&JA(e,r)?(e=ZA(),Ys=l1=Kn=null,Ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return QA&&r.locale!=="ko"?null:r.data;default:return null}}var BM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sw(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!BM[e.type]:r==="textarea"}function rR(e,r,t,n){IA(n),r=El(r,"onChange"),0<r.length&&(t=new f1("onChange","change",null,t,n),e.push({event:t,listeners:r}))}var tu=null,mu=null;function NM(e){dR(e,0)}function lf(e){var r=Ti(e);if(kA(r))return e}function qM(e,r){if(e==="change")return r}var tR=!1;if(_n){var gc;if(_n){var mc="oninput"in document;if(!mc){var lw=document.createElement("div");lw.setAttribute("oninput","return;"),mc=typeof lw.oninput=="function"}gc=mc}else gc=!1;tR=gc&&(!document.documentMode||9<document.documentMode)}function fw(){tu&&(tu.detachEvent("onpropertychange",nR),mu=tu=null)}function nR(e){if(e.propertyName==="value"&&lf(mu)){var r=[];rR(r,mu,e,a1(e)),BA(NM,r)}}function FM(e,r,t){e==="focusin"?(fw(),tu=r,mu=t,tu.attachEvent("onpropertychange",nR)):e==="focusout"&&fw()}function zM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lf(mu)}function VM(e,r){if(e==="click")return lf(r)}function $M(e,r){if(e==="input"||e==="change")return lf(r)}function UM(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Zt=typeof Object.is=="function"?Object.is:UM;function yu(e,r){if(Zt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var a=t[n];if(!Py.call(r,a)||!Zt(e[a],r[a]))return!1}return!0}function cw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dw(e,r){var t=cw(e);e=0;for(var n;t;){if(t.nodeType===3){if(n=e+t.textContent.length,e<=r&&n>=r)return{node:t,offset:r-e};e=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=cw(t)}}function aR(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?aR(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function iR(){for(var e=window,r=pl();r instanceof e.HTMLIFrameElement;){try{var t=typeof r.contentWindow.location.href=="string"}catch{t=!1}if(t)e=r.contentWindow;else break;r=pl(e.document)}return r}function v1(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function GM(e){var r=iR(),t=e.focusedElem,n=e.selectionRange;if(r!==t&&t&&t.ownerDocument&&aR(t.ownerDocument.documentElement,t)){if(n!==null&&v1(t)){if(r=n.start,e=n.end,e===void 0&&(e=r),"selectionStart"in t)t.selectionStart=r,t.selectionEnd=Math.min(e,t.value.length);else if(e=(r=t.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var a=t.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=dw(t,i);var o=dw(t,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(r=r.createRange(),r.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(r),e.extend(o.node,o.offset)):(r.setEnd(o.node,o.offset),e.addRange(r)))}}for(r=[],e=t;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<r.length;t++)e=r[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HM=_n&&"documentMode"in document&&11>=document.documentMode,ki=null,Yy=null,nu=null,Xy=!1;function vw(e,r,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Xy||ki==null||ki!==pl(n)||(n=ki,"selectionStart"in n&&v1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nu&&yu(nu,n)||(nu=n,n=El(Yy,"onSelect"),0<n.length&&(r=new f1("onSelect","select",null,r,t),e.push({event:r,listeners:n}),r.target=ki)))}function ws(e,r){var t={};return t[e.toLowerCase()]=r.toLowerCase(),t["Webkit"+e]="webkit"+r,t["Moz"+e]="moz"+r,t}var _i={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},yc={},oR={};_n&&(oR=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function ff(e){if(yc[e])return yc[e];if(!_i[e])return e;var r=_i[e],t;for(t in r)if(r.hasOwnProperty(t)&&t in oR)return yc[e]=r[t];return e}var uR=ff("animationend"),sR=ff("animationiteration"),lR=ff("animationstart"),fR=ff("transitionend"),cR=new Map,hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(e,r){cR.set(e,r),ei(r,[e])}for(var bc=0;bc<hw.length;bc++){var wc=hw[bc],WM=wc.toLowerCase(),KM=wc[0].toUpperCase()+wc.slice(1);ba(WM,"on"+KM)}ba(uR,"onAnimationEnd");ba(sR,"onAnimationIteration");ba(lR,"onAnimationStart");ba("dblclick","onDoubleClick");ba("focusin","onFocus");ba("focusout","onBlur");ba(fR,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function pw(e,r,t){var n=e.type||"unknown-event";e.currentTarget=t,WO(n,r,void 0,e),e.currentTarget=null}function dR(e,r){r=(r&4)!==0;for(var t=0;t<e.length;t++){var n=e[t],a=n.event;n=n.listeners;e:{var i=void 0;if(r)for(var o=n.length-1;0<=o;o--){var u=n[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==i&&a.isPropagationStopped())break e;pw(a,u,l),i=s}else for(o=0;o<n.length;o++){if(u=n[o],s=u.instance,l=u.currentTarget,u=u.listener,s!==i&&a.isPropagationStopped())break e;pw(a,u,l),i=s}}}if(ml)throw e=Hy,ml=!1,Hy=null,e}function Ze(e,r){var t=r[r0];t===void 0&&(t=r[r0]=new Set);var n=e+"__bubble";t.has(n)||(vR(r,e,2,!1),t.add(n))}function xc(e,r,t){var n=0;r&&(n|=4),vR(t,e,n,r)}var xs="_reactListening"+Math.random().toString(36).slice(2);function bu(e){if(!e[xs]){e[xs]=!0,wA.forEach(function(t){t!=="selectionchange"&&(jM.has(t)||xc(t,!1,e),xc(t,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[xs]||(r[xs]=!0,xc("selectionchange",!1,r))}}function vR(e,r,t,n){switch(XA(r)){case 1:var a=sM;break;case 4:a=lM;break;default:a=s1}t=a.bind(null,r,t,e),a=void 0,!Gy||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(r,t,{capture:!0,passive:a}):e.addEventListener(r,t,!0):a!==void 0?e.addEventListener(r,t,{passive:a}):e.addEventListener(r,t,!1)}function Ec(e,r,t,n,a){var i=n;if(!(r&1)&&!(r&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===a||u.nodeType===8&&u.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var s=o.tag;if((s===3||s===4)&&(s=o.stateNode.containerInfo,s===a||s.nodeType===8&&s.parentNode===a))return;o=o.return}for(;u!==null;){if(o=Na(u),o===null)return;if(s=o.tag,s===5||s===6){n=i=o;continue e}u=u.parentNode}}n=n.return}BA(function(){var l=i,f=a1(t),c=[];e:{var d=cR.get(e);if(d!==void 0){var v=f1,h=e;switch(e){case"keypress":if(Xs(t)===0)break e;case"keydown":case"keyup":v=CM;break;case"focusin":h="focus",v=pc;break;case"focusout":h="blur",v=pc;break;case"beforeblur":case"afterblur":v=pc;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=nw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=dM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=TM;break;case uR:case sR:case lR:v=pM;break;case fR:v=RM;break;case"scroll":v=fM;break;case"wheel":v=DM;break;case"copy":case"cut":case"paste":v=mM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=iw}var b=(r&4)!==0,m=!b&&e==="scroll",g=b?d!==null?d+"Capture":null:d;b=[];for(var p=l,y;p!==null;){y=p;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,g!==null&&(w=vu(p,g),w!=null&&b.push(wu(p,w,y)))),m)break;p=p.return}0<b.length&&(d=new v(d,h,null,t,f),c.push({event:d,listeners:b}))}}if(!(r&7)){e:{if(d=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",d&&t!==$y&&(h=t.relatedTarget||t.fromElement)&&(Na(h)||h[Tn]))break e;if((v||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,v?(h=t.relatedTarget||t.toElement,v=l,h=h?Na(h):null,h!==null&&(m=ri(h),h!==m||h.tag!==5&&h.tag!==6)&&(h=null)):(v=null,h=l),v!==h)){if(b=nw,w="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(b=iw,w="onPointerLeave",g="onPointerEnter",p="pointer"),m=v==null?d:Ti(v),y=h==null?d:Ti(h),d=new b(w,p+"leave",v,t,f),d.target=m,d.relatedTarget=y,w=null,Na(f)===l&&(b=new b(g,p+"enter",h,t,f),b.target=y,b.relatedTarget=m,w=b),m=w,v&&h)r:{for(b=v,g=h,p=0,y=b;y;y=li(y))p++;for(y=0,w=g;w;w=li(w))y++;for(;0<p-y;)b=li(b),p--;for(;0<y-p;)g=li(g),y--;for(;p--;){if(b===g||g!==null&&b===g.alternate)break r;b=li(b),g=li(g)}b=null}else b=null;v!==null&&gw(c,d,v,b,!1),h!==null&&m!==null&&gw(c,m,h,b,!0)}}e:{if(d=l?Ti(l):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var E=qM;else if(sw(d))if(tR)E=$M;else{E=zM;var S=FM}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=VM);if(E&&(E=E(e,l))){rR(c,E,t,f);break e}S&&S(e,d,l),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&Ny(d,"number",d.value)}switch(S=l?Ti(l):window,e){case"focusin":(sw(S)||S.contentEditable==="true")&&(ki=S,Yy=l,nu=null);break;case"focusout":nu=Yy=ki=null;break;case"mousedown":Xy=!0;break;case"contextmenu":case"mouseup":case"dragend":Xy=!1,vw(c,t,f);break;case"selectionchange":if(HM)break;case"keydown":case"keyup":vw(c,t,f)}var x;if(d1)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ci?JA(e,t)&&(C="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(QA&&t.locale!=="ko"&&(Ci||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ci&&(x=ZA()):(Kn=f,l1="value"in Kn?Kn.value:Kn.textContent,Ci=!0)),S=El(l,C),0<S.length&&(C=new aw(C,e,null,t,f),c.push({event:C,listeners:S}),x?C.data=x:(x=eR(t),x!==null&&(C.data=x)))),(x=LM?OM(e,t):MM(e,t))&&(l=El(l,"onBeforeInput"),0<l.length&&(f=new aw("onBeforeInput","beforeinput",null,t,f),c.push({event:f,listeners:l}),f.data=x))}dR(c,r)})}function wu(e,r,t){return{instance:e,listener:r,currentTarget:t}}function El(e,r){for(var t=r+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=vu(e,t),i!=null&&n.unshift(wu(e,i,a)),i=vu(e,r),i!=null&&n.push(wu(e,i,a))),e=e.return}return n}function li(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gw(e,r,t,n,a){for(var i=r._reactName,o=[];t!==null&&t!==n;){var u=t,s=u.alternate,l=u.stateNode;if(s!==null&&s===n)break;u.tag===5&&l!==null&&(u=l,a?(s=vu(t,i),s!=null&&o.unshift(wu(t,s,u))):a||(s=vu(t,i),s!=null&&o.push(wu(t,s,u)))),t=t.return}o.length!==0&&e.push({event:r,listeners:o})}var YM=/\r\n?/g,XM=/\u0000|\uFFFD/g;function mw(e){return(typeof e=="string"?e:""+e).replace(YM,`
`).replace(XM,"")}function Es(e,r,t){if(r=mw(r),mw(e)!==r&&t)throw Error(ae(425))}function Sl(){}var Zy=null,Qy=null;function Jy(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var e0=typeof setTimeout=="function"?setTimeout:void 0,ZM=typeof clearTimeout=="function"?clearTimeout:void 0,yw=typeof Promise=="function"?Promise:void 0,QM=typeof queueMicrotask=="function"?queueMicrotask:typeof yw<"u"?function(e){return yw.resolve(null).then(e).catch(JM)}:e0;function JM(e){setTimeout(function(){throw e})}function Sc(e,r){var t=r,n=0;do{var a=t.nextSibling;if(e.removeChild(t),a&&a.nodeType===8)if(t=a.data,t==="/$"){if(n===0){e.removeChild(a),gu(r);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=a}while(t);gu(r)}function ra(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function bw(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(r===0)return e;r--}else t==="/$"&&r++}e=e.previousSibling}return null}var so=Math.random().toString(36).slice(2),un="__reactFiber$"+so,xu="__reactProps$"+so,Tn="__reactContainer$"+so,r0="__reactEvents$"+so,eB="__reactListeners$"+so,rB="__reactHandles$"+so;function Na(e){var r=e[un];if(r)return r;for(var t=e.parentNode;t;){if(r=t[Tn]||t[un]){if(t=r.alternate,r.child!==null||t!==null&&t.child!==null)for(e=bw(e);e!==null;){if(t=e[un])return t;e=bw(e)}return r}e=t,t=e.parentNode}return null}function Hu(e){return e=e[un]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ti(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function cf(e){return e[xu]||null}var t0=[],Ai=-1;function wa(e){return{current:e}}function Qe(e){0>Ai||(e.current=t0[Ai],t0[Ai]=null,Ai--)}function Ye(e,r){Ai++,t0[Ai]=e.current,e.current=r}var fa={},Wr=wa(fa),pt=wa(!1),Ga=fa;function Xi(e,r){var t=e.type.contextTypes;if(!t)return fa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===r)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in t)a[i]=r[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),a}function gt(e){return e=e.childContextTypes,e!=null}function Cl(){Qe(pt),Qe(Wr)}function ww(e,r,t){if(Wr.current!==fa)throw Error(ae(168));Ye(Wr,r),Ye(pt,t)}function hR(e,r,t){var n=e.stateNode;if(r=r.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var a in n)if(!(a in r))throw Error(ae(108,FO(e)||"Unknown",a));return or({},t,n)}function kl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fa,Ga=Wr.current,Ye(Wr,e),Ye(pt,pt.current),!0}function xw(e,r,t){var n=e.stateNode;if(!n)throw Error(ae(169));t?(e=hR(e,r,Ga),n.__reactInternalMemoizedMergedChildContext=e,Qe(pt),Qe(Wr),Ye(Wr,e)):Qe(pt),Ye(pt,t)}var wn=null,df=!1,Cc=!1;function pR(e){wn===null?wn=[e]:wn.push(e)}function tB(e){df=!0,pR(e)}function xa(){if(!Cc&&wn!==null){Cc=!0;var e=0,r=He;try{var t=wn;for(He=1;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}wn=null,df=!1}catch(a){throw wn!==null&&(wn=wn.slice(e+1)),zA(i1,xa),a}finally{He=r,Cc=!1}}return null}var Ri=[],Pi=0,_l=null,Tl=0,Pt=[],Dt=0,Ha=null,En=1,Sn="";function Da(e,r){Ri[Pi++]=Tl,Ri[Pi++]=_l,_l=e,Tl=r}function gR(e,r,t){Pt[Dt++]=En,Pt[Dt++]=Sn,Pt[Dt++]=Ha,Ha=e;var n=En;e=Sn;var a=32-jt(n)-1;n&=~(1<<a),t+=1;var i=32-jt(r)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,En=1<<32-jt(r)+a|t<<a|n,Sn=i+e}else En=1<<i|t<<a|n,Sn=e}function h1(e){e.return!==null&&(Da(e,1),gR(e,1,0))}function p1(e){for(;e===_l;)_l=Ri[--Pi],Ri[Pi]=null,Tl=Ri[--Pi],Ri[Pi]=null;for(;e===Ha;)Ha=Pt[--Dt],Pt[Dt]=null,Sn=Pt[--Dt],Pt[Dt]=null,En=Pt[--Dt],Pt[Dt]=null}var St=null,Et=null,er=!1,Kt=null;function mR(e,r){var t=Lt(5,null,null,0);t.elementType="DELETED",t.stateNode=r,t.return=e,r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)}function Ew(e,r){switch(e.tag){case 5:var t=e.type;return r=r.nodeType!==1||t.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,St=e,Et=ra(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,St=e,Et=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(t=Ha!==null?{id:En,overflow:Sn}:null,e.memoizedState={dehydrated:r,treeContext:t,retryLane:1073741824},t=Lt(18,null,null,0),t.stateNode=r,t.return=e,e.child=t,St=e,Et=null,!0):!1;default:return!1}}function n0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function a0(e){if(er){var r=Et;if(r){var t=r;if(!Ew(e,r)){if(n0(e))throw Error(ae(418));r=ra(t.nextSibling);var n=St;r&&Ew(e,r)?mR(n,t):(e.flags=e.flags&-4097|2,er=!1,St=e)}}else{if(n0(e))throw Error(ae(418));e.flags=e.flags&-4097|2,er=!1,St=e}}}function Sw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function Ss(e){if(e!==St)return!1;if(!er)return Sw(e),er=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Jy(e.type,e.memoizedProps)),r&&(r=Et)){if(n0(e))throw yR(),Error(ae(418));for(;r;)mR(e,r),r=ra(r.nextSibling)}if(Sw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(r===0){Et=ra(e.nextSibling);break e}r--}else t!=="$"&&t!=="$!"&&t!=="$?"||r++}e=e.nextSibling}Et=null}}else Et=St?ra(e.stateNode.nextSibling):null;return!0}function yR(){for(var e=Et;e;)e=ra(e.nextSibling)}function Zi(){Et=St=null,er=!1}function g1(e){Kt===null?Kt=[e]:Kt.push(e)}var nB=Ln.ReactCurrentBatchConfig;function Ro(e,r,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ae(309));var n=t.stateNode}if(!n)throw Error(ae(147,e));var a=n,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(o){var u=a.refs;o===null?delete u[i]:u[i]=o},r._stringRef=i,r)}if(typeof e!="string")throw Error(ae(284));if(!t._owner)throw Error(ae(290,e))}return e}function Cs(e,r){throw e=Object.prototype.toString.call(r),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function Cw(e){var r=e._init;return r(e._payload)}function bR(e){function r(g,p){if(e){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function t(g,p){if(!e)return null;for(;p!==null;)r(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function a(g,p){return g=ia(g,p),g.index=0,g.sibling=null,g}function i(g,p,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function u(g,p,y,w){return p===null||p.tag!==6?(p=Dc(y,g.mode,w),p.return=g,p):(p=a(p,y),p.return=g,p)}function s(g,p,y,w){var E=y.type;return E===Si?f(g,p,y.props.children,w,y.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===$n&&Cw(E)===p.type)?(w=a(p,y.props),w.ref=Ro(g,p,y),w.return=g,w):(w=nl(y.type,y.key,y.props,null,g.mode,w),w.ref=Ro(g,p,y),w.return=g,w)}function l(g,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ic(y,g.mode,w),p.return=g,p):(p=a(p,y.children||[]),p.return=g,p)}function f(g,p,y,w,E){return p===null||p.tag!==7?(p=$a(y,g.mode,w,E),p.return=g,p):(p=a(p,y),p.return=g,p)}function c(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Dc(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case vs:return y=nl(p.type,p.key,p.props,null,g.mode,y),y.ref=Ro(g,null,p),y.return=g,y;case Ei:return p=Ic(p,g.mode,y),p.return=g,p;case $n:var w=p._init;return c(g,w(p._payload),y)}if(Uo(p)||Co(p))return p=$a(p,g.mode,y,null),p.return=g,p;Cs(g,p)}return null}function d(g,p,y,w){var E=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:u(g,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vs:return y.key===E?s(g,p,y,w):null;case Ei:return y.key===E?l(g,p,y,w):null;case $n:return E=y._init,d(g,p,E(y._payload),w)}if(Uo(y)||Co(y))return E!==null?null:f(g,p,y,w,null);Cs(g,y)}return null}function v(g,p,y,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(y)||null,u(p,g,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vs:return g=g.get(w.key===null?y:w.key)||null,s(p,g,w,E);case Ei:return g=g.get(w.key===null?y:w.key)||null,l(p,g,w,E);case $n:var S=w._init;return v(g,p,y,S(w._payload),E)}if(Uo(w)||Co(w))return g=g.get(y)||null,f(p,g,w,E,null);Cs(p,w)}return null}function h(g,p,y,w){for(var E=null,S=null,x=p,C=p=0,_=null;x!==null&&C<y.length;C++){x.index>C?(_=x,x=null):_=x.sibling;var k=d(g,x,y[C],w);if(k===null){x===null&&(x=_);break}e&&x&&k.alternate===null&&r(g,x),p=i(k,p,C),S===null?E=k:S.sibling=k,S=k,x=_}if(C===y.length)return t(g,x),er&&Da(g,C),E;if(x===null){for(;C<y.length;C++)x=c(g,y[C],w),x!==null&&(p=i(x,p,C),S===null?E=x:S.sibling=x,S=x);return er&&Da(g,C),E}for(x=n(g,x);C<y.length;C++)_=v(x,g,C,y[C],w),_!==null&&(e&&_.alternate!==null&&x.delete(_.key===null?C:_.key),p=i(_,p,C),S===null?E=_:S.sibling=_,S=_);return e&&x.forEach(function(T){return r(g,T)}),er&&Da(g,C),E}function b(g,p,y,w){var E=Co(y);if(typeof E!="function")throw Error(ae(150));if(y=E.call(y),y==null)throw Error(ae(151));for(var S=E=null,x=p,C=p=0,_=null,k=y.next();x!==null&&!k.done;C++,k=y.next()){x.index>C?(_=x,x=null):_=x.sibling;var T=d(g,x,k.value,w);if(T===null){x===null&&(x=_);break}e&&x&&T.alternate===null&&r(g,x),p=i(T,p,C),S===null?E=T:S.sibling=T,S=T,x=_}if(k.done)return t(g,x),er&&Da(g,C),E;if(x===null){for(;!k.done;C++,k=y.next())k=c(g,k.value,w),k!==null&&(p=i(k,p,C),S===null?E=k:S.sibling=k,S=k);return er&&Da(g,C),E}for(x=n(g,x);!k.done;C++,k=y.next())k=v(x,g,C,k.value,w),k!==null&&(e&&k.alternate!==null&&x.delete(k.key===null?C:k.key),p=i(k,p,C),S===null?E=k:S.sibling=k,S=k);return e&&x.forEach(function(A){return r(g,A)}),er&&Da(g,C),E}function m(g,p,y,w){if(typeof y=="object"&&y!==null&&y.type===Si&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case vs:e:{for(var E=y.key,S=p;S!==null;){if(S.key===E){if(E=y.type,E===Si){if(S.tag===7){t(g,S.sibling),p=a(S,y.props.children),p.return=g,g=p;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===$n&&Cw(E)===S.type){t(g,S.sibling),p=a(S,y.props),p.ref=Ro(g,S,y),p.return=g,g=p;break e}t(g,S);break}else r(g,S);S=S.sibling}y.type===Si?(p=$a(y.props.children,g.mode,w,y.key),p.return=g,g=p):(w=nl(y.type,y.key,y.props,null,g.mode,w),w.ref=Ro(g,p,y),w.return=g,g=w)}return o(g);case Ei:e:{for(S=y.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){t(g,p.sibling),p=a(p,y.children||[]),p.return=g,g=p;break e}else{t(g,p);break}else r(g,p);p=p.sibling}p=Ic(y,g.mode,w),p.return=g,g=p}return o(g);case $n:return S=y._init,m(g,p,S(y._payload),w)}if(Uo(y))return h(g,p,y,w);if(Co(y))return b(g,p,y,w);Cs(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(t(g,p.sibling),p=a(p,y),p.return=g,g=p):(t(g,p),p=Dc(y,g.mode,w),p.return=g,g=p),o(g)):t(g,p)}return m}var Qi=bR(!0),wR=bR(!1),Al=wa(null),Rl=null,Di=null,m1=null;function y1(){m1=Di=Rl=null}function b1(e){var r=Al.current;Qe(Al),e._currentValue=r}function i0(e,r,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,n!==null&&(n.childLanes|=r)):n!==null&&(n.childLanes&r)!==r&&(n.childLanes|=r),e===t)break;e=e.return}}function Ui(e,r){Rl=e,m1=Di=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(dt=!0),e.firstContext=null)}function Bt(e){var r=e._currentValue;if(m1!==e)if(e={context:e,memoizedValue:r,next:null},Di===null){if(Rl===null)throw Error(ae(308));Di=e,Rl.dependencies={lanes:0,firstContext:e}}else Di=Di.next=e;return r}var qa=null;function w1(e){qa===null?qa=[e]:qa.push(e)}function xR(e,r,t,n){var a=r.interleaved;return a===null?(t.next=t,w1(r)):(t.next=a.next,a.next=t),r.interleaved=t,An(e,n)}function An(e,r){e.lanes|=r;var t=e.alternate;for(t!==null&&(t.lanes|=r),t=e,e=e.return;e!==null;)e.childLanes|=r,t=e.alternate,t!==null&&(t.childLanes|=r),t=e,e=e.return;return t.tag===3?t.stateNode:null}var Un=!1;function x1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ER(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function ta(e,r,t){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ze&2){var a=n.pending;return a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r,An(e,t)}return a=n.interleaved,a===null?(r.next=r,w1(n)):(r.next=a.next,a.next=r),n.interleaved=r,An(e,t)}function Zs(e,r,t){if(r=r.updateQueue,r!==null&&(r=r.shared,(t&4194240)!==0)){var n=r.lanes;n&=e.pendingLanes,t|=n,r.lanes=t,o1(e,t)}}function kw(e,r){var t=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var a=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?a=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?a=i=r:i=i.next=r}else a=i=r;t={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=r:e.next=r,t.lastBaseUpdate=r}function Pl(e,r,t,n){var a=e.updateQueue;Un=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,u=a.shared.pending;if(u!==null){a.shared.pending=null;var s=u,l=s.next;s.next=null,o===null?i=l:o.next=l,o=s;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=l:u.next=l,f.lastBaseUpdate=s))}if(i!==null){var c=a.baseState;o=0,f=l=s=null,u=i;do{var d=u.lane,v=u.eventTime;if((n&d)===d){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var h=e,b=u;switch(d=r,v=t,b.tag){case 1:if(h=b.payload,typeof h=="function"){c=h.call(v,c,d);break e}c=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=b.payload,d=typeof h=="function"?h.call(v,c,d):h,d==null)break e;c=or({},c,d);break e;case 2:Un=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,d=a.effects,d===null?a.effects=[u]:d.push(u))}else v={eventTime:v,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(l=f=v,s=c):f=f.next=v,o|=d;if(u=u.next,u===null){if(u=a.shared.pending,u===null)break;d=u,u=d.next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}while(!0);if(f===null&&(s=c),a.baseState=s,a.firstBaseUpdate=l,a.lastBaseUpdate=f,r=a.shared.interleaved,r!==null){a=r;do o|=a.lane,a=a.next;while(a!==r)}else i===null&&(a.shared.lanes=0);Ka|=o,e.lanes=o,e.memoizedState=c}}function _w(e,r,t){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var n=e[r],a=n.callback;if(a!==null){if(n.callback=null,n=t,typeof a!="function")throw Error(ae(191,a));a.call(n)}}}var Wu={},fn=wa(Wu),Eu=wa(Wu),Su=wa(Wu);function Fa(e){if(e===Wu)throw Error(ae(174));return e}function E1(e,r){switch(Ye(Su,r),Ye(Eu,e),Ye(fn,Wu),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Fy(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Fy(r,e)}Qe(fn),Ye(fn,r)}function Ji(){Qe(fn),Qe(Eu),Qe(Su)}function SR(e){Fa(Su.current);var r=Fa(fn.current),t=Fy(r,e.type);r!==t&&(Ye(Eu,e),Ye(fn,t))}function S1(e){Eu.current===e&&(Qe(fn),Qe(Eu))}var nr=wa(0);function Dl(e){for(var r=e;r!==null;){if(r.tag===13){var t=r.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var kc=[];function C1(){for(var e=0;e<kc.length;e++)kc[e]._workInProgressVersionPrimary=null;kc.length=0}var Qs=Ln.ReactCurrentDispatcher,_c=Ln.ReactCurrentBatchConfig,Wa=0,ar=null,xr=null,Rr=null,Il=!1,au=!1,Cu=0,aB=0;function Ur(){throw Error(ae(321))}function k1(e,r){if(r===null)return!1;for(var t=0;t<r.length&&t<e.length;t++)if(!Zt(e[t],r[t]))return!1;return!0}function _1(e,r,t,n,a,i){if(Wa=i,ar=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Qs.current=e===null||e.memoizedState===null?sB:lB,e=t(n,a),au){i=0;do{if(au=!1,Cu=0,25<=i)throw Error(ae(301));i+=1,Rr=xr=null,r.updateQueue=null,Qs.current=fB,e=t(n,a)}while(au)}if(Qs.current=Ll,r=xr!==null&&xr.next!==null,Wa=0,Rr=xr=ar=null,Il=!1,r)throw Error(ae(300));return e}function T1(){var e=Cu!==0;return Cu=0,e}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?ar.memoizedState=Rr=e:Rr=Rr.next=e,Rr}function Nt(){if(xr===null){var e=ar.alternate;e=e!==null?e.memoizedState:null}else e=xr.next;var r=Rr===null?ar.memoizedState:Rr.next;if(r!==null)Rr=r,xr=e;else{if(e===null)throw Error(ae(310));xr=e,e={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},Rr===null?ar.memoizedState=Rr=e:Rr=Rr.next=e}return Rr}function ku(e,r){return typeof r=="function"?r(e):r}function Tc(e){var r=Nt(),t=r.queue;if(t===null)throw Error(ae(311));t.lastRenderedReducer=e;var n=xr,a=n.baseQueue,i=t.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,t.pending=null}if(a!==null){i=a.next,n=n.baseState;var u=o=null,s=null,l=i;do{var f=l.lane;if((Wa&f)===f)s!==null&&(s=s.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var c={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};s===null?(u=s=c,o=n):s=s.next=c,ar.lanes|=f,Ka|=f}l=l.next}while(l!==null&&l!==i);s===null?o=n:s.next=u,Zt(n,r.memoizedState)||(dt=!0),r.memoizedState=n,r.baseState=o,r.baseQueue=s,t.lastRenderedState=n}if(e=t.interleaved,e!==null){a=e;do i=a.lane,ar.lanes|=i,Ka|=i,a=a.next;while(a!==e)}else a===null&&(t.lanes=0);return[r.memoizedState,t.dispatch]}function Ac(e){var r=Nt(),t=r.queue;if(t===null)throw Error(ae(311));t.lastRenderedReducer=e;var n=t.dispatch,a=t.pending,i=r.memoizedState;if(a!==null){t.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Zt(i,r.memoizedState)||(dt=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),t.lastRenderedState=i}return[i,n]}function CR(){}function kR(e,r){var t=ar,n=Nt(),a=r(),i=!Zt(n.memoizedState,a);if(i&&(n.memoizedState=a,dt=!0),n=n.queue,A1(AR.bind(null,t,n,e),[e]),n.getSnapshot!==r||i||Rr!==null&&Rr.memoizedState.tag&1){if(t.flags|=2048,_u(9,TR.bind(null,t,n,a,r),void 0,null),Pr===null)throw Error(ae(349));Wa&30||_R(t,r,a)}return a}function _R(e,r,t){e.flags|=16384,e={getSnapshot:r,value:t},r=ar.updateQueue,r===null?(r={lastEffect:null,stores:null},ar.updateQueue=r,r.stores=[e]):(t=r.stores,t===null?r.stores=[e]:t.push(e))}function TR(e,r,t,n){r.value=t,r.getSnapshot=n,RR(r)&&PR(e)}function AR(e,r,t){return t(function(){RR(r)&&PR(e)})}function RR(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!Zt(e,t)}catch{return!0}}function PR(e){var r=An(e,1);r!==null&&Yt(r,e,1,-1)}function Tw(e){var r=on();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:e},r.queue=e,e=e.dispatch=uB.bind(null,ar,e),[r.memoizedState,e]}function _u(e,r,t,n){return e={tag:e,create:r,destroy:t,deps:n,next:null},r=ar.updateQueue,r===null?(r={lastEffect:null,stores:null},ar.updateQueue=r,r.lastEffect=e.next=e):(t=r.lastEffect,t===null?r.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,r.lastEffect=e)),e}function DR(){return Nt().memoizedState}function Js(e,r,t,n){var a=on();ar.flags|=e,a.memoizedState=_u(1|r,t,void 0,n===void 0?null:n)}function vf(e,r,t,n){var a=Nt();n=n===void 0?null:n;var i=void 0;if(xr!==null){var o=xr.memoizedState;if(i=o.destroy,n!==null&&k1(n,o.deps)){a.memoizedState=_u(r,t,i,n);return}}ar.flags|=e,a.memoizedState=_u(1|r,t,i,n)}function Aw(e,r){return Js(8390656,8,e,r)}function A1(e,r){return vf(2048,8,e,r)}function IR(e,r){return vf(4,2,e,r)}function LR(e,r){return vf(4,4,e,r)}function OR(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function MR(e,r,t){return t=t!=null?t.concat([e]):null,vf(4,4,OR.bind(null,r,e),t)}function R1(){}function BR(e,r){var t=Nt();r=r===void 0?null:r;var n=t.memoizedState;return n!==null&&r!==null&&k1(r,n[1])?n[0]:(t.memoizedState=[e,r],e)}function NR(e,r){var t=Nt();r=r===void 0?null:r;var n=t.memoizedState;return n!==null&&r!==null&&k1(r,n[1])?n[0]:(e=e(),t.memoizedState=[e,r],e)}function qR(e,r,t){return Wa&21?(Zt(t,r)||(t=UA(),ar.lanes|=t,Ka|=t,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=t)}function iB(e,r){var t=He;He=t!==0&&4>t?t:4,e(!0);var n=_c.transition;_c.transition={};try{e(!1),r()}finally{He=t,_c.transition=n}}function FR(){return Nt().memoizedState}function oB(e,r,t){var n=aa(e);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},zR(e))VR(r,t);else if(t=xR(e,r,t,n),t!==null){var a=tt();Yt(t,e,n,a),$R(t,r,n)}}function uB(e,r,t){var n=aa(e),a={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(zR(e))VR(r,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var o=r.lastRenderedState,u=i(o,t);if(a.hasEagerState=!0,a.eagerState=u,Zt(u,o)){var s=r.interleaved;s===null?(a.next=a,w1(r)):(a.next=s.next,s.next=a),r.interleaved=a;return}}catch{}finally{}t=xR(e,r,a,n),t!==null&&(a=tt(),Yt(t,e,n,a),$R(t,r,n))}}function zR(e){var r=e.alternate;return e===ar||r!==null&&r===ar}function VR(e,r){au=Il=!0;var t=e.pending;t===null?r.next=r:(r.next=t.next,t.next=r),e.pending=r}function $R(e,r,t){if(t&4194240){var n=r.lanes;n&=e.pendingLanes,t|=n,r.lanes=t,o1(e,t)}}var Ll={readContext:Bt,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useInsertionEffect:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useSyncExternalStore:Ur,useId:Ur,unstable_isNewReconciler:!1},sB={readContext:Bt,useCallback:function(e,r){return on().memoizedState=[e,r===void 0?null:r],e},useContext:Bt,useEffect:Aw,useImperativeHandle:function(e,r,t){return t=t!=null?t.concat([e]):null,Js(4194308,4,OR.bind(null,r,e),t)},useLayoutEffect:function(e,r){return Js(4194308,4,e,r)},useInsertionEffect:function(e,r){return Js(4,2,e,r)},useMemo:function(e,r){var t=on();return r=r===void 0?null:r,e=e(),t.memoizedState=[e,r],e},useReducer:function(e,r,t){var n=on();return r=t!==void 0?t(r):r,n.memoizedState=n.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=oB.bind(null,ar,e),[n.memoizedState,e]},useRef:function(e){var r=on();return e={current:e},r.memoizedState=e},useState:Tw,useDebugValue:R1,useDeferredValue:function(e){return on().memoizedState=e},useTransition:function(){var e=Tw(!1),r=e[0];return e=iB.bind(null,e[1]),on().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,t){var n=ar,a=on();if(er){if(t===void 0)throw Error(ae(407));t=t()}else{if(t=r(),Pr===null)throw Error(ae(349));Wa&30||_R(n,r,t)}a.memoizedState=t;var i={value:t,getSnapshot:r};return a.queue=i,Aw(AR.bind(null,n,i,e),[e]),n.flags|=2048,_u(9,TR.bind(null,n,i,t,r),void 0,null),t},useId:function(){var e=on(),r=Pr.identifierPrefix;if(er){var t=Sn,n=En;t=(n&~(1<<32-jt(n)-1)).toString(32)+t,r=":"+r+"R"+t,t=Cu++,0<t&&(r+="H"+t.toString(32)),r+=":"}else t=aB++,r=":"+r+"r"+t.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},lB={readContext:Bt,useCallback:BR,useContext:Bt,useEffect:A1,useImperativeHandle:MR,useInsertionEffect:IR,useLayoutEffect:LR,useMemo:NR,useReducer:Tc,useRef:DR,useState:function(){return Tc(ku)},useDebugValue:R1,useDeferredValue:function(e){var r=Nt();return qR(r,xr.memoizedState,e)},useTransition:function(){var e=Tc(ku)[0],r=Nt().memoizedState;return[e,r]},useMutableSource:CR,useSyncExternalStore:kR,useId:FR,unstable_isNewReconciler:!1},fB={readContext:Bt,useCallback:BR,useContext:Bt,useEffect:A1,useImperativeHandle:MR,useInsertionEffect:IR,useLayoutEffect:LR,useMemo:NR,useReducer:Ac,useRef:DR,useState:function(){return Ac(ku)},useDebugValue:R1,useDeferredValue:function(e){var r=Nt();return xr===null?r.memoizedState=e:qR(r,xr.memoizedState,e)},useTransition:function(){var e=Ac(ku)[0],r=Nt().memoizedState;return[e,r]},useMutableSource:CR,useSyncExternalStore:kR,useId:FR,unstable_isNewReconciler:!1};function Ut(e,r){if(e&&e.defaultProps){r=or({},r),e=e.defaultProps;for(var t in e)r[t]===void 0&&(r[t]=e[t]);return r}return r}function o0(e,r,t,n){r=e.memoizedState,t=t(n,r),t=t==null?r:or({},r,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var hf={isMounted:function(e){return(e=e._reactInternals)?ri(e)===e:!1},enqueueSetState:function(e,r,t){e=e._reactInternals;var n=tt(),a=aa(e),i=kn(n,a);i.payload=r,t!=null&&(i.callback=t),r=ta(e,i,a),r!==null&&(Yt(r,e,a,n),Zs(r,e,a))},enqueueReplaceState:function(e,r,t){e=e._reactInternals;var n=tt(),a=aa(e),i=kn(n,a);i.tag=1,i.payload=r,t!=null&&(i.callback=t),r=ta(e,i,a),r!==null&&(Yt(r,e,a,n),Zs(r,e,a))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var t=tt(),n=aa(e),a=kn(t,n);a.tag=2,r!=null&&(a.callback=r),r=ta(e,a,n),r!==null&&(Yt(r,e,n,t),Zs(r,e,n))}};function Rw(e,r,t,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):r.prototype&&r.prototype.isPureReactComponent?!yu(t,n)||!yu(a,i):!0}function UR(e,r,t){var n=!1,a=fa,i=r.contextType;return typeof i=="object"&&i!==null?i=Bt(i):(a=gt(r)?Ga:Wr.current,n=r.contextTypes,i=(n=n!=null)?Xi(e,a):fa),r=new r(t,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=hf,e.stateNode=r,r._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),r}function Pw(e,r,t,n){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(t,n),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(t,n),r.state!==e&&hf.enqueueReplaceState(r,r.state,null)}function u0(e,r,t,n){var a=e.stateNode;a.props=t,a.state=e.memoizedState,a.refs={},x1(e);var i=r.contextType;typeof i=="object"&&i!==null?a.context=Bt(i):(i=gt(r)?Ga:Wr.current,a.context=Xi(e,i)),a.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(o0(e,r,i,t),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&hf.enqueueReplaceState(a,a.state,null),Pl(e,t,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function eo(e,r){try{var t="",n=r;do t+=qO(n),n=n.return;while(n);var a=t}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:a,digest:null}}function Rc(e,r,t){return{value:e,source:null,stack:t??null,digest:r??null}}function s0(e,r){try{console.error(r.value)}catch(t){setTimeout(function(){throw t})}}var cB=typeof WeakMap=="function"?WeakMap:Map;function GR(e,r,t){t=kn(-1,t),t.tag=3,t.payload={element:null};var n=r.value;return t.callback=function(){Ml||(Ml=!0,y0=n),s0(e,r)},t}function HR(e,r,t){t=kn(-1,t),t.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=r.value;t.payload=function(){return n(a)},t.callback=function(){s0(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){s0(e,r),typeof n!="function"&&(na===null?na=new Set([this]):na.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})}),t}function Dw(e,r,t){var n=e.pingCache;if(n===null){n=e.pingCache=new cB;var a=new Set;n.set(r,a)}else a=n.get(r),a===void 0&&(a=new Set,n.set(r,a));a.has(t)||(a.add(t),e=kB.bind(null,e,r,t),r.then(e,e))}function Iw(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Lw(e,r,t,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===r?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(r=kn(-1,1),r.tag=2,ta(t,r,1))),t.lanes|=1),e)}var dB=Ln.ReactCurrentOwner,dt=!1;function et(e,r,t,n){r.child=e===null?wR(r,null,t,n):Qi(r,e.child,t,n)}function Ow(e,r,t,n,a){t=t.render;var i=r.ref;return Ui(r,a),n=_1(e,r,t,n,i,a),t=T1(),e!==null&&!dt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,Rn(e,r,a)):(er&&t&&h1(r),r.flags|=1,et(e,r,n,a),r.child)}function Mw(e,r,t,n,a){if(e===null){var i=t.type;return typeof i=="function"&&!N1(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(r.tag=15,r.type=i,WR(e,r,i,n,a)):(e=nl(t.type,null,n,r,r.mode,a),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:yu,t(o,n)&&e.ref===r.ref)return Rn(e,r,a)}return r.flags|=1,e=ia(i,n),e.ref=r.ref,e.return=r,r.child=e}function WR(e,r,t,n,a){if(e!==null){var i=e.memoizedProps;if(yu(i,n)&&e.ref===r.ref)if(dt=!1,r.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(dt=!0);else return r.lanes=e.lanes,Rn(e,r,a)}return l0(e,r,t,n,a)}function KR(e,r,t){var n=r.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Li,wt),wt|=t;else{if(!(t&1073741824))return e=i!==null?i.baseLanes|t:t,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Ye(Li,wt),wt|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:t,Ye(Li,wt),wt|=n}else i!==null?(n=i.baseLanes|t,r.memoizedState=null):n=t,Ye(Li,wt),wt|=n;return et(e,r,a,t),r.child}function jR(e,r){var t=r.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(r.flags|=512,r.flags|=2097152)}function l0(e,r,t,n,a){var i=gt(t)?Ga:Wr.current;return i=Xi(r,i),Ui(r,a),t=_1(e,r,t,n,i,a),n=T1(),e!==null&&!dt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,Rn(e,r,a)):(er&&n&&h1(r),r.flags|=1,et(e,r,t,a),r.child)}function Bw(e,r,t,n,a){if(gt(t)){var i=!0;kl(r)}else i=!1;if(Ui(r,a),r.stateNode===null)el(e,r),UR(r,t,n),u0(r,t,n,a),n=!0;else if(e===null){var o=r.stateNode,u=r.memoizedProps;o.props=u;var s=o.context,l=t.contextType;typeof l=="object"&&l!==null?l=Bt(l):(l=gt(t)?Ga:Wr.current,l=Xi(r,l));var f=t.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||s!==l)&&Pw(r,o,n,l),Un=!1;var d=r.memoizedState;o.state=d,Pl(r,n,o,a),s=r.memoizedState,u!==n||d!==s||pt.current||Un?(typeof f=="function"&&(o0(r,t,f,n),s=r.memoizedState),(u=Un||Rw(r,t,u,n,d,s,l))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(r.flags|=4194308)):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=n,r.memoizedState=s),o.props=n,o.state=s,o.context=l,n=u):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),n=!1)}else{o=r.stateNode,ER(e,r),u=r.memoizedProps,l=r.type===r.elementType?u:Ut(r.type,u),o.props=l,c=r.pendingProps,d=o.context,s=t.contextType,typeof s=="object"&&s!==null?s=Bt(s):(s=gt(t)?Ga:Wr.current,s=Xi(r,s));var v=t.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==c||d!==s)&&Pw(r,o,n,s),Un=!1,d=r.memoizedState,o.state=d,Pl(r,n,o,a);var h=r.memoizedState;u!==c||d!==h||pt.current||Un?(typeof v=="function"&&(o0(r,t,v,n),h=r.memoizedState),(l=Un||Rw(r,t,l,n,d,h,s)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,h,s),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,h,s)),typeof o.componentDidUpdate=="function"&&(r.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&d===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&d===e.memoizedState||(r.flags|=1024),r.memoizedProps=n,r.memoizedState=h),o.props=n,o.state=h,o.context=s,n=l):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&d===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&d===e.memoizedState||(r.flags|=1024),n=!1)}return f0(e,r,t,n,i,a)}function f0(e,r,t,n,a,i){jR(e,r);var o=(r.flags&128)!==0;if(!n&&!o)return a&&xw(r,t,!1),Rn(e,r,i);n=r.stateNode,dB.current=r;var u=o&&typeof t.getDerivedStateFromError!="function"?null:n.render();return r.flags|=1,e!==null&&o?(r.child=Qi(r,e.child,null,i),r.child=Qi(r,null,u,i)):et(e,r,u,i),r.memoizedState=n.state,a&&xw(r,t,!0),r.child}function YR(e){var r=e.stateNode;r.pendingContext?ww(e,r.pendingContext,r.pendingContext!==r.context):r.context&&ww(e,r.context,!1),E1(e,r.containerInfo)}function Nw(e,r,t,n,a){return Zi(),g1(a),r.flags|=256,et(e,r,t,n),r.child}var c0={dehydrated:null,treeContext:null,retryLane:0};function d0(e){return{baseLanes:e,cachePool:null,transitions:null}}function XR(e,r,t){var n=r.pendingProps,a=nr.current,i=!1,o=(r.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(a&2)!==0),u?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ye(nr,a&1),e===null)return a0(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(o=n.children,e=n.fallback,i?(n=r.mode,i=r.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mf(o,n,0,null),e=$a(e,n,t,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=d0(t),r.memoizedState=c0,e):P1(r,o));if(a=e.memoizedState,a!==null&&(u=a.dehydrated,u!==null))return vB(e,r,o,n,u,a,t);if(i){i=n.fallback,o=r.mode,a=e.child,u=a.sibling;var s={mode:"hidden",children:n.children};return!(o&1)&&r.child!==a?(n=r.child,n.childLanes=0,n.pendingProps=s,r.deletions=null):(n=ia(a,s),n.subtreeFlags=a.subtreeFlags&14680064),u!==null?i=ia(u,i):(i=$a(i,o,t,null),i.flags|=2),i.return=r,n.return=r,n.sibling=i,r.child=n,n=i,i=r.child,o=e.child.memoizedState,o=o===null?d0(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~t,r.memoizedState=c0,n}return i=e.child,e=i.sibling,n=ia(i,{mode:"visible",children:n.children}),!(r.mode&1)&&(n.lanes=t),n.return=r,n.sibling=null,e!==null&&(t=r.deletions,t===null?(r.deletions=[e],r.flags|=16):t.push(e)),r.child=n,r.memoizedState=null,n}function P1(e,r){return r=mf({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function ks(e,r,t,n){return n!==null&&g1(n),Qi(r,e.child,null,t),e=P1(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function vB(e,r,t,n,a,i,o){if(t)return r.flags&256?(r.flags&=-257,n=Rc(Error(ae(422))),ks(e,r,o,n)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=n.fallback,a=r.mode,n=mf({mode:"visible",children:n.children},a,0,null),i=$a(i,a,o,null),i.flags|=2,n.return=r,i.return=r,n.sibling=i,r.child=n,r.mode&1&&Qi(r,e.child,null,o),r.child.memoizedState=d0(o),r.memoizedState=c0,i);if(!(r.mode&1))return ks(e,r,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var u=n.dgst;return n=u,i=Error(ae(419)),n=Rc(i,n,void 0),ks(e,r,o,n)}if(u=(o&e.childLanes)!==0,dt||u){if(n=Pr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,An(e,a),Yt(n,e,a,-1))}return B1(),n=Rc(Error(ae(421))),ks(e,r,o,n)}return a.data==="$?"?(r.flags|=128,r.child=e.child,r=_B.bind(null,e),a._reactRetry=r,null):(e=i.treeContext,Et=ra(a.nextSibling),St=r,er=!0,Kt=null,e!==null&&(Pt[Dt++]=En,Pt[Dt++]=Sn,Pt[Dt++]=Ha,En=e.id,Sn=e.overflow,Ha=r),r=P1(r,n.children),r.flags|=4096,r)}function qw(e,r,t){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r),i0(e.return,r,t)}function Pc(e,r,t,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:a}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=t,i.tailMode=a)}function ZR(e,r,t){var n=r.pendingProps,a=n.revealOrder,i=n.tail;if(et(e,r,n.children,t),n=nr.current,n&2)n=n&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qw(e,t,r);else if(e.tag===19)qw(e,t,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ye(nr,n),!(r.mode&1))r.memoizedState=null;else switch(a){case"forwards":for(t=r.child,a=null;t!==null;)e=t.alternate,e!==null&&Dl(e)===null&&(a=t),t=t.sibling;t=a,t===null?(a=r.child,r.child=null):(a=t.sibling,t.sibling=null),Pc(r,!1,a,t,i);break;case"backwards":for(t=null,a=r.child,r.child=null;a!==null;){if(e=a.alternate,e!==null&&Dl(e)===null){r.child=a;break}e=a.sibling,a.sibling=t,t=a,a=e}Pc(r,!0,t,null,i);break;case"together":Pc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function el(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Rn(e,r,t){if(e!==null&&(r.dependencies=e.dependencies),Ka|=r.lanes,!(t&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(ae(153));if(r.child!==null){for(e=r.child,t=ia(e,e.pendingProps),r.child=t,t.return=r;e.sibling!==null;)e=e.sibling,t=t.sibling=ia(e,e.pendingProps),t.return=r;t.sibling=null}return r.child}function hB(e,r,t){switch(r.tag){case 3:YR(r),Zi();break;case 5:SR(r);break;case 1:gt(r.type)&&kl(r);break;case 4:E1(r,r.stateNode.containerInfo);break;case 10:var n=r.type._context,a=r.memoizedProps.value;Ye(Al,n._currentValue),n._currentValue=a;break;case 13:if(n=r.memoizedState,n!==null)return n.dehydrated!==null?(Ye(nr,nr.current&1),r.flags|=128,null):t&r.child.childLanes?XR(e,r,t):(Ye(nr,nr.current&1),e=Rn(e,r,t),e!==null?e.sibling:null);Ye(nr,nr.current&1);break;case 19:if(n=(t&r.childLanes)!==0,e.flags&128){if(n)return ZR(e,r,t);r.flags|=128}if(a=r.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ye(nr,nr.current),n)break;return null;case 22:case 23:return r.lanes=0,KR(e,r,t)}return Rn(e,r,t)}var QR,v0,JR,eP;QR=function(e,r){for(var t=r.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};v0=function(){};JR=function(e,r,t,n){var a=e.memoizedProps;if(a!==n){e=r.stateNode,Fa(fn.current);var i=null;switch(t){case"input":a=My(e,a),n=My(e,n),i=[];break;case"select":a=or({},a,{value:void 0}),n=or({},n,{value:void 0}),i=[];break;case"textarea":a=qy(e,a),n=qy(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Sl)}zy(t,n);var o;t=null;for(l in a)if(!n.hasOwnProperty(l)&&a.hasOwnProperty(l)&&a[l]!=null)if(l==="style"){var u=a[l];for(o in u)u.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(cu.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var s=n[l];if(u=a!=null?a[l]:void 0,n.hasOwnProperty(l)&&s!==u&&(s!=null||u!=null))if(l==="style")if(u){for(o in u)!u.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in s)s.hasOwnProperty(o)&&u[o]!==s[o]&&(t||(t={}),t[o]=s[o])}else t||(i||(i=[]),i.push(l,t)),t=s;else l==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,u=u?u.__html:void 0,s!=null&&u!==s&&(i=i||[]).push(l,s)):l==="children"?typeof s!="string"&&typeof s!="number"||(i=i||[]).push(l,""+s):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(cu.hasOwnProperty(l)?(s!=null&&l==="onScroll"&&Ze("scroll",e),i||u===s||(i=[])):(i=i||[]).push(l,s))}t&&(i=i||[]).push("style",t);var l=i;(r.updateQueue=l)&&(r.flags|=4)}};eP=function(e,r,t,n){t!==n&&(r.flags|=4)};function Po(e,r){if(!er)switch(e.tailMode){case"hidden":r=e.tail;for(var t=null;r!==null;)r.alternate!==null&&(t=r),r=r.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gr(e){var r=e.alternate!==null&&e.alternate.child===e.child,t=0,n=0;if(r)for(var a=e.child;a!==null;)t|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)t|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=t,r}function pB(e,r,t){var n=r.pendingProps;switch(p1(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(r),null;case 1:return gt(r.type)&&Cl(),Gr(r),null;case 3:return n=r.stateNode,Ji(),Qe(pt),Qe(Wr),C1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ss(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Kt!==null&&(x0(Kt),Kt=null))),v0(e,r),Gr(r),null;case 5:S1(r);var a=Fa(Su.current);if(t=r.type,e!==null&&r.stateNode!=null)JR(e,r,t,n,a),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!n){if(r.stateNode===null)throw Error(ae(166));return Gr(r),null}if(e=Fa(fn.current),Ss(r)){n=r.stateNode,t=r.type;var i=r.memoizedProps;switch(n[un]=r,n[xu]=i,e=(r.mode&1)!==0,t){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(a=0;a<Ho.length;a++)Ze(Ho[a],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":Kb(n,i),Ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ze("invalid",n);break;case"textarea":Yb(n,i),Ze("invalid",n)}zy(t,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var u=i[o];o==="children"?typeof u=="string"?n.textContent!==u&&(i.suppressHydrationWarning!==!0&&Es(n.textContent,u,e),a=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Es(n.textContent,u,e),a=["children",""+u]):cu.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Ze("scroll",n)}switch(t){case"input":hs(n),jb(n,i,!0);break;case"textarea":hs(n),Xb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Sl)}n=a,r.updateQueue=n,n!==null&&(r.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AA(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(t,{is:n.is}):(e=o.createElement(t),t==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,t),e[un]=r,e[xu]=n,QR(e,r,!1,!1),r.stateNode=e;e:{switch(o=Vy(t,n),t){case"dialog":Ze("cancel",e),Ze("close",e),a=n;break;case"iframe":case"object":case"embed":Ze("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ho.length;a++)Ze(Ho[a],e);a=n;break;case"source":Ze("error",e),a=n;break;case"img":case"image":case"link":Ze("error",e),Ze("load",e),a=n;break;case"details":Ze("toggle",e),a=n;break;case"input":Kb(e,n),a=My(e,n),Ze("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=or({},n,{value:void 0}),Ze("invalid",e);break;case"textarea":Yb(e,n),a=qy(e,n),Ze("invalid",e);break;default:a=n}zy(t,a),u=a;for(i in u)if(u.hasOwnProperty(i)){var s=u[i];i==="style"?DA(e,s):i==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&RA(e,s)):i==="children"?typeof s=="string"?(t!=="textarea"||s!=="")&&du(e,s):typeof s=="number"&&du(e,""+s):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cu.hasOwnProperty(i)?s!=null&&i==="onScroll"&&Ze("scroll",e):s!=null&&e1(e,i,s,o))}switch(t){case"input":hs(e),jb(e,n,!1);break;case"textarea":hs(e),Xb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+la(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Fi(e,!!n.multiple,i,!1):n.defaultValue!=null&&Fi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Sl)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Gr(r),null;case 6:if(e&&r.stateNode!=null)eP(e,r,e.memoizedProps,n);else{if(typeof n!="string"&&r.stateNode===null)throw Error(ae(166));if(t=Fa(Su.current),Fa(fn.current),Ss(r)){if(n=r.stateNode,t=r.memoizedProps,n[un]=r,(i=n.nodeValue!==t)&&(e=St,e!==null))switch(e.tag){case 3:Es(n.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Es(n.nodeValue,t,(e.mode&1)!==0)}i&&(r.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[un]=r,r.stateNode=n}return Gr(r),null;case 13:if(Qe(nr),n=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(er&&Et!==null&&r.mode&1&&!(r.flags&128))yR(),Zi(),r.flags|=98560,i=!1;else if(i=Ss(r),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ae(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ae(317));i[un]=r}else Zi(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Gr(r),i=!1}else Kt!==null&&(x0(Kt),Kt=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=t,r):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(r.child.flags|=8192,r.mode&1&&(e===null||nr.current&1?Sr===0&&(Sr=3):B1())),r.updateQueue!==null&&(r.flags|=4),Gr(r),null);case 4:return Ji(),v0(e,r),e===null&&bu(r.stateNode.containerInfo),Gr(r),null;case 10:return b1(r.type._context),Gr(r),null;case 17:return gt(r.type)&&Cl(),Gr(r),null;case 19:if(Qe(nr),i=r.memoizedState,i===null)return Gr(r),null;if(n=(r.flags&128)!==0,o=i.rendering,o===null)if(n)Po(i,!1);else{if(Sr!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(o=Dl(e),o!==null){for(r.flags|=128,Po(i,!1),n=o.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=t,t=r.child;t!==null;)i=t,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return Ye(nr,nr.current&1|2),r.child}e=e.sibling}i.tail!==null&&fr()>ro&&(r.flags|=128,n=!0,Po(i,!1),r.lanes=4194304)}else{if(!n)if(e=Dl(o),e!==null){if(r.flags|=128,n=!0,t=e.updateQueue,t!==null&&(r.updateQueue=t,r.flags|=4),Po(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!er)return Gr(r),null}else 2*fr()-i.renderingStartTime>ro&&t!==1073741824&&(r.flags|=128,n=!0,Po(i,!1),r.lanes=4194304);i.isBackwards?(o.sibling=r.child,r.child=o):(t=i.last,t!==null?t.sibling=o:r.child=o,i.last=o)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=fr(),r.sibling=null,t=nr.current,Ye(nr,n?t&1|2:t&1),r):(Gr(r),null);case 22:case 23:return M1(),n=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(r.flags|=8192),n&&r.mode&1?wt&1073741824&&(Gr(r),r.subtreeFlags&6&&(r.flags|=8192)):Gr(r),null;case 24:return null;case 25:return null}throw Error(ae(156,r.tag))}function gB(e,r){switch(p1(r),r.tag){case 1:return gt(r.type)&&Cl(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Ji(),Qe(pt),Qe(Wr),C1(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return S1(r),null;case 13:if(Qe(nr),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(ae(340));Zi()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Qe(nr),null;case 4:return Ji(),null;case 10:return b1(r.type._context),null;case 22:case 23:return M1(),null;case 24:return null;default:return null}}var _s=!1,Hr=!1,mB=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Ii(e,r){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){sr(e,r,n)}else t.current=null}function h0(e,r,t){try{t()}catch(n){sr(e,r,n)}}var Fw=!1;function yB(e,r){if(Zy=wl,e=iR(),v1(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,u=-1,s=-1,l=0,f=0,c=e,d=null;r:for(;;){for(var v;c!==t||a!==0&&c.nodeType!==3||(u=o+a),c!==i||n!==0&&c.nodeType!==3||(s=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(v=c.firstChild)!==null;)d=c,c=v;for(;;){if(c===e)break r;if(d===t&&++l===a&&(u=o),d===i&&++f===n&&(s=o),(v=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=v}t=u===-1||s===-1?null:{start:u,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;for(Qy={focusedElem:e,selectionRange:t},wl=!1,fe=r;fe!==null;)if(r=fe,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,fe=e;else for(;fe!==null;){r=fe;try{var h=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var b=h.memoizedProps,m=h.memoizedState,g=r.stateNode,p=g.getSnapshotBeforeUpdate(r.elementType===r.type?b:Ut(r.type,b),m);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=r.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(w){sr(r,r.return,w)}if(e=r.sibling,e!==null){e.return=r.return,fe=e;break}fe=r.return}return h=Fw,Fw=!1,h}function iu(e,r,t){var n=r.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&h0(r,t,i)}a=a.next}while(a!==n)}}function pf(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var t=r=r.next;do{if((t.tag&e)===e){var n=t.create;t.destroy=n()}t=t.next}while(t!==r)}}function p0(e){var r=e.ref;if(r!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof r=="function"?r(e):r.current=e}}function rP(e){var r=e.alternate;r!==null&&(e.alternate=null,rP(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[un],delete r[xu],delete r[r0],delete r[eB],delete r[rB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tP(e){return e.tag===5||e.tag===3||e.tag===4}function zw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function g0(e,r,t){var n=e.tag;if(n===5||n===6)e=e.stateNode,r?t.nodeType===8?t.parentNode.insertBefore(e,r):t.insertBefore(e,r):(t.nodeType===8?(r=t.parentNode,r.insertBefore(e,t)):(r=t,r.appendChild(e)),t=t._reactRootContainer,t!=null||r.onclick!==null||(r.onclick=Sl));else if(n!==4&&(e=e.child,e!==null))for(g0(e,r,t),e=e.sibling;e!==null;)g0(e,r,t),e=e.sibling}function m0(e,r,t){var n=e.tag;if(n===5||n===6)e=e.stateNode,r?t.insertBefore(e,r):t.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(m0(e,r,t),e=e.sibling;e!==null;)m0(e,r,t),e=e.sibling}var Or=null,Ht=!1;function Fn(e,r,t){for(t=t.child;t!==null;)nP(e,r,t),t=t.sibling}function nP(e,r,t){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(uf,t)}catch{}switch(t.tag){case 5:Hr||Ii(t,r);case 6:var n=Or,a=Ht;Or=null,Fn(e,r,t),Or=n,Ht=a,Or!==null&&(Ht?(e=Or,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):Or.removeChild(t.stateNode));break;case 18:Or!==null&&(Ht?(e=Or,t=t.stateNode,e.nodeType===8?Sc(e.parentNode,t):e.nodeType===1&&Sc(e,t),gu(e)):Sc(Or,t.stateNode));break;case 4:n=Or,a=Ht,Or=t.stateNode.containerInfo,Ht=!0,Fn(e,r,t),Or=n,Ht=a;break;case 0:case 11:case 14:case 15:if(!Hr&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&h0(t,r,o),a=a.next}while(a!==n)}Fn(e,r,t);break;case 1:if(!Hr&&(Ii(t,r),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(u){sr(t,r,u)}Fn(e,r,t);break;case 21:Fn(e,r,t);break;case 22:t.mode&1?(Hr=(n=Hr)||t.memoizedState!==null,Fn(e,r,t),Hr=n):Fn(e,r,t);break;default:Fn(e,r,t)}}function Vw(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new mB),r.forEach(function(n){var a=TB.bind(null,e,n);t.has(n)||(t.add(n),n.then(a,a))})}}function $t(e,r){var t=r.deletions;if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];try{var i=e,o=r,u=o;e:for(;u!==null;){switch(u.tag){case 5:Or=u.stateNode,Ht=!1;break e;case 3:Or=u.stateNode.containerInfo,Ht=!0;break e;case 4:Or=u.stateNode.containerInfo,Ht=!0;break e}u=u.return}if(Or===null)throw Error(ae(160));nP(i,o,a),Or=null,Ht=!1;var s=a.alternate;s!==null&&(s.return=null),a.return=null}catch(l){sr(a,r,l)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)aP(r,e),r=r.sibling}function aP(e,r){var t=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(r,e),rn(e),n&4){try{iu(3,e,e.return),pf(3,e)}catch(b){sr(e,e.return,b)}try{iu(5,e,e.return)}catch(b){sr(e,e.return,b)}}break;case 1:$t(r,e),rn(e),n&512&&t!==null&&Ii(t,t.return);break;case 5:if($t(r,e),rn(e),n&512&&t!==null&&Ii(t,t.return),e.flags&32){var a=e.stateNode;try{du(a,"")}catch(b){sr(e,e.return,b)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=t!==null?t.memoizedProps:i,u=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&_A(a,i),Vy(u,o);var l=Vy(u,i);for(o=0;o<s.length;o+=2){var f=s[o],c=s[o+1];f==="style"?DA(a,c):f==="dangerouslySetInnerHTML"?RA(a,c):f==="children"?du(a,c):e1(a,f,c,l)}switch(u){case"input":By(a,i);break;case"textarea":TA(a,i);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Fi(a,!!i.multiple,v,!1):d!==!!i.multiple&&(i.defaultValue!=null?Fi(a,!!i.multiple,i.defaultValue,!0):Fi(a,!!i.multiple,i.multiple?[]:"",!1))}a[xu]=i}catch(b){sr(e,e.return,b)}}break;case 6:if($t(r,e),rn(e),n&4){if(e.stateNode===null)throw Error(ae(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){sr(e,e.return,b)}}break;case 3:if($t(r,e),rn(e),n&4&&t!==null&&t.memoizedState.isDehydrated)try{gu(r.containerInfo)}catch(b){sr(e,e.return,b)}break;case 4:$t(r,e),rn(e);break;case 13:$t(r,e),rn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(L1=fr())),n&4&&Vw(e);break;case 22:if(f=t!==null&&t.memoizedState!==null,e.mode&1?(Hr=(l=Hr)||f,$t(r,e),Hr=l):$t(r,e),rn(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!f&&e.mode&1)for(fe=e,f=e.child;f!==null;){for(c=fe=f;fe!==null;){switch(d=fe,v=d.child,d.tag){case 0:case 11:case 14:case 15:iu(4,d,d.return);break;case 1:Ii(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){n=d,t=d.return;try{r=n,h.props=r.memoizedProps,h.state=r.memoizedState,h.componentWillUnmount()}catch(b){sr(n,t,b)}}break;case 5:Ii(d,d.return);break;case 22:if(d.memoizedState!==null){Uw(c);continue}}v!==null?(v.return=d,fe=v):Uw(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{a=c.stateNode,l?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=c.stateNode,s=c.memoizedProps.style,o=s!=null&&s.hasOwnProperty("display")?s.display:null,u.style.display=PA("display",o))}catch(b){sr(e,e.return,b)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(b){sr(e,e.return,b)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:$t(r,e),rn(e),n&4&&Vw(e);break;case 21:break;default:$t(r,e),rn(e)}}function rn(e){var r=e.flags;if(r&2){try{e:{for(var t=e.return;t!==null;){if(tP(t)){var n=t;break e}t=t.return}throw Error(ae(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(du(a,""),n.flags&=-33);var i=zw(e);m0(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,u=zw(e);g0(e,u,o);break;default:throw Error(ae(161))}}catch(s){sr(e,e.return,s)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function bB(e,r,t){fe=e,iP(e)}function iP(e,r,t){for(var n=(e.mode&1)!==0;fe!==null;){var a=fe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||_s;if(!o){var u=a.alternate,s=u!==null&&u.memoizedState!==null||Hr;u=_s;var l=Hr;if(_s=o,(Hr=s)&&!l)for(fe=a;fe!==null;)o=fe,s=o.child,o.tag===22&&o.memoizedState!==null?Gw(a):s!==null?(s.return=o,fe=s):Gw(a);for(;i!==null;)fe=i,iP(i),i=i.sibling;fe=a,_s=u,Hr=l}$w(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,fe=i):$w(e)}}function $w(e){for(;fe!==null;){var r=fe;if(r.flags&8772){var t=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Hr||pf(5,r);break;case 1:var n=r.stateNode;if(r.flags&4&&!Hr)if(t===null)n.componentDidMount();else{var a=r.elementType===r.type?t.memoizedProps:Ut(r.type,t.memoizedProps);n.componentDidUpdate(a,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&_w(r,i,n);break;case 3:var o=r.updateQueue;if(o!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}_w(r,o,t)}break;case 5:var u=r.stateNode;if(t===null&&r.flags&4){t=u;var s=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&t.focus();break;case"img":s.src&&(t.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var l=r.alternate;if(l!==null){var f=l.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&gu(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Hr||r.flags&512&&p0(r)}catch(d){sr(r,r.return,d)}}if(r===e){fe=null;break}if(t=r.sibling,t!==null){t.return=r.return,fe=t;break}fe=r.return}}function Uw(e){for(;fe!==null;){var r=fe;if(r===e){fe=null;break}var t=r.sibling;if(t!==null){t.return=r.return,fe=t;break}fe=r.return}}function Gw(e){for(;fe!==null;){var r=fe;try{switch(r.tag){case 0:case 11:case 15:var t=r.return;try{pf(4,r)}catch(s){sr(r,t,s)}break;case 1:var n=r.stateNode;if(typeof n.componentDidMount=="function"){var a=r.return;try{n.componentDidMount()}catch(s){sr(r,a,s)}}var i=r.return;try{p0(r)}catch(s){sr(r,i,s)}break;case 5:var o=r.return;try{p0(r)}catch(s){sr(r,o,s)}}}catch(s){sr(r,r.return,s)}if(r===e){fe=null;break}var u=r.sibling;if(u!==null){u.return=r.return,fe=u;break}fe=r.return}}var wB=Math.ceil,Ol=Ln.ReactCurrentDispatcher,D1=Ln.ReactCurrentOwner,Mt=Ln.ReactCurrentBatchConfig,ze=0,Pr=null,pr=null,Mr=0,wt=0,Li=wa(0),Sr=0,Tu=null,Ka=0,gf=0,I1=0,ou=null,lt=null,L1=0,ro=1/0,bn=null,Ml=!1,y0=null,na=null,Ts=!1,jn=null,Bl=0,uu=0,b0=null,rl=-1,tl=0;function tt(){return ze&6?fr():rl!==-1?rl:rl=fr()}function aa(e){return e.mode&1?ze&2&&Mr!==0?Mr&-Mr:nB.transition!==null?(tl===0&&(tl=UA()),tl):(e=He,e!==0||(e=window.event,e=e===void 0?16:XA(e.type)),e):1}function Yt(e,r,t,n){if(50<uu)throw uu=0,b0=null,Error(ae(185));Uu(e,t,n),(!(ze&2)||e!==Pr)&&(e===Pr&&(!(ze&2)&&(gf|=t),Sr===4&&Wn(e,Mr)),mt(e,n),t===1&&ze===0&&!(r.mode&1)&&(ro=fr()+500,df&&xa()))}function mt(e,r){var t=e.callbackNode;nM(e,r);var n=bl(e,e===Pr?Mr:0);if(n===0)t!==null&&Jb(t),e.callbackNode=null,e.callbackPriority=0;else if(r=n&-n,e.callbackPriority!==r){if(t!=null&&Jb(t),r===1)e.tag===0?tB(Hw.bind(null,e)):pR(Hw.bind(null,e)),QM(function(){!(ze&6)&&xa()}),t=null;else{switch(GA(n)){case 1:t=i1;break;case 4:t=VA;break;case 16:t=yl;break;case 536870912:t=$A;break;default:t=yl}t=vP(t,oP.bind(null,e))}e.callbackPriority=r,e.callbackNode=t}}function oP(e,r){if(rl=-1,tl=0,ze&6)throw Error(ae(327));var t=e.callbackNode;if(Gi()&&e.callbackNode!==t)return null;var n=bl(e,e===Pr?Mr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||r)r=Nl(e,n);else{r=n;var a=ze;ze|=2;var i=sP();(Pr!==e||Mr!==r)&&(bn=null,ro=fr()+500,Va(e,r));do try{SB();break}catch(u){uP(e,u)}while(!0);y1(),Ol.current=i,ze=a,pr!==null?r=0:(Pr=null,Mr=0,r=Sr)}if(r!==0){if(r===2&&(a=Wy(e),a!==0&&(n=a,r=w0(e,a))),r===1)throw t=Tu,Va(e,0),Wn(e,n),mt(e,fr()),t;if(r===6)Wn(e,n);else{if(a=e.current.alternate,!(n&30)&&!xB(a)&&(r=Nl(e,n),r===2&&(i=Wy(e),i!==0&&(n=i,r=w0(e,i))),r===1))throw t=Tu,Va(e,0),Wn(e,n),mt(e,fr()),t;switch(e.finishedWork=a,e.finishedLanes=n,r){case 0:case 1:throw Error(ae(345));case 2:Ia(e,lt,bn);break;case 3:if(Wn(e,n),(n&130023424)===n&&(r=L1+500-fr(),10<r)){if(bl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){tt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=e0(Ia.bind(null,e,lt,bn),r);break}Ia(e,lt,bn);break;case 4:if(Wn(e,n),(n&4194240)===n)break;for(r=e.eventTimes,a=-1;0<n;){var o=31-jt(n);i=1<<o,o=r[o],o>a&&(a=o),n&=~i}if(n=a,n=fr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wB(n/1960))-n,10<n){e.timeoutHandle=e0(Ia.bind(null,e,lt,bn),n);break}Ia(e,lt,bn);break;case 5:Ia(e,lt,bn);break;default:throw Error(ae(329))}}}return mt(e,fr()),e.callbackNode===t?oP.bind(null,e):null}function w0(e,r){var t=ou;return e.current.memoizedState.isDehydrated&&(Va(e,r).flags|=256),e=Nl(e,r),e!==2&&(r=lt,lt=t,r!==null&&x0(r)),e}function x0(e){lt===null?lt=e:lt.push.apply(lt,e)}function xB(e){for(var r=e;;){if(r.flags&16384){var t=r.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var a=t[n],i=a.getSnapshot;a=a.value;try{if(!Zt(i(),a))return!1}catch{return!1}}}if(t=r.child,r.subtreeFlags&16384&&t!==null)t.return=r,r=t;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wn(e,r){for(r&=~I1,r&=~gf,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var t=31-jt(r),n=1<<t;e[t]=-1,r&=~n}}function Hw(e){if(ze&6)throw Error(ae(327));Gi();var r=bl(e,0);if(!(r&1))return mt(e,fr()),null;var t=Nl(e,r);if(e.tag!==0&&t===2){var n=Wy(e);n!==0&&(r=n,t=w0(e,n))}if(t===1)throw t=Tu,Va(e,0),Wn(e,r),mt(e,fr()),t;if(t===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Ia(e,lt,bn),mt(e,fr()),null}function O1(e,r){var t=ze;ze|=1;try{return e(r)}finally{ze=t,ze===0&&(ro=fr()+500,df&&xa())}}function ja(e){jn!==null&&jn.tag===0&&!(ze&6)&&Gi();var r=ze;ze|=1;var t=Mt.transition,n=He;try{if(Mt.transition=null,He=1,e)return e()}finally{He=n,Mt.transition=t,ze=r,!(ze&6)&&xa()}}function M1(){wt=Li.current,Qe(Li)}function Va(e,r){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,ZM(t)),pr!==null)for(t=pr.return;t!==null;){var n=t;switch(p1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cl();break;case 3:Ji(),Qe(pt),Qe(Wr),C1();break;case 5:S1(n);break;case 4:Ji();break;case 13:Qe(nr);break;case 19:Qe(nr);break;case 10:b1(n.type._context);break;case 22:case 23:M1()}t=t.return}if(Pr=e,pr=e=ia(e.current,null),Mr=wt=r,Sr=0,Tu=null,I1=gf=Ka=0,lt=ou=null,qa!==null){for(r=0;r<qa.length;r++)if(t=qa[r],n=t.interleaved,n!==null){t.interleaved=null;var a=n.next,i=t.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}t.pending=n}qa=null}return e}function uP(e,r){do{var t=pr;try{if(y1(),Qs.current=Ll,Il){for(var n=ar.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Il=!1}if(Wa=0,Rr=xr=ar=null,au=!1,Cu=0,D1.current=null,t===null||t.return===null){Sr=1,Tu=r,pr=null;break}e:{var i=e,o=t.return,u=t,s=r;if(r=Mr,u.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var l=s,f=u,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Iw(o);if(v!==null){v.flags&=-257,Lw(v,o,u,i,r),v.mode&1&&Dw(i,l,r),r=v,s=l;var h=r.updateQueue;if(h===null){var b=new Set;b.add(s),r.updateQueue=b}else h.add(s);break e}else{if(!(r&1)){Dw(i,l,r),B1();break e}s=Error(ae(426))}}else if(er&&u.mode&1){var m=Iw(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),Lw(m,o,u,i,r),g1(eo(s,u));break e}}i=s=eo(s,u),Sr!==4&&(Sr=2),ou===null?ou=[i]:ou.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var g=GR(i,s,r);kw(i,g);break e;case 1:u=s;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(na===null||!na.has(y)))){i.flags|=65536,r&=-r,i.lanes|=r;var w=HR(i,u,r);kw(i,w);break e}}i=i.return}while(i!==null)}fP(t)}catch(E){r=E,pr===t&&t!==null&&(pr=t=t.return);continue}break}while(!0)}function sP(){var e=Ol.current;return Ol.current=Ll,e===null?Ll:e}function B1(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Pr===null||!(Ka&268435455)&&!(gf&268435455)||Wn(Pr,Mr)}function Nl(e,r){var t=ze;ze|=2;var n=sP();(Pr!==e||Mr!==r)&&(bn=null,Va(e,r));do try{EB();break}catch(a){uP(e,a)}while(!0);if(y1(),ze=t,Ol.current=n,pr!==null)throw Error(ae(261));return Pr=null,Mr=0,Sr}function EB(){for(;pr!==null;)lP(pr)}function SB(){for(;pr!==null&&!jO();)lP(pr)}function lP(e){var r=dP(e.alternate,e,wt);e.memoizedProps=e.pendingProps,r===null?fP(e):pr=r,D1.current=null}function fP(e){var r=e;do{var t=r.alternate;if(e=r.return,r.flags&32768){if(t=gB(t,r),t!==null){t.flags&=32767,pr=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sr=6,pr=null;return}}else if(t=pB(t,r,wt),t!==null){pr=t;return}if(r=r.sibling,r!==null){pr=r;return}pr=r=e}while(r!==null);Sr===0&&(Sr=5)}function Ia(e,r,t){var n=He,a=Mt.transition;try{Mt.transition=null,He=1,CB(e,r,t,n)}finally{Mt.transition=a,He=n}return null}function CB(e,r,t,n){do Gi();while(jn!==null);if(ze&6)throw Error(ae(327));t=e.finishedWork;var a=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var i=t.lanes|t.childLanes;if(aM(e,i),e===Pr&&(pr=Pr=null,Mr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ts||(Ts=!0,vP(yl,function(){return Gi(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Mt.transition,Mt.transition=null;var o=He;He=1;var u=ze;ze|=4,D1.current=null,yB(e,t),aP(t,e),GM(Qy),wl=!!Zy,Qy=Zy=null,e.current=t,bB(t),YO(),ze=u,He=o,Mt.transition=i}else e.current=t;if(Ts&&(Ts=!1,jn=e,Bl=a),i=e.pendingLanes,i===0&&(na=null),QO(t.stateNode),mt(e,fr()),r!==null)for(n=e.onRecoverableError,t=0;t<r.length;t++)a=r[t],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ml)throw Ml=!1,e=y0,y0=null,e;return Bl&1&&e.tag!==0&&Gi(),i=e.pendingLanes,i&1?e===b0?uu++:(uu=0,b0=e):uu=0,xa(),null}function Gi(){if(jn!==null){var e=GA(Bl),r=Mt.transition,t=He;try{if(Mt.transition=null,He=16>e?16:e,jn===null)var n=!1;else{if(e=jn,jn=null,Bl=0,ze&6)throw Error(ae(331));var a=ze;for(ze|=4,fe=e.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var u=i.deletions;if(u!==null){for(var s=0;s<u.length;s++){var l=u[s];for(fe=l;fe!==null;){var f=fe;switch(f.tag){case 0:case 11:case 15:iu(8,f,i)}var c=f.child;if(c!==null)c.return=f,fe=c;else for(;fe!==null;){f=fe;var d=f.sibling,v=f.return;if(rP(f),f===l){fe=null;break}if(d!==null){d.return=v,fe=d;break}fe=v}}}var h=i.alternate;if(h!==null){var b=h.child;if(b!==null){h.child=null;do{var m=b.sibling;b.sibling=null,b=m}while(b!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:iu(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,fe=g;break e}fe=i.return}}var p=e.current;for(fe=p;fe!==null;){o=fe;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,fe=y;else e:for(o=p;fe!==null;){if(u=fe,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:pf(9,u)}}catch(E){sr(u,u.return,E)}if(u===o){fe=null;break e}var w=u.sibling;if(w!==null){w.return=u.return,fe=w;break e}fe=u.return}}if(ze=a,xa(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(uf,e)}catch{}n=!0}return n}finally{He=t,Mt.transition=r}}return!1}function Ww(e,r,t){r=eo(t,r),r=GR(e,r,1),e=ta(e,r,1),r=tt(),e!==null&&(Uu(e,1,r),mt(e,r))}function sr(e,r,t){if(e.tag===3)Ww(e,e,t);else for(;r!==null;){if(r.tag===3){Ww(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(na===null||!na.has(n))){e=eo(t,e),e=HR(r,e,1),r=ta(r,e,1),e=tt(),r!==null&&(Uu(r,1,e),mt(r,e));break}}r=r.return}}function kB(e,r,t){var n=e.pingCache;n!==null&&n.delete(r),r=tt(),e.pingedLanes|=e.suspendedLanes&t,Pr===e&&(Mr&t)===t&&(Sr===4||Sr===3&&(Mr&130023424)===Mr&&500>fr()-L1?Va(e,0):I1|=t),mt(e,r)}function cP(e,r){r===0&&(e.mode&1?(r=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):r=1);var t=tt();e=An(e,r),e!==null&&(Uu(e,r,t),mt(e,t))}function _B(e){var r=e.memoizedState,t=0;r!==null&&(t=r.retryLane),cP(e,t)}function TB(e,r){var t=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(t=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(r),cP(e,t)}var dP;dP=function(e,r,t){if(e!==null)if(e.memoizedProps!==r.pendingProps||pt.current)dt=!0;else{if(!(e.lanes&t)&&!(r.flags&128))return dt=!1,hB(e,r,t);dt=!!(e.flags&131072)}else dt=!1,er&&r.flags&1048576&&gR(r,Tl,r.index);switch(r.lanes=0,r.tag){case 2:var n=r.type;el(e,r),e=r.pendingProps;var a=Xi(r,Wr.current);Ui(r,t),a=_1(null,r,n,e,a,t);var i=T1();return r.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,gt(n)?(i=!0,kl(r)):i=!1,r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,x1(r),a.updater=hf,r.stateNode=a,a._reactInternals=r,u0(r,n,e,t),r=f0(null,r,n,!0,i,t)):(r.tag=0,er&&i&&h1(r),et(null,r,a,t),r=r.child),r;case 16:n=r.elementType;e:{switch(el(e,r),e=r.pendingProps,a=n._init,n=a(n._payload),r.type=n,a=r.tag=RB(n),e=Ut(n,e),a){case 0:r=l0(null,r,n,e,t);break e;case 1:r=Bw(null,r,n,e,t);break e;case 11:r=Ow(null,r,n,e,t);break e;case 14:r=Mw(null,r,n,Ut(n.type,e),t);break e}throw Error(ae(306,n,""))}return r;case 0:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:Ut(n,a),l0(e,r,n,a,t);case 1:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:Ut(n,a),Bw(e,r,n,a,t);case 3:e:{if(YR(r),e===null)throw Error(ae(387));n=r.pendingProps,i=r.memoizedState,a=i.element,ER(e,r),Pl(r,n,null,t);var o=r.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){a=eo(Error(ae(423)),r),r=Nw(e,r,n,t,a);break e}else if(n!==a){a=eo(Error(ae(424)),r),r=Nw(e,r,n,t,a);break e}else for(Et=ra(r.stateNode.containerInfo.firstChild),St=r,er=!0,Kt=null,t=wR(r,null,n,t),r.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Zi(),n===a){r=Rn(e,r,t);break e}et(e,r,n,t)}r=r.child}return r;case 5:return SR(r),e===null&&a0(r),n=r.type,a=r.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Jy(n,a)?o=null:i!==null&&Jy(n,i)&&(r.flags|=32),jR(e,r),et(e,r,o,t),r.child;case 6:return e===null&&a0(r),null;case 13:return XR(e,r,t);case 4:return E1(r,r.stateNode.containerInfo),n=r.pendingProps,e===null?r.child=Qi(r,null,n,t):et(e,r,n,t),r.child;case 11:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:Ut(n,a),Ow(e,r,n,a,t);case 7:return et(e,r,r.pendingProps,t),r.child;case 8:return et(e,r,r.pendingProps.children,t),r.child;case 12:return et(e,r,r.pendingProps.children,t),r.child;case 10:e:{if(n=r.type._context,a=r.pendingProps,i=r.memoizedProps,o=a.value,Ye(Al,n._currentValue),n._currentValue=o,i!==null)if(Zt(i.value,o)){if(i.children===a.children&&!pt.current){r=Rn(e,r,t);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var u=i.dependencies;if(u!==null){o=i.child;for(var s=u.firstContext;s!==null;){if(s.context===n){if(i.tag===1){s=kn(-1,t&-t),s.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var f=l.pending;f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s}}i.lanes|=t,s=i.alternate,s!==null&&(s.lanes|=t),i0(i.return,t,r),u.lanes|=t;break}s=s.next}}else if(i.tag===10)o=i.type===r.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ae(341));o.lanes|=t,u=o.alternate,u!==null&&(u.lanes|=t),i0(o,t,r),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===r){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}et(e,r,a.children,t),r=r.child}return r;case 9:return a=r.type,n=r.pendingProps.children,Ui(r,t),a=Bt(a),n=n(a),r.flags|=1,et(e,r,n,t),r.child;case 14:return n=r.type,a=Ut(n,r.pendingProps),a=Ut(n.type,a),Mw(e,r,n,a,t);case 15:return WR(e,r,r.type,r.pendingProps,t);case 17:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:Ut(n,a),el(e,r),r.tag=1,gt(n)?(e=!0,kl(r)):e=!1,Ui(r,t),UR(r,n,a),u0(r,n,a,t),f0(null,r,n,!0,e,t);case 19:return ZR(e,r,t);case 22:return KR(e,r,t)}throw Error(ae(156,r.tag))};function vP(e,r){return zA(e,r)}function AB(e,r,t,n){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,r,t,n){return new AB(e,r,t,n)}function N1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RB(e){if(typeof e=="function")return N1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===t1)return 11;if(e===n1)return 14}return 2}function ia(e,r){var t=e.alternate;return t===null?(t=Lt(e.tag,r,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=r,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,r=e.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function nl(e,r,t,n,a,i){var o=2;if(n=e,typeof e=="function")N1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Si:return $a(t.children,a,i,r);case r1:o=8,a|=8;break;case Dy:return e=Lt(12,t,r,a|2),e.elementType=Dy,e.lanes=i,e;case Iy:return e=Lt(13,t,r,a),e.elementType=Iy,e.lanes=i,e;case Ly:return e=Lt(19,t,r,a),e.elementType=Ly,e.lanes=i,e;case SA:return mf(t,a,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xA:o=10;break e;case EA:o=9;break e;case t1:o=11;break e;case n1:o=14;break e;case $n:o=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return r=Lt(o,t,r,a),r.elementType=e,r.type=n,r.lanes=i,r}function $a(e,r,t,n){return e=Lt(7,e,n,r),e.lanes=t,e}function mf(e,r,t,n){return e=Lt(22,e,n,r),e.elementType=SA,e.lanes=t,e.stateNode={isHidden:!1},e}function Dc(e,r,t){return e=Lt(6,e,null,r),e.lanes=t,e}function Ic(e,r,t){return r=Lt(4,e.children!==null?e.children:[],e.key,r),r.lanes=t,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function PB(e,r,t,n,a){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dc(0),this.expirationTimes=dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function q1(e,r,t,n,a,i,o,u,s){return e=new PB(e,r,t,u,s),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Lt(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},x1(i),e}function DB(e,r,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:n==null?null:""+n,children:e,containerInfo:r,implementation:t}}function hP(e){if(!e)return fa;e=e._reactInternals;e:{if(ri(e)!==e||e.tag!==1)throw Error(ae(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(gt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(ae(171))}if(e.tag===1){var t=e.type;if(gt(t))return hR(e,t,r)}return r}function pP(e,r,t,n,a,i,o,u,s){return e=q1(t,n,!0,e,a,i,o,u,s),e.context=hP(null),t=e.current,n=tt(),a=aa(t),i=kn(n,a),i.callback=r??null,ta(t,i,a),e.current.lanes=a,Uu(e,a,n),mt(e,n),e}function yf(e,r,t,n){var a=r.current,i=tt(),o=aa(a);return t=hP(t),r.context===null?r.context=t:r.pendingContext=t,r=kn(i,o),r.payload={element:e},n=n===void 0?null:n,n!==null&&(r.callback=n),e=ta(a,r,o),e!==null&&(Yt(e,a,o,i),Zs(e,a,o)),o}function ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kw(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<r?t:r}}function F1(e,r){Kw(e,r),(e=e.alternate)&&Kw(e,r)}function IB(){return null}var gP=typeof reportError=="function"?reportError:function(e){console.error(e)};function z1(e){this._internalRoot=e}bf.prototype.render=z1.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(ae(409));yf(e,r,null,null)};bf.prototype.unmount=z1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ja(function(){yf(null,e,null,null)}),r[Tn]=null}};function bf(e){this._internalRoot=e}bf.prototype.unstable_scheduleHydration=function(e){if(e){var r=KA();e={blockedOn:null,target:e,priority:r};for(var t=0;t<Hn.length&&r!==0&&r<Hn[t].priority;t++);Hn.splice(t,0,e),t===0&&YA(e)}};function V1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jw(){}function LB(e,r,t,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var l=ql(o);i.call(l)}}var o=pP(r,n,e,0,null,!1,!1,"",jw);return e._reactRootContainer=o,e[Tn]=o.current,bu(e.nodeType===8?e.parentNode:e),ja(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var u=n;n=function(){var l=ql(s);u.call(l)}}var s=q1(e,0,!1,null,null,!1,!1,"",jw);return e._reactRootContainer=s,e[Tn]=s.current,bu(e.nodeType===8?e.parentNode:e),ja(function(){yf(r,s,t,n)}),s}function xf(e,r,t,n,a){var i=t._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var u=a;a=function(){var s=ql(o);u.call(s)}}yf(r,o,e,a)}else o=LB(t,r,e,a,n);return ql(o)}HA=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var t=Go(r.pendingLanes);t!==0&&(o1(r,t|1),mt(r,fr()),!(ze&6)&&(ro=fr()+500,xa()))}break;case 13:ja(function(){var n=An(e,1);if(n!==null){var a=tt();Yt(n,e,1,a)}}),F1(e,1)}};u1=function(e){if(e.tag===13){var r=An(e,134217728);if(r!==null){var t=tt();Yt(r,e,134217728,t)}F1(e,134217728)}};WA=function(e){if(e.tag===13){var r=aa(e),t=An(e,r);if(t!==null){var n=tt();Yt(t,e,r,n)}F1(e,r)}};KA=function(){return He};jA=function(e,r){var t=He;try{return He=e,r()}finally{He=t}};Uy=function(e,r,t){switch(r){case"input":if(By(e,t),r=t.name,t.type==="radio"&&r!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<t.length;r++){var n=t[r];if(n!==e&&n.form===e.form){var a=cf(n);if(!a)throw Error(ae(90));kA(n),By(n,a)}}}break;case"textarea":TA(e,t);break;case"select":r=t.value,r!=null&&Fi(e,!!t.multiple,r,!1)}};OA=O1;MA=ja;var OB={usingClientEntryPoint:!1,Events:[Hu,Ti,cf,IA,LA,O1]},Do={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MB={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qA(e),e===null?null:e.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||IB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var As=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!As.isDisabled&&As.supportsFiber)try{uf=As.inject(MB),ln=As}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OB;_t.createPortal=function(e,r){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V1(r))throw Error(ae(200));return DB(e,r,null,t)};_t.createRoot=function(e,r){if(!V1(e))throw Error(ae(299));var t=!1,n="",a=gP;return r!=null&&(r.unstable_strictMode===!0&&(t=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),r=q1(e,1,!1,null,null,t,!1,n,a),e[Tn]=r.current,bu(e.nodeType===8?e.parentNode:e),new z1(r)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=qA(r),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return ja(e)};_t.hydrate=function(e,r,t){if(!wf(r))throw Error(ae(200));return xf(null,e,r,!0,t)};_t.hydrateRoot=function(e,r,t){if(!V1(e))throw Error(ae(405));var n=t!=null&&t.hydratedSources||null,a=!1,i="",o=gP;if(t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),r=pP(r,null,e,1,t??null,a,!1,i,o),e[Tn]=r.current,bu(e),n)for(e=0;e<n.length;e++)t=n[e],a=t._getVersion,a=a(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,a]:r.mutableSourceEagerHydrationData.push(t,a);return new bf(r)};_t.render=function(e,r,t){if(!wf(r))throw Error(ae(200));return xf(null,e,r,!1,t)};_t.unmountComponentAtNode=function(e){if(!wf(e))throw Error(ae(40));return e._reactRootContainer?(ja(function(){xf(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1};_t.unstable_batchedUpdates=O1;_t.unstable_renderSubtreeIntoContainer=function(e,r,t,n){if(!wf(t))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return xf(e,r,t,!1,n)};_t.version="18.3.1-next-f1338f8080-20240426";function mP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mP)}catch(e){console.error(e)}}mP(),mA.exports=_t;var BB=mA.exports,yP,Yw=BB;yP=Yw.createRoot,Yw.hydrateRoot;var bP={exports:{}},NB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qB=NB,FB=qB;function wP(){}function xP(){}xP.resetWarningCache=wP;var zB=function(){function e(n,a,i,o,u,s){if(s!==FB){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:xP,resetWarningCache:wP};return t.PropTypes=t,t};bP.exports=zB();var VB=bP.exports;const $B=K0(VB);function E0(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function UB(e){if(Array.isArray(e))return e}function GB(e){if(Array.isArray(e))return E0(e)}function Ea(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function HB(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SP(n.key),n)}}function Sa(e,r,t){return r&&HB(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vt(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=$1(e))||r){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(s){throw s},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var s=t.next();return o=s.done,s},e:function(s){u=!0,i=s},f:function(){try{o||t.return==null||t.return()}finally{if(u)throw i}}}}function EP(e,r,t){return(r=SP(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function WB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KB(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,a,i,o,u=[],s=!0,l=!1;try{if(i=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=i.call(t)).done)&&(u.push(n.value),u.length!==r);s=!0);}catch(f){l=!0,a=f}finally{try{if(!s&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function jB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hr(e,r){return UB(e)||KB(e,r)||$1(e,r)||jB()}function Fl(e){return GB(e)||WB(e)||$1(e)||YB()}function XB(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function SP(e){var r=XB(e,"string");return typeof r=="symbol"?r:r+""}function kr(e){"@babel/helpers - typeof";return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kr(e)}function $1(e,r){if(e){if(typeof e=="string")return E0(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E0(e,r):void 0}}var wr=typeof window>"u"?null:window,Xw=wr?wr.navigator:null;wr&&wr.document;var ZB=kr(""),CP=kr({}),QB=kr(function(){}),JB=typeof HTMLElement>"u"?"undefined":kr(HTMLElement),Ku=function(r){return r&&r.instanceString&&ir(r.instanceString)?r.instanceString():null},Se=function(r){return r!=null&&kr(r)==ZB},ir=function(r){return r!=null&&kr(r)===QB},Ke=function(r){return!Ct(r)&&(Array.isArray?Array.isArray(r):r!=null&&r instanceof Array)},Ve=function(r){return r!=null&&kr(r)===CP&&!Ke(r)&&r.constructor===Object},eN=function(r){return r!=null&&kr(r)===CP},oe=function(r){return r!=null&&kr(r)===kr(1)&&!isNaN(r)},rN=function(r){return oe(r)&&Math.floor(r)===r},zl=function(r){if(JB!=="undefined")return r!=null&&r instanceof HTMLElement},Ct=function(r){return ju(r)||kP(r)},ju=function(r){return Ku(r)==="collection"&&r._private.single},kP=function(r){return Ku(r)==="collection"&&!r._private.single},U1=function(r){return Ku(r)==="core"},_P=function(r){return Ku(r)==="stylesheet"},tN=function(r){return Ku(r)==="event"},ca=function(r){return r==null?!0:!!(r===""||r.match(/^\s+$/))},nN=function(r){return typeof HTMLElement>"u"?!1:r instanceof HTMLElement},aN=function(r){return Ve(r)&&oe(r.x1)&&oe(r.x2)&&oe(r.y1)&&oe(r.y2)},iN=function(r){return eN(r)&&ir(r.then)},oN=function(){return Xw&&Xw.userAgent.match(/msie|trident|edge/i)},to=function(r,t){t||(t=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function(){var i=this,o=arguments,u,s=t.apply(i,o),l=n.cache;return(u=l[s])||(u=l[s]=r.apply(i,o)),u};return n.cache={},n},G1=to(function(e){return e.replace(/([A-Z])/g,function(r){return"-"+r.toLowerCase()})}),Ef=to(function(e){return e.replace(/(-\w)/g,function(r){return r[1].toUpperCase()})}),TP=to(function(e,r){return e+r[0].toUpperCase()+r.substring(1)},function(e,r){return e+"$"+r}),Zw=function(r){return ca(r)?r:r.charAt(0).toUpperCase()+r.substring(1)},Yn=function(r,t){return r.slice(-1*t.length)===t},Cr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",uN="rgb[a]?\\(("+Cr+"[%]?)\\s*,\\s*("+Cr+"[%]?)\\s*,\\s*("+Cr+"[%]?)(?:\\s*,\\s*("+Cr+"))?\\)",sN="rgb[a]?\\((?:"+Cr+"[%]?)\\s*,\\s*(?:"+Cr+"[%]?)\\s*,\\s*(?:"+Cr+"[%]?)(?:\\s*,\\s*(?:"+Cr+"))?\\)",lN="hsl[a]?\\(("+Cr+")\\s*,\\s*("+Cr+"[%])\\s*,\\s*("+Cr+"[%])(?:\\s*,\\s*("+Cr+"))?\\)",fN="hsl[a]?\\((?:"+Cr+")\\s*,\\s*(?:"+Cr+"[%])\\s*,\\s*(?:"+Cr+"[%])(?:\\s*,\\s*(?:"+Cr+"))?\\)",cN="\\#[0-9a-fA-F]{3}",dN="\\#[0-9a-fA-F]{6}",AP=function(r,t){return r<t?-1:r>t?1:0},vN=function(r,t){return-1*AP(r,t)},ke=Object.assign!=null?Object.assign.bind(Object):function(e){for(var r=arguments,t=1;t<r.length;t++){var n=r[t];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];e[o]=n[o]}}return e},hN=function(r){if(!(!(r.length===4||r.length===7)||r[0]!=="#")){var t=r.length===4,n,a,i,o=16;return t?(n=parseInt(r[1]+r[1],o),a=parseInt(r[2]+r[2],o),i=parseInt(r[3]+r[3],o)):(n=parseInt(r[1]+r[2],o),a=parseInt(r[3]+r[4],o),i=parseInt(r[5]+r[6],o)),[n,a,i]}},pN=function(r){var t,n,a,i,o,u,s,l;function f(h,b,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?h+(b-h)*6*m:m<1/2?b:m<2/3?h+(b-h)*(2/3-m)*6:h}var c=new RegExp("^"+lN+"$").exec(r);if(c){if(n=parseInt(c[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(c[2]),a<0||a>100||(a=a/100,i=parseFloat(c[3]),i<0||i>100)||(i=i/100,o=c[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)u=s=l=Math.round(i*255);else{var d=i<.5?i*(1+a):i+a-i*a,v=2*i-d;u=Math.round(255*f(v,d,n+1/3)),s=Math.round(255*f(v,d,n)),l=Math.round(255*f(v,d,n-1/3))}t=[u,s,l,o]}return t},gN=function(r){var t,n=new RegExp("^"+uN+"$").exec(r);if(n){t=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;t.push(Math.floor(o))}var u=a[1]||a[2]||a[3],s=a[1]&&a[2]&&a[3];if(u&&!s)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;t.push(l)}}return t},mN=function(r){return yN[r.toLowerCase()]},RP=function(r){return(Ke(r)?r:null)||mN(r)||hN(r)||gN(r)||pN(r)},yN={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},PP=function(r){for(var t=r.map,n=r.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(Ve(o))throw Error("Tried to set map with object key");i<n.length-1?(t[o]==null&&(t[o]={}),t=t[o]):t[o]=r.value}},DP=function(r){for(var t=r.map,n=r.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(Ve(o))throw Error("Tried to get map with object key");if(t=t[o],t==null)return t}return t},Rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lc,Qw;function Xu(){if(Qw)return Lc;Qw=1;function e(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}return Lc=e,Lc}var Oc,Jw;function bN(){if(Jw)return Oc;Jw=1;var e=typeof Rs=="object"&&Rs&&Rs.Object===Object&&Rs;return Oc=e,Oc}var Mc,ex;function Sf(){if(ex)return Mc;ex=1;var e=bN(),r=typeof self=="object"&&self&&self.Object===Object&&self,t=e||r||Function("return this")();return Mc=t,Mc}var Bc,rx;function wN(){if(rx)return Bc;rx=1;var e=Sf(),r=function(){return e.Date.now()};return Bc=r,Bc}var Nc,tx;function xN(){if(tx)return Nc;tx=1;var e=/\s/;function r(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}return Nc=r,Nc}var qc,nx;function EN(){if(nx)return qc;nx=1;var e=xN(),r=/^\s+/;function t(n){return n&&n.slice(0,e(n)+1).replace(r,"")}return qc=t,qc}var Fc,ax;function H1(){if(ax)return Fc;ax=1;var e=Sf(),r=e.Symbol;return Fc=r,Fc}var zc,ix;function SN(){if(ix)return zc;ix=1;var e=H1(),r=Object.prototype,t=r.hasOwnProperty,n=r.toString,a=e?e.toStringTag:void 0;function i(o){var u=t.call(o,a),s=o[a];try{o[a]=void 0;var l=!0}catch{}var f=n.call(o);return l&&(u?o[a]=s:delete o[a]),f}return zc=i,zc}var Vc,ox;function CN(){if(ox)return Vc;ox=1;var e=Object.prototype,r=e.toString;function t(n){return r.call(n)}return Vc=t,Vc}var $c,ux;function IP(){if(ux)return $c;ux=1;var e=H1(),r=SN(),t=CN(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(u){return u==null?u===void 0?a:n:i&&i in Object(u)?r(u):t(u)}return $c=o,$c}var Uc,sx;function kN(){if(sx)return Uc;sx=1;function e(r){return r!=null&&typeof r=="object"}return Uc=e,Uc}var Gc,lx;function Zu(){if(lx)return Gc;lx=1;var e=IP(),r=kN(),t="[object Symbol]";function n(a){return typeof a=="symbol"||r(a)&&e(a)==t}return Gc=n,Gc}var Hc,fx;function _N(){if(fx)return Hc;fx=1;var e=EN(),r=Xu(),t=Zu(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function s(l){if(typeof l=="number")return l;if(t(l))return n;if(r(l)){var f=typeof l.valueOf=="function"?l.valueOf():l;l=r(f)?f+"":f}if(typeof l!="string")return l===0?l:+l;l=e(l);var c=i.test(l);return c||o.test(l)?u(l.slice(2),c?2:8):a.test(l)?n:+l}return Hc=s,Hc}var Wc,cx;function TN(){if(cx)return Wc;cx=1;var e=Xu(),r=wN(),t=_N(),n="Expected a function",a=Math.max,i=Math.min;function o(u,s,l){var f,c,d,v,h,b,m=0,g=!1,p=!1,y=!0;if(typeof u!="function")throw new TypeError(n);s=t(s)||0,e(l)&&(g=!!l.leading,p="maxWait"in l,d=p?a(t(l.maxWait)||0,s):d,y="trailing"in l?!!l.trailing:y);function w(R){var I=f,L=c;return f=c=void 0,m=R,v=u.apply(L,I),v}function E(R){return m=R,h=setTimeout(C,s),g?w(R):v}function S(R){var I=R-b,L=R-m,B=s-I;return p?i(B,d-L):B}function x(R){var I=R-b,L=R-m;return b===void 0||I>=s||I<0||p&&L>=d}function C(){var R=r();if(x(R))return _(R);h=setTimeout(C,S(R))}function _(R){return h=void 0,y&&f?w(R):(f=c=void 0,v)}function k(){h!==void 0&&clearTimeout(h),m=0,f=b=c=h=void 0}function T(){return h===void 0?v:_(r())}function A(){var R=r(),I=x(R);if(f=arguments,c=this,b=R,I){if(h===void 0)return E(b);if(p)return clearTimeout(h),h=setTimeout(C,s),w(b)}return h===void 0&&(h=setTimeout(C,s)),v}return A.cancel=k,A.flush=T,A}return Wc=o,Wc}var AN=TN(),Qu=Yu(AN),Kc=wr?wr.performance:null,LP=Kc&&Kc.now?function(){return Kc.now()}:function(){return Date.now()},RN=function(){if(wr){if(wr.requestAnimationFrame)return function(e){wr.requestAnimationFrame(e)};if(wr.mozRequestAnimationFrame)return function(e){wr.mozRequestAnimationFrame(e)};if(wr.webkitRequestAnimationFrame)return function(e){wr.webkitRequestAnimationFrame(e)};if(wr.msRequestAnimationFrame)return function(e){wr.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(LP())},1e3/60)}}(),Vl=function(r){return RN(r)},Pn=LP,Ma=9261,OP=65599,wi=5381,MP=function(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ma,n=t,a;a=r.next(),!a.done;)n=n*OP+a.value|0;return n},Au=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ma;return t*OP+r|0},Ru=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wi;return(t<<5)+t+r|0},PN=function(r,t){return r*2097152+t},zn=function(r){return r[0]*2097152+r[1]},Ps=function(r,t){return[Au(r[0],t[0]),Ru(r[1],t[1])]},dx=function(r,t){var n={value:0,done:!1},a=0,i=r.length,o={next:function(){return a<i?n.value=r[a++]:n.done=!0,n}};return MP(o,t)},Ya=function(r,t){var n={value:0,done:!1},a=0,i=r.length,o={next:function(){return a<i?n.value=r.charCodeAt(a++):n.done=!0,n}};return MP(o,t)},BP=function(){return DN(arguments)},DN=function(r){for(var t,n=0;n<r.length;n++){var a=r[n];n===0?t=Ya(a):t=Ya(a,t)}return t};function IN(e,r,t,n,a){var i=a*Math.PI/180,o=Math.cos(i)*(e-t)-Math.sin(i)*(r-n)+t,u=Math.sin(i)*(e-t)+Math.cos(i)*(r-n)+n;return{x:o,y:u}}var LN=function(r,t,n,a,i,o){return{x:(r-n)*i+n,y:(t-a)*o+a}};function ON(e,r,t){if(t===0)return e;var n=(r.x1+r.x2)/2,a=(r.y1+r.y2)/2,i=r.w/r.h,o=1/i,u=IN(e.x,e.y,n,a,t),s=LN(u.x,u.y,n,a,i,o);return{x:s.x,y:s.y}}var vx=!0,MN=console.warn!=null,BN=console.trace!=null,W1=Number.MAX_SAFE_INTEGER||9007199254740991,NP=function(){return!0},$l=function(){return!1},hx=function(){return 0},K1=function(){},rr=function(r){throw new Error(r)},qP=function(r){if(r!==void 0)vx=!!r;else return vx},Ge=function(r){qP()&&(MN?console.warn(r):(console.log(r),BN&&console.trace()))},NN=function(r){return ke({},r)},sn=function(r){return r==null?r:Ke(r)?r.slice():Ve(r)?NN(r):r},qN=function(r){return r.slice()},FP=function(r,t){for(t=r="";r++<36;t+=r*51&52?(r^15?8^Math.random()*(r^20?16:4):4).toString(16):"-");return t},FN={},zP=function(){return FN},zr=function(r){var t=Object.keys(r);return function(n){for(var a={},i=0;i<t.length;i++){var o=t[i],u=n==null?void 0:n[o];a[o]=u===void 0?r[o]:u}return a}},da=function(r,t,n){for(var a=r.length-1;a>=0;a--)r[a]===t&&r.splice(a,1)},j1=function(r){r.splice(0,r.length)},zN=function(r,t){for(var n=0;n<t.length;n++){var a=t[n];r.push(a)}},ft=function(r,t,n){return n&&(t=TP(n,t)),r[t]},xn=function(r,t,n,a){n&&(t=TP(n,t)),r[t]=a},VN=function(){function e(){Ea(this,e),this._obj={}}return Sa(e,[{key:"set",value:function(t,n){return this._obj[t]=n,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}])}(),Cn=typeof Map<"u"?Map:VN,$N="undefined",UN=function(){function e(r){if(Ea(this,e),this._obj=Object.create(null),this.size=0,r!=null){var t;r.instanceString!=null&&r.instanceString()===this.instanceString()?t=r.toArray():t=r;for(var n=0;n<t.length;n++)this.add(t[n])}}return Sa(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var n=this._obj;n[t]!==1&&(n[t]=1,this.size++)}},{key:"delete",value:function(t){var n=this._obj;n[t]===1&&(n[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(n){return t.has(n)})}},{key:"forEach",value:function(t,n){return this.toArray().forEach(t,n)}}])}(),lo=(typeof Set>"u"?"undefined":kr(Set))!==$N?Set:UN,Cf=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(r===void 0||t===void 0||!U1(r)){rr("An element must have a core reference and parameters set");return}var a=t.group;if(a==null&&(t.data&&t.data.source!=null&&t.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){rr("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:r,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?a==="edges":!!t.pannable,active:!1,classes:new lo,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),t.renderedPosition){var o=t.renderedPosition,u=r.pan(),s=r.zoom();i.position={x:(o.x-u.x)/s,y:(o.y-u.y)/s}}var l=[];Ke(t.classes)?l=t.classes:Se(t.classes)&&(l=t.classes.split(/\s+/));for(var f=0,c=l.length;f<c;f++){var d=l[f];!d||d===""||i.classes.add(d)}this.createEmitter(),(n===void 0||n)&&this.restore();var v=t.style||t.css;v&&(Ge("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(v))},px=function(r){return r={bfs:r.bfs||!r.dfs,dfs:r.dfs||!r.bfs},function(n,a,i){var o;Ve(n)&&!Ct(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!ir(a)?a:i,a=ir(a)?a:function(){};for(var u=this._private.cy,s=n=Se(n)?this.filter(n):n,l=[],f=[],c={},d={},v={},h=0,b,m=this.byGroup(),g=m.nodes,p=m.edges,y=0;y<s.length;y++){var w=s[y],E=w.id();w.isNode()&&(l.unshift(w),r.bfs&&(v[E]=!0,f.push(w)),d[E]=0)}for(var S=function(){var R=r.bfs?l.shift():l.pop(),I=R.id();if(r.dfs){if(v[I])return 0;v[I]=!0,f.push(R)}var L=d[I],B=c[I],O=B!=null?B.source():null,D=B!=null?B.target():null,F=B==null?void 0:R.same(O)?D[0]:O[0],z;if(z=a(R,B,F,h++,L),z===!0)return b=R,1;if(z===!1)return 1;for(var q=R.connectedEdges().filter(function(V){return(!i||V.source().same(R))&&p.has(V)}),$=0;$<q.length;$++){var Y=q[$],M=Y.connectedNodes().filter(function(V){return!V.same(R)&&g.has(V)}),N=M.id();M.length!==0&&!v[N]&&(M=M[0],l.push(M),r.bfs&&(v[N]=!0,f.push(M)),c[N]=Y,d[N]=d[I]+1)}},x;l.length!==0&&(x=S(),!(x!==0&&x===1)););for(var C=u.collection(),_=0;_<f.length;_++){var k=f[_],T=c[k.id()];T!=null&&C.push(T),C.push(k)}return{path:u.collection(C),found:u.collection(b)}}},Pu={breadthFirstSearch:px({bfs:!0}),depthFirstSearch:px({dfs:!0})};Pu.bfs=Pu.breadthFirstSearch;Pu.dfs=Pu.depthFirstSearch;var al={exports:{}},GN=al.exports,gx;function HN(){return gx||(gx=1,function(e,r){(function(){var t,n,a,i,o,u,s,l,f,c,d,v,h,b,m;a=Math.floor,c=Math.min,n=function(g,p){return g<p?-1:g>p?1:0},f=function(g,p,y,w,E){var S;if(y==null&&(y=0),E==null&&(E=n),y<0)throw new Error("lo must be non-negative");for(w==null&&(w=g.length);y<w;)S=a((y+w)/2),E(p,g[S])<0?w=S:y=S+1;return[].splice.apply(g,[y,y-y].concat(p)),p},u=function(g,p,y){return y==null&&(y=n),g.push(p),b(g,0,g.length-1,y)},o=function(g,p){var y,w;return p==null&&(p=n),y=g.pop(),g.length?(w=g[0],g[0]=y,m(g,0,p)):w=y,w},l=function(g,p,y){var w;return y==null&&(y=n),w=g[0],g[0]=p,m(g,0,y),w},s=function(g,p,y){var w;return y==null&&(y=n),g.length&&y(g[0],p)<0&&(w=[g[0],p],p=w[0],g[0]=w[1],m(g,0,y)),p},i=function(g,p){var y,w,E,S,x,C;for(p==null&&(p=n),S=(function(){C=[];for(var _=0,k=a(g.length/2);0<=k?_<k:_>k;0<=k?_++:_--)C.push(_);return C}).apply(this).reverse(),x=[],w=0,E=S.length;w<E;w++)y=S[w],x.push(m(g,y,p));return x},h=function(g,p,y){var w;if(y==null&&(y=n),w=g.indexOf(p),w!==-1)return b(g,0,w,y),m(g,w,y)},d=function(g,p,y){var w,E,S,x,C;if(y==null&&(y=n),E=g.slice(0,p),!E.length)return E;for(i(E,y),C=g.slice(p),S=0,x=C.length;S<x;S++)w=C[S],s(E,w,y);return E.sort(y).reverse()},v=function(g,p,y){var w,E,S,x,C,_,k,T,A;if(y==null&&(y=n),p*10<=g.length){if(S=g.slice(0,p).sort(y),!S.length)return S;for(E=S[S.length-1],k=g.slice(p),x=0,_=k.length;x<_;x++)w=k[x],y(w,E)<0&&(f(S,w,0,null,y),S.pop(),E=S[S.length-1]);return S}for(i(g,y),A=[],C=0,T=c(p,g.length);0<=T?C<T:C>T;0<=T?++C:--C)A.push(o(g,y));return A},b=function(g,p,y,w){var E,S,x;for(w==null&&(w=n),E=g[y];y>p;){if(x=y-1>>1,S=g[x],w(E,S)<0){g[y]=S,y=x;continue}break}return g[y]=E},m=function(g,p,y){var w,E,S,x,C;for(y==null&&(y=n),E=g.length,C=p,S=g[p],w=2*p+1;w<E;)x=w+1,x<E&&!(y(g[w],g[x])<0)&&(w=x),g[p]=g[w],p=w,w=2*p+1;return g[p]=S,b(g,C,p,y)},t=function(){g.push=u,g.pop=o,g.replace=l,g.pushpop=s,g.heapify=i,g.updateItem=h,g.nlargest=d,g.nsmallest=v;function g(p){this.cmp=p??n,this.nodes=[]}return g.prototype.push=function(p){return u(this.nodes,p,this.cmp)},g.prototype.pop=function(){return o(this.nodes,this.cmp)},g.prototype.peek=function(){return this.nodes[0]},g.prototype.contains=function(p){return this.nodes.indexOf(p)!==-1},g.prototype.replace=function(p){return l(this.nodes,p,this.cmp)},g.prototype.pushpop=function(p){return s(this.nodes,p,this.cmp)},g.prototype.heapify=function(){return i(this.nodes,this.cmp)},g.prototype.updateItem=function(p){return h(this.nodes,p,this.cmp)},g.prototype.clear=function(){return this.nodes=[]},g.prototype.empty=function(){return this.nodes.length===0},g.prototype.size=function(){return this.nodes.length},g.prototype.clone=function(){var p;return p=new g,p.nodes=this.nodes.slice(0),p},g.prototype.toArray=function(){return this.nodes.slice(0)},g.prototype.insert=g.prototype.push,g.prototype.top=g.prototype.peek,g.prototype.front=g.prototype.peek,g.prototype.has=g.prototype.contains,g.prototype.copy=g.prototype.clone,g}(),function(g,p){return e.exports=p()}(this,function(){return t})}).call(GN)}(al)),al.exports}var jc,mx;function WN(){return mx||(mx=1,jc=HN()),jc}var KN=WN(),Ju=Yu(KN),jN=zr({root:null,weight:function(r){return 1},directed:!1}),YN={dijkstra:function(r){if(!Ve(r)){var t=arguments;r={root:t[0],weight:t[1],directed:t[2]}}var n=jN(r),a=n.root,i=n.weight,o=n.directed,u=this,s=i,l=Se(a)?this.filter(a)[0]:a[0],f={},c={},d={},v=this.byGroup(),h=v.nodes,b=v.edges;b.unmergeBy(function(L){return L.isLoop()});for(var m=function(B){return f[B.id()]},g=function(B,O){f[B.id()]=O,p.updateItem(B)},p=new Ju(function(L,B){return m(L)-m(B)}),y=0;y<h.length;y++){var w=h[y];f[w.id()]=w.same(l)?0:1/0,p.push(w)}for(var E=function(B,O){for(var D=(o?B.edgesTo(O):B.edgesWith(O)).intersect(b),F=1/0,z,q=0;q<D.length;q++){var $=D[q],Y=s($);(Y<F||!z)&&(F=Y,z=$)}return{edge:z,dist:F}};p.size()>0;){var S=p.pop(),x=m(S),C=S.id();if(d[C]=x,x!==1/0)for(var _=S.neighborhood().intersect(h),k=0;k<_.length;k++){var T=_[k],A=T.id(),R=E(S,T),I=x+R.dist;I<m(T)&&(g(T,I),c[A]={node:S,edge:R.edge})}}return{distanceTo:function(B){var O=Se(B)?h.filter(B)[0]:B[0];return d[O.id()]},pathTo:function(B){var O=Se(B)?h.filter(B)[0]:B[0],D=[],F=O,z=F.id();if(O.length>0)for(D.unshift(O);c[z];){var q=c[z];D.unshift(q.edge),D.unshift(q.node),F=q.node,z=F.id()}return u.spawn(D)}}}},XN={kruskal:function(r){r=r||function(y){return 1};for(var t=this.byGroup(),n=t.nodes,a=t.edges,i=n.length,o=new Array(i),u=n,s=function(w){for(var E=0;E<o.length;E++){var S=o[E];if(S.has(w))return E}},l=0;l<i;l++)o[l]=this.spawn(n[l]);for(var f=a.sort(function(y,w){return r(y)-r(w)}),c=0;c<f.length;c++){var d=f[c],v=d.source()[0],h=d.target()[0],b=s(v),m=s(h),g=o[b],p=o[m];b!==m&&(u.merge(d),g.merge(p),o.splice(m,1))}return u}},ZN=zr({root:null,goal:null,weight:function(r){return 1},heuristic:function(r){return 0},directed:!1}),QN={aStar:function(r){var t=this.cy(),n=ZN(r),a=n.root,i=n.goal,o=n.heuristic,u=n.directed,s=n.weight;a=t.collection(a)[0],i=t.collection(i)[0];var l=a.id(),f=i.id(),c={},d={},v={},h=new Ju(function(z,q){return d[z.id()]-d[q.id()]}),b=new lo,m={},g={},p=function(q,$){h.push(q),b.add($)},y,w,E=function(){y=h.pop(),w=y.id(),b.delete(w)},S=function(q){return b.has(q)};p(a,l),c[l]=0,d[l]=o(a);for(var x=0;h.size()>0;){if(E(),x++,w===f){for(var C=[],_=i,k=f,T=g[k];C.unshift(_),T!=null&&C.unshift(T),_=m[k],_!=null;)k=_.id(),T=g[k];return{found:!0,distance:c[w],path:this.spawn(C),steps:x}}v[w]=!0;for(var A=y._private.edges,R=0;R<A.length;R++){var I=A[R];if(this.hasElementWithId(I.id())&&!(u&&I.data("source")!==w)){var L=I.source(),B=I.target(),O=L.id()!==w?L:B,D=O.id();if(this.hasElementWithId(D)&&!v[D]){var F=c[w]+s(I);if(!S(D)){c[D]=F,d[D]=F+o(O),p(O,D),m[D]=y,g[D]=I;continue}F<c[D]&&(c[D]=F,d[D]=F+o(O),m[D]=y,g[D]=I)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},JN=zr({weight:function(r){return 1},directed:!1}),eq={floydWarshall:function(r){for(var t=this.cy(),n=JN(r),a=n.weight,i=n.directed,o=a,u=this.byGroup(),s=u.nodes,l=u.edges,f=s.length,c=f*f,d=function(Y){return s.indexOf(Y)},v=function(Y){return s[Y]},h=new Array(c),b=0;b<c;b++){var m=b%f,g=(b-m)/f;g===m?h[b]=0:h[b]=1/0}for(var p=new Array(c),y=new Array(c),w=0;w<l.length;w++){var E=l[w],S=E.source()[0],x=E.target()[0];if(S!==x){var C=d(S),_=d(x),k=C*f+_,T=o(E);if(h[k]>T&&(h[k]=T,p[k]=_,y[k]=E),!i){var A=_*f+C;!i&&h[A]>T&&(h[A]=T,p[A]=C,y[A]=E)}}}for(var R=0;R<f;R++)for(var I=0;I<f;I++)for(var L=I*f+R,B=0;B<f;B++){var O=I*f+B,D=R*f+B;h[L]+h[D]<h[O]&&(h[O]=h[L]+h[D],p[O]=p[L])}var F=function(Y){return(Se(Y)?t.filter(Y):Y)[0]},z=function(Y){return d(F(Y))},q={distance:function(Y,M){var N=z(Y),V=z(M);return h[N*f+V]},path:function(Y,M){var N=z(Y),V=z(M),H=v(N);if(N===V)return H.collection();if(p[N*f+V]==null)return t.collection();var re=t.collection(),j=N,U;for(re.merge(H);N!==V;)j=N,N=p[N*f+V],U=y[j*f+N],re.merge(U),re.merge(v(N));return re}};return q}},rq=zr({weight:function(r){return 1},directed:!1,root:null}),tq={bellmanFord:function(r){var t=this,n=rq(r),a=n.weight,i=n.directed,o=n.root,u=a,s=this,l=this.cy(),f=this.byGroup(),c=f.edges,d=f.nodes,v=d.length,h=new Cn,b=!1,m=[];o=l.collection(o)[0],c.unmergeBy(function(ue){return ue.isLoop()});for(var g=c.length,p=function(xe){var me=h.get(xe.id());return me||(me={},h.set(xe.id(),me)),me},y=function(xe){return(Se(xe)?l.$(xe):xe)[0]},w=function(xe){return p(y(xe)).dist},E=function(xe){for(var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,se=y(xe),pe=[],de=se;;){if(de==null)return t.spawn();var ge=p(de),ye=ge.edge,Te=ge.pred;if(pe.unshift(de[0]),de.same(me)&&pe.length>0)break;ye!=null&&pe.unshift(ye),de=Te}return s.spawn(pe)},S=0;S<v;S++){var x=d[S],C=p(x);x.same(o)?C.dist=0:C.dist=1/0,C.pred=null,C.edge=null}for(var _=!1,k=function(xe,me,se,pe,de,ge){var ye=pe.dist+ge;ye<de.dist&&!se.same(pe.edge)&&(de.dist=ye,de.pred=xe,de.edge=se,_=!0)},T=1;T<v;T++){_=!1;for(var A=0;A<g;A++){var R=c[A],I=R.source(),L=R.target(),B=u(R),O=p(I),D=p(L);k(I,L,R,O,D,B),i||k(L,I,R,D,O,B)}if(!_)break}if(_)for(var F=[],z=0;z<g;z++){var q=c[z],$=q.source(),Y=q.target(),M=u(q),N=p($).dist,V=p(Y).dist;if(N+M<V||!i&&V+M<N)if(b||(Ge("Graph contains a negative weight cycle for Bellman-Ford"),b=!0),r.findNegativeWeightCycles!==!1){var H=[];N+M<V&&H.push($),!i&&V+M<N&&H.push(Y);for(var re=H.length,j=0;j<re;j++){var U=H[j],G=[U];G.push(p(U).edge);for(var K=p(U).pred;G.indexOf(K)===-1;)G.push(K),G.push(p(K).edge),K=p(K).pred;G=G.slice(G.indexOf(K));for(var X=G[0].id(),ne=0,ie=2;ie<G.length;ie+=2)G[ie].id()<X&&(X=G[ie].id(),ne=ie);G=G.slice(ne).concat(G.slice(0,ne)),G.push(G[0]);var Ae=G.map(function(ue){return ue.id()}).join(",");F.indexOf(Ae)===-1&&(m.push(s.spawn(G)),F.push(Ae))}}else break}return{distanceTo:w,pathTo:E,hasNegativeWeightCycle:b,negativeWeightCycles:m}}},nq=Math.sqrt(2),aq=function(r,t,n){n.length===0&&rr("Karger-Stein must be run on a connected (sub)graph");for(var a=n[r],i=a[1],o=a[2],u=t[i],s=t[o],l=n,f=l.length-1;f>=0;f--){var c=l[f],d=c[1],v=c[2];(t[d]===u&&t[v]===s||t[d]===s&&t[v]===u)&&l.splice(f,1)}for(var h=0;h<l.length;h++){var b=l[h];b[1]===s?(l[h]=b.slice(),l[h][1]=u):b[2]===s&&(l[h]=b.slice(),l[h][2]=u)}for(var m=0;m<t.length;m++)t[m]===s&&(t[m]=u);return l},Yc=function(r,t,n,a){for(;n>a;){var i=Math.floor(Math.random()*t.length);t=aq(i,r,t),n--}return t},iq={kargerStein:function(){var r=this,t=this.byGroup(),n=t.nodes,a=t.edges;a.unmergeBy(function(D){return D.isLoop()});var i=n.length,o=a.length,u=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),s=Math.floor(i/nq);if(i<2){rr("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],f=0;f<o;f++){var c=a[f];l.push([f,n.indexOf(c.source()),n.indexOf(c.target())])}for(var d=1/0,v=[],h=new Array(i),b=new Array(i),m=new Array(i),g=function(F,z){for(var q=0;q<i;q++)z[q]=F[q]},p=0;p<=u;p++){for(var y=0;y<i;y++)b[y]=y;var w=Yc(b,l.slice(),i,s),E=w.slice();g(b,m);var S=Yc(b,w,s,2),x=Yc(m,E,s,2);S.length<=x.length&&S.length<d?(d=S.length,v=S,g(b,h)):x.length<=S.length&&x.length<d&&(d=x.length,v=x,g(m,h))}for(var C=this.spawn(v.map(function(D){return a[D[0]]})),_=this.spawn(),k=this.spawn(),T=h[0],A=0;A<h.length;A++){var R=h[A],I=n[A];R===T?_.merge(I):k.merge(I)}var L=function(F){var z=r.spawn();return F.forEach(function(q){z.merge(q),q.connectedEdges().forEach(function($){r.contains($)&&!C.contains($)&&z.merge($)})}),z},B=[L(_),L(k)],O={cut:C,components:B,partition1:_,partition2:k};return O}},Xc,oq=function(r){return{x:r.x,y:r.y}},kf=function(r,t,n){return{x:r.x*t+n.x,y:r.y*t+n.y}},VP=function(r,t,n){return{x:(r.x-n.x)/t,y:(r.y-n.y)/t}},Oi=function(r){return{x:r[0],y:r[1]}},uq=function(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.length,a=1/0,i=t;i<n;i++){var o=r[i];isFinite(o)&&(a=Math.min(o,a))}return a},sq=function(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.length,a=-1/0,i=t;i<n;i++){var o=r[i];isFinite(o)&&(a=Math.max(o,a))}return a},lq=function(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.length,a=0,i=0,o=t;o<n;o++){var u=r[o];isFinite(u)&&(a+=u,i++)}return a/i},fq=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?r=r.slice(t,n):(n<r.length&&r.splice(n,r.length-n),t>0&&r.splice(0,t));for(var u=0,s=r.length-1;s>=0;s--){var l=r[s];o?isFinite(l)||(r[s]=-1/0,u++):r.splice(s,1)}i&&r.sort(function(d,v){return d-v});var f=r.length,c=Math.floor(f/2);return f%2!==0?r[c+1+u]:(r[c-1+u]+r[c+u])/2},cq=function(r){return Math.PI*r/180},Ds=function(r,t){return Math.atan2(t,r)-Math.PI/2},Y1=Math.log2||function(e){return Math.log(e)/Math.log(2)},X1=function(r){return r>0?1:r<0?-1:0},Xa=function(r,t){return Math.sqrt(La(r,t))},La=function(r,t){var n=t.x-r.x,a=t.y-r.y;return n*n+a*a},dq=function(r){for(var t=r.length,n=0,a=0;a<t;a++)n+=r[a];for(var i=0;i<t;i++)r[i]=r[i]/n;return r},Ar=function(r,t,n,a){return(1-a)*(1-a)*r+2*(1-a)*a*t+a*a*n},Hi=function(r,t,n,a){return{x:Ar(r.x,t.x,n.x,a),y:Ar(r.y,t.y,n.y,a)}},vq=function(r,t,n,a){var i={x:t.x-r.x,y:t.y-r.y},o=Xa(r,t),u={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:r.x+u.x*a,y:r.y+u.y*a}},Du=function(r,t,n){return Math.max(r,Math.min(n,t))},nt=function(r){if(r==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(r.x1!=null&&r.y1!=null){if(r.x2!=null&&r.y2!=null&&r.x2>=r.x1&&r.y2>=r.y1)return{x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,w:r.x2-r.x1,h:r.y2-r.y1};if(r.w!=null&&r.h!=null&&r.w>=0&&r.h>=0)return{x1:r.x1,y1:r.y1,x2:r.x1+r.w,y2:r.y1+r.h,w:r.w,h:r.h}}},hq=function(r){return{x1:r.x1,x2:r.x2,w:r.w,y1:r.y1,y2:r.y2,h:r.h}},pq=function(r){r.x1=1/0,r.y1=1/0,r.x2=-1/0,r.y2=-1/0,r.w=0,r.h=0},gq=function(r,t){r.x1=Math.min(r.x1,t.x1),r.x2=Math.max(r.x2,t.x2),r.w=r.x2-r.x1,r.y1=Math.min(r.y1,t.y1),r.y2=Math.max(r.y2,t.y2),r.h=r.y2-r.y1},$P=function(r,t,n){r.x1=Math.min(r.x1,t),r.x2=Math.max(r.x2,t),r.w=r.x2-r.x1,r.y1=Math.min(r.y1,n),r.y2=Math.max(r.y2,n),r.h=r.y2-r.y1},il=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.x1-=t,r.x2+=t,r.y1-=t,r.y2+=t,r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},ol=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(t.length===1)n=a=i=o=t[0];else if(t.length===2)n=i=t[0],o=a=t[1];else if(t.length===4){var u=hr(t,4);n=u[0],a=u[1],i=u[2],o=u[3]}return r.x1-=o,r.x2+=a,r.y1-=n,r.y2+=i,r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},yx=function(r,t){r.x1=t.x1,r.y1=t.y1,r.x2=t.x2,r.y2=t.y2,r.w=r.x2-r.x1,r.h=r.y2-r.y1},Z1=function(r,t){return!(r.x1>t.x2||t.x1>r.x2||r.x2<t.x1||t.x2<r.x1||r.y2<t.y1||t.y2<r.y1||r.y1>t.y2||t.y1>r.y2)},Xn=function(r,t,n){return r.x1<=t&&t<=r.x2&&r.y1<=n&&n<=r.y2},bx=function(r,t){return Xn(r,t.x,t.y)},UP=function(r,t){return Xn(r,t.x1,t.y1)&&Xn(r,t.x2,t.y2)},mq=(Xc=Math.hypot)!==null&&Xc!==void 0?Xc:function(e,r){return Math.sqrt(e*e+r*r)};function yq(e,r){if(e.length<3)throw new Error("Need at least 3 vertices");var t=function(C,_){return{x:C.x+_.x,y:C.y+_.y}},n=function(C,_){return{x:C.x-_.x,y:C.y-_.y}},a=function(C,_){return{x:C.x*_,y:C.y*_}},i=function(C,_){return C.x*_.y-C.y*_.x},o=function(C){var _=mq(C.x,C.y);return _===0?{x:0,y:0}:{x:C.x/_,y:C.y/_}},u=function(C){for(var _=0,k=0;k<C.length;k++){var T=C[k],A=C[(k+1)%C.length];_+=T.x*A.y-A.x*T.y}return _/2},s=function(C,_,k,T){var A=n(_,C),R=n(T,k),I=i(A,R);if(Math.abs(I)<1e-9)return t(C,a(A,.5));var L=i(n(k,C),R)/I;return t(C,a(A,L))},l=e.map(function(x){return{x:x.x,y:x.y}});u(l)<0&&l.reverse();for(var f=l.length,c=[],d=0;d<f;d++){var v=l[d],h=l[(d+1)%f],b=n(h,v),m=o({x:b.y,y:-b.x});c.push(m)}for(var g=c.map(function(x,C){var _=t(l[C],a(x,r)),k=t(l[(C+1)%f],a(x,r));return{p1:_,p2:k}}),p=[],y=0;y<f;y++){var w=g[(y-1+f)%f],E=g[y],S=s(w.p1,w.p2,E.p1,E.p2);p.push(S)}return p}function bq(e,r,t,n,a,i){var o=Aq(e,r,t,n,a),u=yq(o,i),s=nt();return u.forEach(function(l){return $P(s,l.x,l.y)}),s}var GP=function(r,t,n,a,i,o,u){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=s==="auto"?va(i,o):s,f=i/2,c=o/2;l=Math.min(l,f,c);var d=l!==f,v=l!==c,h;if(d){var b=n-f+l-u,m=a-c-u,g=n+f-l+u,p=m;if(h=Zn(r,t,n,a,b,m,g,p,!1),h.length>0)return h}if(v){var y=n+f+u,w=a-c+l-u,E=y,S=a+c-l+u;if(h=Zn(r,t,n,a,y,w,E,S,!1),h.length>0)return h}if(d){var x=n-f+l-u,C=a+c+u,_=n+f-l+u,k=C;if(h=Zn(r,t,n,a,x,C,_,k,!1),h.length>0)return h}if(v){var T=n-f-u,A=a-c+l-u,R=T,I=a+c-l+u;if(h=Zn(r,t,n,a,T,A,R,I,!1),h.length>0)return h}var L;{var B=n-f+l,O=a-c+l;if(L=Wo(r,t,n,a,B,O,l+u),L.length>0&&L[0]<=B&&L[1]<=O)return[L[0],L[1]]}{var D=n+f-l,F=a-c+l;if(L=Wo(r,t,n,a,D,F,l+u),L.length>0&&L[0]>=D&&L[1]<=F)return[L[0],L[1]]}{var z=n+f-l,q=a+c-l;if(L=Wo(r,t,n,a,z,q,l+u),L.length>0&&L[0]>=z&&L[1]>=q)return[L[0],L[1]]}{var $=n-f+l,Y=a+c-l;if(L=Wo(r,t,n,a,$,Y,l+u),L.length>0&&L[0]<=$&&L[1]>=Y)return[L[0],L[1]]}return[]},wq=function(r,t,n,a,i,o,u){var s=u,l=Math.min(n,i),f=Math.max(n,i),c=Math.min(a,o),d=Math.max(a,o);return l-s<=r&&r<=f+s&&c-s<=t&&t<=d+s},xq=function(r,t,n,a,i,o,u,s,l){var f={x1:Math.min(n,u,i)-l,x2:Math.max(n,u,i)+l,y1:Math.min(a,s,o)-l,y2:Math.max(a,s,o)+l};return!(r<f.x1||r>f.x2||t<f.y1||t>f.y2)},Eq=function(r,t,n,a){n-=a;var i=t*t-4*r*n;if(i<0)return[];var o=Math.sqrt(i),u=2*r,s=(-t+o)/u,l=(-t-o)/u;return[s,l]},Sq=function(r,t,n,a,i){var o=1e-5;r===0&&(r=o),t/=r,n/=r,a/=r;var u,s,l,f,c,d,v,h;if(s=(3*n-t*t)/9,l=-(27*a)+t*(9*n-2*(t*t)),l/=54,u=s*s*s+l*l,i[1]=0,v=t/3,u>0){c=l+Math.sqrt(u),c=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),d=l-Math.sqrt(u),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),i[0]=-v+c+d,v+=(c+d)/2,i[4]=i[2]=-v,v=Math.sqrt(3)*(-d+c)/2,i[3]=v,i[5]=-v;return}if(i[5]=i[3]=0,u===0){h=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),i[0]=-v+2*h,i[4]=i[2]=-(h+v);return}s=-s,f=s*s*s,f=Math.acos(l/Math.sqrt(f)),h=2*Math.sqrt(s),i[0]=-v+h*Math.cos(f/3),i[2]=-v+h*Math.cos((f+2*Math.PI)/3),i[4]=-v+h*Math.cos((f+4*Math.PI)/3)},Cq=function(r,t,n,a,i,o,u,s){var l=1*n*n-4*n*i+2*n*u+4*i*i-4*i*u+u*u+a*a-4*a*o+2*a*s+4*o*o-4*o*s+s*s,f=1*9*n*i-3*n*n-3*n*u-6*i*i+3*i*u+9*a*o-3*a*a-3*a*s-6*o*o+3*o*s,c=1*3*n*n-6*n*i+n*u-n*r+2*i*i+2*i*r-u*r+3*a*a-6*a*o+a*s-a*t+2*o*o+2*o*t-s*t,d=1*n*i-n*n+n*r-i*r+a*o-a*a+a*t-o*t,v=[];Sq(l,f,c,d,v);for(var h=1e-7,b=[],m=0;m<6;m+=2)Math.abs(v[m+1])<h&&v[m]>=0&&v[m]<=1&&b.push(v[m]);b.push(1),b.push(0);for(var g=-1,p,y,w,E=0;E<b.length;E++)p=Math.pow(1-b[E],2)*n+2*(1-b[E])*b[E]*i+b[E]*b[E]*u,y=Math.pow(1-b[E],2)*a+2*(1-b[E])*b[E]*o+b[E]*b[E]*s,w=Math.pow(p-r,2)+Math.pow(y-t,2),g>=0?w<g&&(g=w):g=w;return g},kq=function(r,t,n,a,i,o){var u=[r-n,t-a],s=[i-n,o-a],l=s[0]*s[0]+s[1]*s[1],f=u[0]*u[0]+u[1]*u[1],c=u[0]*s[0]+u[1]*s[1],d=c*c/l;return c<0?f:d>l?(r-i)*(r-i)+(t-o)*(t-o):f-d},ct=function(r,t,n){for(var a,i,o,u,s,l=0,f=0;f<n.length/2;f++)if(a=n[f*2],i=n[f*2+1],f+1<n.length/2?(o=n[(f+1)*2],u=n[(f+1)*2+1]):(o=n[(f+1-n.length/2)*2],u=n[(f+1-n.length/2)*2+1]),!(a==r&&o==r))if(a>=r&&r>=o||a<=r&&r<=o)s=(r-a)/(o-a)*(u-i)+i,s>t&&l++;else continue;return l%2!==0},Dn=function(r,t,n,a,i,o,u,s,l){var f=new Array(n.length),c;s[0]!=null?(c=Math.atan(s[1]/s[0]),s[0]<0?c=c+Math.PI/2:c=-c-Math.PI/2):c=s;for(var d=Math.cos(-c),v=Math.sin(-c),h=0;h<f.length/2;h++)f[h*2]=o/2*(n[h*2]*d-n[h*2+1]*v),f[h*2+1]=u/2*(n[h*2+1]*d+n[h*2]*v),f[h*2]+=a,f[h*2+1]+=i;var b;if(l>0){var m=Gl(f,-l);b=Ul(m)}else b=f;return ct(r,t,b)},_q=function(r,t,n,a,i,o,u,s){for(var l=new Array(n.length*2),f=0;f<s.length;f++){var c=s[f];l[f*4+0]=c.startX,l[f*4+1]=c.startY,l[f*4+2]=c.stopX,l[f*4+3]=c.stopY;var d=Math.pow(c.cx-r,2)+Math.pow(c.cy-t,2);if(d<=Math.pow(c.radius,2))return!0}return ct(r,t,l)},Ul=function(r){for(var t=new Array(r.length/2),n,a,i,o,u,s,l,f,c=0;c<r.length/4;c++){n=r[c*4],a=r[c*4+1],i=r[c*4+2],o=r[c*4+3],c<r.length/4-1?(u=r[(c+1)*4],s=r[(c+1)*4+1],l=r[(c+1)*4+2],f=r[(c+1)*4+3]):(u=r[0],s=r[1],l=r[2],f=r[3]);var d=Zn(n,a,i,o,u,s,l,f,!0);t[c*2]=d[0],t[c*2+1]=d[1]}return t},Gl=function(r,t){for(var n=new Array(r.length*2),a,i,o,u,s=0;s<r.length/2;s++){a=r[s*2],i=r[s*2+1],s<r.length/2-1?(o=r[(s+1)*2],u=r[(s+1)*2+1]):(o=r[0],u=r[1]);var l=u-i,f=-(o-a),c=Math.sqrt(l*l+f*f),d=l/c,v=f/c;n[s*4]=a+d*t,n[s*4+1]=i+v*t,n[s*4+2]=o+d*t,n[s*4+3]=u+v*t}return n},Tq=function(r,t,n,a,i,o){var u=n-r,s=a-t;u/=i,s/=o;var l=Math.sqrt(u*u+s*s),f=l-1;if(f<0)return[];var c=f/l;return[(n-r)*c+r,(a-t)*c+t]},za=function(r,t,n,a,i,o,u){return r-=i,t-=o,r/=n/2+u,t/=a/2+u,r*r+t*t<=1},Wo=function(r,t,n,a,i,o,u){var s=[n-r,a-t],l=[r-i,t-o],f=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),d=l[0]*l[0]+l[1]*l[1]-u*u,v=c*c-4*f*d;if(v<0)return[];var h=(-c+Math.sqrt(v))/(2*f),b=(-c-Math.sqrt(v))/(2*f),m=Math.min(h,b),g=Math.max(h,b),p=[];if(m>=0&&m<=1&&p.push(m),g>=0&&g<=1&&p.push(g),p.length===0)return[];var y=p[0]*s[0]+r,w=p[0]*s[1]+t;if(p.length>1){if(p[0]==p[1])return[y,w];var E=p[1]*s[0]+r,S=p[1]*s[1]+t;return[y,w,E,S]}else return[y,w]},Zc=function(r,t,n){return t<=r&&r<=n||n<=r&&r<=t?r:r<=t&&t<=n||n<=t&&t<=r?t:n},Zn=function(r,t,n,a,i,o,u,s,l){var f=r-i,c=n-r,d=u-i,v=t-o,h=a-t,b=s-o,m=d*v-b*f,g=c*v-h*f,p=b*c-d*h;if(p!==0){var y=m/p,w=g/p,E=.001,S=0-E,x=1+E;return S<=y&&y<=x&&S<=w&&w<=x?[r+y*c,t+y*h]:l?[r+y*c,t+y*h]:[]}else return m===0||g===0?Zc(r,n,u)===u?[u,s]:Zc(r,n,i)===i?[i,o]:Zc(i,u,n)===n?[n,a]:[]:[]},Aq=function(r,t,n,a,i){var o=[],u=a/2,s=i/2,l=t,f=n;o.push({x:l+u*r[0],y:f+s*r[1]});for(var c=1;c<r.length/2;c++)o.push({x:l+u*r[c*2],y:f+s*r[c*2+1]});return o},Iu=function(r,t,n,a,i,o,u,s){var l=[],f,c=new Array(n.length),d=!0;o==null&&(d=!1);var v;if(d){for(var h=0;h<c.length/2;h++)c[h*2]=n[h*2]*o+a,c[h*2+1]=n[h*2+1]*u+i;if(s>0){var b=Gl(c,-s);v=Ul(b)}else v=c}else v=n;for(var m,g,p,y,w=0;w<v.length/2;w++)m=v[w*2],g=v[w*2+1],w<v.length/2-1?(p=v[(w+1)*2],y=v[(w+1)*2+1]):(p=v[0],y=v[1]),f=Zn(r,t,a,i,m,g,p,y),f.length!==0&&l.push(f[0],f[1]);return l},Rq=function(r,t,n,a,i,o,u,s,l){var f=[],c,d=new Array(n.length*2);l.forEach(function(p,y){y===0?(d[d.length-2]=p.startX,d[d.length-1]=p.startY):(d[y*4-2]=p.startX,d[y*4-1]=p.startY),d[y*4]=p.stopX,d[y*4+1]=p.stopY,c=Wo(r,t,a,i,p.cx,p.cy,p.radius),c.length!==0&&f.push(c[0],c[1])});for(var v=0;v<d.length/4;v++)c=Zn(r,t,a,i,d[v*4],d[v*4+1],d[v*4+2],d[v*4+3],!1),c.length!==0&&f.push(c[0],c[1]);if(f.length>2){for(var h=[f[0],f[1]],b=Math.pow(h[0]-r,2)+Math.pow(h[1]-t,2),m=1;m<f.length/2;m++){var g=Math.pow(f[m*2]-r,2)+Math.pow(f[m*2+1]-t,2);g<=b&&(h[0]=f[m*2],h[1]=f[m*2+1],b=g)}return h}return f},Is=function(r,t,n){var a=[r[0]-t[0],r[1]-t[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[t[0]+o*a[0],t[1]+o*a[1]]},Jr=function(r,t){var n=S0(r,t);return n=HP(n),n},HP=function(r){for(var t,n,a=r.length/2,i=1/0,o=1/0,u=-1/0,s=-1/0,l=0;l<a;l++)t=r[2*l],n=r[2*l+1],i=Math.min(i,t),u=Math.max(u,t),o=Math.min(o,n),s=Math.max(s,n);for(var f=2/(u-i),c=2/(s-o),d=0;d<a;d++)t=r[2*d]=r[2*d]*f,n=r[2*d+1]=r[2*d+1]*c,i=Math.min(i,t),u=Math.max(u,t),o=Math.min(o,n),s=Math.max(s,n);if(o<-1)for(var v=0;v<a;v++)n=r[2*v+1]=r[2*v+1]+(-1-o);return r},S0=function(r,t){var n=1/r*2*Math.PI,a=r%2===0?Math.PI/2+n/2:Math.PI/2;a+=t;for(var i=new Array(r*2),o,u=0;u<r;u++)o=u*n+a,i[2*u]=Math.cos(o),i[2*u+1]=Math.sin(-o);return i},va=function(r,t){return Math.min(r/4,t/4,8)},WP=function(r,t){return Math.min(r/10,t/10,8)},Q1=function(){return 8},Pq=function(r,t,n){return[r-2*t+n,2*(t-r),r]},C0=function(r,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*r),ctrlPtOffsetPct:.05}};function Qc(e,r){function t(c){for(var d=[],v=0;v<c.length;v++){var h=c[v],b=c[(v+1)%c.length],m={x:b.x-h.x,y:b.y-h.y},g={x:-m.y,y:m.x},p=Math.sqrt(g.x*g.x+g.y*g.y);d.push({x:g.x/p,y:g.y/p})}return d}function n(c,d){var v=1/0,h=-1/0,b=vt(c),m;try{for(b.s();!(m=b.n()).done;){var g=m.value,p=g.x*d.x+g.y*d.y;v=Math.min(v,p),h=Math.max(h,p)}}catch(y){b.e(y)}finally{b.f()}return{min:v,max:h}}function a(c,d){return!(c.max<d.min||d.max<c.min)}var i=[].concat(Fl(t(e)),Fl(t(r))),o=vt(i),u;try{for(o.s();!(u=o.n()).done;){var s=u.value,l=n(e,s),f=n(r,s);if(!a(l,f))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}var Dq=zr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(r){return 1}}),Iq={pageRank:function(r){for(var t=Dq(r),n=t.dampingFactor,a=t.precision,i=t.iterations,o=t.weight,u=this._private.cy,s=this.byGroup(),l=s.nodes,f=s.edges,c=l.length,d=c*c,v=f.length,h=new Array(d),b=new Array(c),m=(1-n)/c,g=0;g<c;g++){for(var p=0;p<c;p++){var y=g*c+p;h[y]=0}b[g]=0}for(var w=0;w<v;w++){var E=f[w],S=E.data("source"),x=E.data("target");if(S!==x){var C=l.indexOfId(S),_=l.indexOfId(x),k=o(E),T=_*c+C;h[T]+=k,b[C]+=k}}for(var A=1/c+m,R=0;R<c;R++)if(b[R]===0)for(var I=0;I<c;I++){var L=I*c+R;h[L]=A}else for(var B=0;B<c;B++){var O=B*c+R;h[O]=h[O]/b[R]+m}for(var D=new Array(c),F=new Array(c),z,q=0;q<c;q++)D[q]=1;for(var $=0;$<i;$++){for(var Y=0;Y<c;Y++)F[Y]=0;for(var M=0;M<c;M++)for(var N=0;N<c;N++){var V=M*c+N;F[M]+=h[V]*D[N]}dq(F),z=D,D=F,F=z;for(var H=0,re=0;re<c;re++){var j=z[re]-D[re];H+=j*j}if(H<a)break}var U={rank:function(K){return K=u.collection(K)[0],D[l.indexOf(K)]}};return U}},wx=zr({root:null,weight:function(r){return 1},directed:!1,alpha:0}),Wi={degreeCentralityNormalized:function(r){r=wx(r);var t=this.cy(),n=this.nodes(),a=n.length;if(r.directed){for(var f={},c={},d=0,v=0,h=0;h<a;h++){var b=n[h],m=b.id();r.root=b;var g=this.degreeCentrality(r);d<g.indegree&&(d=g.indegree),v<g.outdegree&&(v=g.outdegree),f[m]=g.indegree,c[m]=g.outdegree}return{indegree:function(y){return d==0?0:(Se(y)&&(y=t.filter(y)),f[y.id()]/d)},outdegree:function(y){return v===0?0:(Se(y)&&(y=t.filter(y)),c[y.id()]/v)}}}else{for(var i={},o=0,u=0;u<a;u++){var s=n[u];r.root=s;var l=this.degreeCentrality(r);o<l.degree&&(o=l.degree),i[s.id()]=l.degree}return{degree:function(y){return o===0?0:(Se(y)&&(y=t.filter(y)),i[y.id()]/o)}}}},degreeCentrality:function(r){r=wx(r);var t=this.cy(),n=this,a=r,i=a.root,o=a.weight,u=a.directed,s=a.alpha;if(i=t.collection(i)[0],u){for(var v=i.connectedEdges(),h=v.filter(function(S){return S.target().same(i)&&n.has(S)}),b=v.filter(function(S){return S.source().same(i)&&n.has(S)}),m=h.length,g=b.length,p=0,y=0,w=0;w<h.length;w++)p+=o(h[w]);for(var E=0;E<b.length;E++)y+=o(b[E]);return{indegree:Math.pow(m,1-s)*Math.pow(p,s),outdegree:Math.pow(g,1-s)*Math.pow(y,s)}}else{for(var l=i.connectedEdges().intersection(n),f=l.length,c=0,d=0;d<l.length;d++)c+=o(l[d]);return{degree:Math.pow(f,1-s)*Math.pow(c,s)}}}};Wi.dc=Wi.degreeCentrality;Wi.dcn=Wi.degreeCentralityNormalised=Wi.degreeCentralityNormalized;var xx=zr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ki={closenessCentralityNormalized:function(r){for(var t=xx(r),n=t.harmonic,a=t.weight,i=t.directed,o=this.cy(),u={},s=0,l=this.nodes(),f=this.floydWarshall({weight:a,directed:i}),c=0;c<l.length;c++){for(var d=0,v=l[c],h=0;h<l.length;h++)if(c!==h){var b=f.distance(v,l[h]);n?d+=1/b:d+=b}n||(d=1/d),s<d&&(s=d),u[v.id()]=d}return{closeness:function(g){return s==0?0:(Se(g)?g=o.filter(g)[0].id():g=g.id(),u[g]/s)}}},closenessCentrality:function(r){var t=xx(r),n=t.root,a=t.weight,i=t.directed,o=t.harmonic;n=this.filter(n)[0];for(var u=this.dijkstra({root:n,weight:a,directed:i}),s=0,l=this.nodes(),f=0;f<l.length;f++){var c=l[f];if(!c.same(n)){var d=u.distanceTo(c);o?s+=1/d:s+=d}}return o?s:1/s}};Ki.cc=Ki.closenessCentrality;Ki.ccn=Ki.closenessCentralityNormalised=Ki.closenessCentralityNormalized;var Lq=zr({weight:null,directed:!1}),k0={betweennessCentrality:function(r){for(var t=Lq(r),n=t.directed,a=t.weight,i=a!=null,o=this.cy(),u=this.nodes(),s={},l={},f=0,c={set:function(y,w){l[y]=w,w>f&&(f=w)},get:function(y){return l[y]}},d=0;d<u.length;d++){var v=u[d],h=v.id();n?s[h]=v.outgoers().nodes():s[h]=v.openNeighborhood().nodes(),c.set(h,0)}for(var b=function(){for(var y=u[m].id(),w=[],E={},S={},x={},C=new Ju(function(M,N){return x[M]-x[N]}),_=0;_<u.length;_++){var k=u[_].id();E[k]=[],S[k]=0,x[k]=1/0}for(S[y]=1,x[y]=0,C.push(y);!C.empty();){var T=C.pop();if(w.push(T),i)for(var A=0;A<s[T].length;A++){var R=s[T][A],I=o.getElementById(T),L=void 0;I.edgesTo(R).length>0?L=I.edgesTo(R)[0]:L=R.edgesTo(I)[0];var B=a(L);R=R.id(),x[R]>x[T]+B&&(x[R]=x[T]+B,C.nodes.indexOf(R)<0?C.push(R):C.updateItem(R),S[R]=0,E[R]=[]),x[R]==x[T]+B&&(S[R]=S[R]+S[T],E[R].push(T))}else for(var O=0;O<s[T].length;O++){var D=s[T][O].id();x[D]==1/0&&(C.push(D),x[D]=x[T]+1),x[D]==x[T]+1&&(S[D]=S[D]+S[T],E[D].push(T))}}for(var F={},z=0;z<u.length;z++)F[u[z].id()]=0;for(;w.length>0;){for(var q=w.pop(),$=0;$<E[q].length;$++){var Y=E[q][$];F[Y]=F[Y]+S[Y]/S[q]*(1+F[q])}q!=u[m].id()&&c.set(q,c.get(q)+F[q])}},m=0;m<u.length;m++)b();var g={betweenness:function(y){var w=o.collection(y).id();return c.get(w)},betweennessNormalized:function(y){if(f==0)return 0;var w=o.collection(y).id();return c.get(w)/f}};return g.betweennessNormalised=g.betweennessNormalized,g}};k0.bc=k0.betweennessCentrality;var Oq=zr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),Mq=function(r){return Oq(r)},Bq=function(r,t){for(var n=0,a=0;a<t.length;a++)n+=t[a](r);return n},Nq=function(r,t,n){for(var a=0;a<t;a++)r[a*t+a]=n},KP=function(r,t){for(var n,a=0;a<t;a++){n=0;for(var i=0;i<t;i++)n+=r[i*t+a];for(var o=0;o<t;o++)r[o*t+a]=r[o*t+a]/n}},qq=function(r,t,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var u=0;u<n;u++)for(var s=0;s<n;s++)a[i*n+s]+=r[i*n+u]*t[u*n+s]}return a},Fq=function(r,t,n){for(var a=r.slice(0),i=1;i<n;i++)r=qq(r,a,t);return r},zq=function(r,t,n){for(var a=new Array(t*t),i=0;i<t*t;i++)a[i]=Math.pow(r[i],n);return KP(a,t),a},Vq=function(r,t,n,a){for(var i=0;i<n;i++){var o=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a),u=Math.round(t[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==u)return!1}return!0},$q=function(r,t,n,a){for(var i=[],o=0;o<t;o++){for(var u=[],s=0;s<t;s++)Math.round(r[o*t+s]*1e3)/1e3>0&&u.push(n[s]);u.length!==0&&i.push(a.collection(u))}return i},Uq=function(r,t){for(var n=0;n<r.length;n++)if(!t[n]||r[n].id()!==t[n].id())return!1;return!0},Gq=function(r){for(var t=0;t<r.length;t++)for(var n=0;n<r.length;n++)t!=n&&Uq(r[t],r[n])&&r.splice(n,1);return r},Ex=function(r){for(var t=this.nodes(),n=this.edges(),a=this.cy(),i=Mq(r),o={},u=0;u<t.length;u++)o[t[u].id()]=u;for(var s=t.length,l=s*s,f=new Array(l),c,d=0;d<l;d++)f[d]=0;for(var v=0;v<n.length;v++){var h=n[v],b=o[h.source().id()],m=o[h.target().id()],g=Bq(h,i.attributes);f[b*s+m]+=g,f[m*s+b]+=g}Nq(f,s,i.multFactor),KP(f,s);for(var p=!0,y=0;p&&y<i.maxIterations;)p=!1,c=Fq(f,s,i.expandFactor),f=zq(c,s,i.inflateFactor),Vq(f,c,l,4)||(p=!0),y++;var w=$q(f,s,t,a);return w=Gq(w),w},Hq={markovClustering:Ex,mcl:Ex},Wq=function(r){return r},jP=function(r,t){return Math.abs(t-r)},Sx=function(r,t,n){return r+jP(t,n)},Cx=function(r,t,n){return r+Math.pow(n-t,2)},Kq=function(r){return Math.sqrt(r)},jq=function(r,t,n){return Math.max(r,jP(t,n))},Io=function(r,t,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Wq,u=a,s,l,f=0;f<r;f++)s=t(f),l=n(f),u=i(u,s,l);return o(u)},no={euclidean:function(r,t,n){return r>=2?Io(r,t,n,0,Cx,Kq):Io(r,t,n,0,Sx)},squaredEuclidean:function(r,t,n){return Io(r,t,n,0,Cx)},manhattan:function(r,t,n){return Io(r,t,n,0,Sx)},max:function(r,t,n){return Io(r,t,n,-1/0,jq)}};no["squared-euclidean"]=no.squaredEuclidean;no.squaredeuclidean=no.squaredEuclidean;function _f(e,r,t,n,a,i){var o;return ir(e)?o=e:o=no[e]||no.euclidean,r===0&&ir(e)?o(a,i):o(r,t,n,a,i)}var Yq=zr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),J1=function(r){return Yq(r)},Hl=function(r,t,n,a,i){var o=i!=="kMedoids",u=o?function(c){return n[c]}:function(c){return a[c](n)},s=function(d){return a[d](t)},l=n,f=t;return _f(r,a.length,u,s,l,f)},Jc=function(r,t,n){for(var a=n.length,i=new Array(a),o=new Array(a),u=new Array(t),s=null,l=0;l<a;l++)i[l]=r.min(n[l]).value,o[l]=r.max(n[l]).value;for(var f=0;f<t;f++){s=[];for(var c=0;c<a;c++)s[c]=Math.random()*(o[c]-i[c])+i[c];u[f]=s}return u},YP=function(r,t,n,a,i){for(var o=1/0,u=0,s=0;s<t.length;s++){var l=Hl(n,r,t[s],a,i);l<o&&(o=l,u=s)}return u},XP=function(r,t,n){for(var a=[],i=null,o=0;o<t.length;o++)i=t[o],n[i.id()]===r&&a.push(i);return a},Xq=function(r,t,n){return Math.abs(t-r)<=n},Zq=function(r,t,n){for(var a=0;a<r.length;a++)for(var i=0;i<r[a].length;i++){var o=Math.abs(r[a][i]-t[a][i]);if(o>n)return!1}return!0},Qq=function(r,t,n){for(var a=0;a<n;a++)if(r===t[a])return!0;return!1},kx=function(r,t){var n=new Array(t);if(r.length<50)for(var a=0;a<t;a++){for(var i=r[Math.floor(Math.random()*r.length)];Qq(i,n,a);)i=r[Math.floor(Math.random()*r.length)];n[a]=i}else for(var o=0;o<t;o++)n[o]=r[Math.floor(Math.random()*r.length)];return n},_x=function(r,t,n){for(var a=0,i=0;i<t.length;i++)a+=Hl("manhattan",t[i],r,n,"kMedoids");return a},Jq=function(r){var t=this.cy(),n=this.nodes(),a=null,i=J1(r),o=new Array(i.k),u={},s;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,s=Jc(n,i.k,i.attributes)):kr(i.testCentroids)==="object"?s=i.testCentroids:s=Jc(n,i.k,i.attributes):s=Jc(n,i.k,i.attributes);for(var l=!0,f=0;l&&f<i.maxIterations;){for(var c=0;c<n.length;c++)a=n[c],u[a.id()]=YP(a,s,i.distance,i.attributes,"kMeans");l=!1;for(var d=0;d<i.k;d++){var v=XP(d,n,u);if(v.length!==0){for(var h=i.attributes.length,b=s[d],m=new Array(h),g=new Array(h),p=0;p<h;p++){g[p]=0;for(var y=0;y<v.length;y++)a=v[y],g[p]+=i.attributes[p](a);m[p]=g[p]/v.length,Xq(m[p],b[p],i.sensitivityThreshold)||(l=!0)}s[d]=m,o[d]=t.collection(v)}}f++}return o},eF=function(r){var t=this.cy(),n=this.nodes(),a=null,i=J1(r),o=new Array(i.k),u,s={},l,f=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(kr(i.testCentroids)==="object"?u=i.testCentroids:u=kx(n,i.k)):u=kx(n,i.k);for(var c=!0,d=0;c&&d<i.maxIterations;){for(var v=0;v<n.length;v++)a=n[v],s[a.id()]=YP(a,u,i.distance,i.attributes,"kMedoids");c=!1;for(var h=0;h<u.length;h++){var b=XP(h,n,s);if(b.length!==0){f[h]=_x(u[h],b,i.attributes);for(var m=0;m<b.length;m++)l=_x(b[m],b,i.attributes),l<f[h]&&(f[h]=l,u[h]=b[m],c=!0);o[h]=t.collection(b)}}d++}return o},rF=function(r,t,n,a,i){for(var o,u,s=0;s<t.length;s++)for(var l=0;l<r.length;l++)a[s][l]=Math.pow(n[s][l],i.m);for(var f=0;f<r.length;f++)for(var c=0;c<i.attributes.length;c++){o=0,u=0;for(var d=0;d<t.length;d++)o+=a[d][f]*i.attributes[c](t[d]),u+=a[d][f];r[f][c]=o/u}},tF=function(r,t,n,a,i){for(var o=0;o<r.length;o++)t[o]=r[o].slice();for(var u,s,l,f=2/(i.m-1),c=0;c<n.length;c++)for(var d=0;d<a.length;d++){u=0;for(var v=0;v<n.length;v++)s=Hl(i.distance,a[d],n[c],i.attributes,"cmeans"),l=Hl(i.distance,a[d],n[v],i.attributes,"cmeans"),u+=Math.pow(s/l,f);r[d][c]=1/u}},nF=function(r,t,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var u,s,l=0;l<t.length;l++){u=-1/0,s=-1;for(var f=0;f<t[0].length;f++)t[l][f]>u&&(u=t[l][f],s=f);i[s].push(r[l])}for(var c=0;c<i.length;c++)i[c]=a.collection(i[c]);return i},Tx=function(r){var t=this.cy(),n=this.nodes(),a=J1(r),i,o,u,s,l;s=new Array(n.length);for(var f=0;f<n.length;f++)s[f]=new Array(a.k);u=new Array(n.length);for(var c=0;c<n.length;c++)u[c]=new Array(a.k);for(var d=0;d<n.length;d++){for(var v=0,h=0;h<a.k;h++)u[d][h]=Math.random(),v+=u[d][h];for(var b=0;b<a.k;b++)u[d][b]=u[d][b]/v}o=new Array(a.k);for(var m=0;m<a.k;m++)o[m]=new Array(a.attributes.length);l=new Array(n.length);for(var g=0;g<n.length;g++)l[g]=new Array(a.k);for(var p=!0,y=0;p&&y<a.maxIterations;)p=!1,rF(o,n,u,l,a),tF(u,s,o,n,a),Zq(u,s,a.sensitivityThreshold)||(p=!0),y++;return i=nF(n,u,a,t),{clusters:i,degreeOfMembership:u}},aF={kMeans:Jq,kMedoids:eF,fuzzyCMeans:Tx,fcm:Tx},iF=zr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),oF={single:"min",complete:"max"},uF=function(r){var t=iF(r),n=oF[t.linkage];return n!=null&&(t.linkage=n),t},Ax=function(r,t,n,a,i){for(var o=0,u=1/0,s,l=i.attributes,f=function(_,k){return _f(i.distance,l.length,function(T){return l[T](_)},function(T){return l[T](k)},_,k)},c=0;c<r.length;c++){var d=r[c].key,v=n[d][a[d]];v<u&&(o=d,u=v)}if(i.mode==="threshold"&&u>=i.threshold||i.mode==="dendrogram"&&r.length===1)return!1;var h=t[o],b=t[a[o]],m;i.mode==="dendrogram"?m={left:h,right:b,key:h.key}:m={value:h.value.concat(b.value),key:h.key},r[h.index]=m,r.splice(b.index,1),t[h.key]=m;for(var g=0;g<r.length;g++){var p=r[g];h.key===p.key?s=1/0:i.linkage==="min"?(s=n[h.key][p.key],n[h.key][p.key]>n[b.key][p.key]&&(s=n[b.key][p.key])):i.linkage==="max"?(s=n[h.key][p.key],n[h.key][p.key]<n[b.key][p.key]&&(s=n[b.key][p.key])):i.linkage==="mean"?s=(n[h.key][p.key]*h.size+n[b.key][p.key]*b.size)/(h.size+b.size):i.mode==="dendrogram"?s=f(p.value,h.value):s=f(p.value[0],h.value[0]),n[h.key][p.key]=n[p.key][h.key]=s}for(var y=0;y<r.length;y++){var w=r[y].key;if(a[w]===h.key||a[w]===b.key){for(var E=w,S=0;S<r.length;S++){var x=r[S].key;n[w][x]<n[w][E]&&(E=x)}a[w]=E}r[y].index=y}return h.key=b.key=h.index=b.index=null,!0},Mi=function(r,t,n){r&&(r.value?t.push(r.value):(r.left&&Mi(r.left,t),r.right&&Mi(r.right,t)))},_0=function(r,t){if(!r)return"";if(r.left&&r.right){var n=_0(r.left,t),a=_0(r.right,t),i=t.add({group:"nodes",data:{id:n+","+a}});return t.add({group:"edges",data:{source:n,target:i.id()}}),t.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(r.value)return r.value.id()},T0=function(r,t,n){if(!r)return[];var a=[],i=[],o=[];return t===0?(r.left&&Mi(r.left,a),r.right&&Mi(r.right,i),o=a.concat(i),[n.collection(o)]):t===1?r.value?[n.collection(r.value)]:(r.left&&Mi(r.left,a),r.right&&Mi(r.right,i),[n.collection(a),n.collection(i)]):r.value?[n.collection(r.value)]:(r.left&&(a=T0(r.left,t-1,n)),r.right&&(i=T0(r.right,t-1,n)),a.concat(i))},Rx=function(r){for(var t=this.cy(),n=this.nodes(),a=uF(r),i=a.attributes,o=function(y,w){return _f(a.distance,i.length,function(E){return i[E](y)},function(E){return i[E](w)},y,w)},u=[],s=[],l=[],f=[],c=0;c<n.length;c++){var d={value:a.mode==="dendrogram"?n[c]:[n[c]],key:c,index:c};u[c]=d,f[c]=d,s[c]=[],l[c]=0}for(var v=0;v<u.length;v++)for(var h=0;h<=v;h++){var b=void 0;a.mode==="dendrogram"?b=v===h?1/0:o(u[v].value,u[h].value):b=v===h?1/0:o(u[v].value[0],u[h].value[0]),s[v][h]=b,s[h][v]=b,b<s[v][l[v]]&&(l[v]=h)}for(var m=Ax(u,f,s,l,a);m;)m=Ax(u,f,s,l,a);var g;return a.mode==="dendrogram"?(g=T0(u[0],a.dendrogramDepth,t),a.addDendrogram&&_0(u[0],t)):(g=new Array(u.length),u.forEach(function(p,y){p.key=p.index=null,g[y]=t.collection(p.value)})),g},sF={hierarchicalClustering:Rx,hca:Rx},lF=zr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),fF=function(r){var t=r.damping,n=r.preference;.5<=t&&t<1||rr("Damping must range on [0.5, 1).  Got: ".concat(t));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||oe(n)||rr("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),lF(r)},cF=function(r,t,n,a){var i=function(u,s){return a[s](u)};return-_f(r,a.length,function(o){return i(t,o)},function(o){return i(n,o)},t,n)},dF=function(r,t){var n=null;return t==="median"?n=fq(r):t==="mean"?n=lq(r):t==="min"?n=uq(r):t==="max"?n=sq(r):n=t,n},vF=function(r,t,n){for(var a=[],i=0;i<r;i++)t[i*r+i]+n[i*r+i]>0&&a.push(i);return a},Px=function(r,t,n){for(var a=[],i=0;i<r;i++){for(var o=-1,u=-1/0,s=0;s<n.length;s++){var l=n[s];t[i*r+l]>u&&(o=l,u=t[i*r+l])}o>0&&a.push(o)}for(var f=0;f<n.length;f++)a[n[f]]=n[f];return a},hF=function(r,t,n){for(var a=Px(r,t,n),i=0;i<n.length;i++){for(var o=[],u=0;u<a.length;u++)a[u]===n[i]&&o.push(u);for(var s=-1,l=-1/0,f=0;f<o.length;f++){for(var c=0,d=0;d<o.length;d++)c+=t[o[d]*r+o[f]];c>l&&(s=f,l=c)}n[i]=o[s]}return a=Px(r,t,n),a},Dx=function(r){for(var t=this.cy(),n=this.nodes(),a=fF(r),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var u,s,l,f,c,d;u=n.length,s=u*u,l=new Array(s);for(var v=0;v<s;v++)l[v]=-1/0;for(var h=0;h<u;h++)for(var b=0;b<u;b++)h!==b&&(l[h*u+b]=cF(a.distance,n[h],n[b],a.attributes));f=dF(l,a.preference);for(var m=0;m<u;m++)l[m*u+m]=f;c=new Array(s);for(var g=0;g<s;g++)c[g]=0;d=new Array(s);for(var p=0;p<s;p++)d[p]=0;for(var y=new Array(u),w=new Array(u),E=new Array(u),S=0;S<u;S++)y[S]=0,w[S]=0,E[S]=0;for(var x=new Array(u*a.minIterations),C=0;C<x.length;C++)x[C]=0;var _;for(_=0;_<a.maxIterations;_++){for(var k=0;k<u;k++){for(var T=-1/0,A=-1/0,R=-1,I=0,L=0;L<u;L++)y[L]=c[k*u+L],I=d[k*u+L]+l[k*u+L],I>=T?(A=T,T=I,R=L):I>A&&(A=I);for(var B=0;B<u;B++)c[k*u+B]=(1-a.damping)*(l[k*u+B]-T)+a.damping*y[B];c[k*u+R]=(1-a.damping)*(l[k*u+R]-A)+a.damping*y[R]}for(var O=0;O<u;O++){for(var D=0,F=0;F<u;F++)y[F]=d[F*u+O],w[F]=Math.max(0,c[F*u+O]),D+=w[F];D-=w[O],w[O]=c[O*u+O],D+=w[O];for(var z=0;z<u;z++)d[z*u+O]=(1-a.damping)*Math.min(0,D-w[z])+a.damping*y[z];d[O*u+O]=(1-a.damping)*(D-w[O])+a.damping*y[O]}for(var q=0,$=0;$<u;$++){var Y=d[$*u+$]+c[$*u+$]>0?1:0;x[_%a.minIterations*u+$]=Y,q+=Y}if(q>0&&(_>=a.minIterations-1||_==a.maxIterations-1)){for(var M=0,N=0;N<u;N++){E[N]=0;for(var V=0;V<a.minIterations;V++)E[N]+=x[V*u+N];(E[N]===0||E[N]===a.minIterations)&&M++}if(M===u)break}}for(var H=vF(u,c,d),re=hF(u,l,H),j={},U=0;U<H.length;U++)j[H[U]]=[];for(var G=0;G<n.length;G++){var K=i[n[G].id()],X=re[K];X!=null&&j[X].push(n[G])}for(var ne=new Array(H.length),ie=0;ie<H.length;ie++)ne[ie]=t.collection(j[H[ie]]);return ne},pF={affinityPropagation:Dx,ap:Dx},gF=zr({root:void 0,directed:!1}),mF={hierholzer:function(r){if(!Ve(r)){var t=arguments;r={root:t[0],directed:t[1]}}var n=gF(r),a=n.root,i=n.directed,o=this,u=!1,s,l,f;a&&(f=Se(a)?this.filter(a)[0].id():a[0].id());var c={},d={};i?o.forEach(function(p){var y=p.id();if(p.isNode()){var w=p.indegree(!0),E=p.outdegree(!0),S=w-E,x=E-w;S==1?s?u=!0:s=y:x==1?l?u=!0:l=y:(x>1||S>1)&&(u=!0),c[y]=[],p.outgoers().forEach(function(C){C.isEdge()&&c[y].push(C.id())})}else d[y]=[void 0,p.target().id()]}):o.forEach(function(p){var y=p.id();if(p.isNode()){var w=p.degree(!0);w%2&&(s?l?u=!0:l=y:s=y),c[y]=[],p.connectedEdges().forEach(function(E){return c[y].push(E.id())})}else d[y]=[p.source().id(),p.target().id()]});var v={found:!1,trail:void 0};if(u)return v;if(l&&s)if(i){if(f&&l!=f)return v;f=l}else{if(f&&l!=f&&s!=f)return v;f||(f=l)}else f||(f=o[0].id());var h=function(y){for(var w=y,E=[y],S,x,C;c[w].length;)S=c[w].shift(),x=d[S][0],C=d[S][1],w!=C?(c[C]=c[C].filter(function(_){return _!=S}),w=C):!i&&w!=x&&(c[x]=c[x].filter(function(_){return _!=S}),w=x),E.unshift(S),E.unshift(w);return E},b=[],m=[];for(m=h(f);m.length!=1;)c[m[0]].length==0?(b.unshift(o.getElementById(m.shift())),b.unshift(o.getElementById(m.shift()))):m=h(m.shift()).concat(m);b.unshift(o.getElementById(m.shift()));for(var g in c)if(c[g].length)return v;return v.found=!0,v.trail=this.spawn(b,!0),v}},Ls=function(){var r=this,t={},n=0,a=0,i=[],o=[],u={},s=function(d,v){for(var h=o.length-1,b=[],m=r.spawn();o[h].x!=d||o[h].y!=v;)b.push(o.pop().edge),h--;b.push(o.pop().edge),b.forEach(function(g){var p=g.connectedNodes().intersection(r);m.merge(g),p.forEach(function(y){var w=y.id(),E=y.connectedEdges().intersection(r);m.merge(y),t[w].cutVertex?m.merge(E.filter(function(S){return S.isLoop()})):m.merge(E)})}),i.push(m)},l=function(d,v,h){d===h&&(a+=1),t[v]={id:n,low:n++,cutVertex:!1};var b=r.getElementById(v).connectedEdges().intersection(r);if(b.size()===0)i.push(r.spawn(r.getElementById(v)));else{var m,g,p,y;b.forEach(function(w){m=w.source().id(),g=w.target().id(),p=m===v?g:m,p!==h&&(y=w.id(),u[y]||(u[y]=!0,o.push({x:v,y:p,edge:w})),p in t?t[v].low=Math.min(t[v].low,t[p].id):(l(d,p,v),t[v].low=Math.min(t[v].low,t[p].low),t[v].id<=t[p].low&&(t[v].cutVertex=!0,s(v,p))))})}};r.forEach(function(c){if(c.isNode()){var d=c.id();d in t||(a=0,l(d,d),t[d].cutVertex=a>1)}});var f=Object.keys(t).filter(function(c){return t[c].cutVertex}).map(function(c){return r.getElementById(c)});return{cut:r.spawn(f),components:i}},yF={hopcroftTarjanBiconnected:Ls,htbc:Ls,htb:Ls,hopcroftTarjanBiconnectedComponents:Ls},Os=function(){var r=this,t={},n=0,a=[],i=[],o=r.spawn(r),u=function(l){i.push(l),t[l]={index:n,low:n++,explored:!1};var f=r.getElementById(l).connectedEdges().intersection(r);if(f.forEach(function(b){var m=b.target().id();m!==l&&(m in t||u(m),t[m].explored||(t[l].low=Math.min(t[l].low,t[m].low)))}),t[l].index===t[l].low){for(var c=r.spawn();;){var d=i.pop();if(c.merge(r.getElementById(d)),t[d].low=t[l].index,t[d].explored=!0,d===l)break}var v=c.edgesWith(c),h=c.merge(v);a.push(h),o=o.difference(h)}};return r.forEach(function(s){if(s.isNode()){var l=s.id();l in t||u(l)}}),{cut:o,components:a}},bF={tarjanStronglyConnected:Os,tsc:Os,tscc:Os,tarjanStronglyConnectedComponents:Os},ZP={};[Pu,YN,XN,QN,eq,tq,iq,Iq,Wi,Ki,k0,Hq,aF,sF,pF,mF,yF,bF].forEach(function(e){ke(ZP,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var QP=0,JP=1,eD=2,Qt=function(r){if(!(this instanceof Qt))return new Qt(r);this.id="Thenable/1.0.7",this.state=QP,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof r=="function"&&r.call(this,this.fulfill.bind(this),this.reject.bind(this))};Qt.prototype={fulfill:function(r){return Ix(this,JP,"fulfillValue",r)},reject:function(r){return Ix(this,eD,"rejectReason",r)},then:function(r,t){var n=this,a=new Qt;return n.onFulfilled.push(Ox(r,a,"fulfill")),n.onRejected.push(Ox(t,a,"reject")),rD(n),a.proxy}};var Ix=function(r,t,n,a){return r.state===QP&&(r.state=t,r[n]=a,rD(r)),r},rD=function(r){r.state===JP?Lx(r,"onFulfilled",r.fulfillValue):r.state===eD&&Lx(r,"onRejected",r.rejectReason)},Lx=function(r,t,n){if(r[t].length!==0){var a=r[t];r[t]=[];var i=function(){for(var u=0;u<a.length;u++)a[u](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},Ox=function(r,t,n){return function(a){if(typeof r!="function")t[n].call(t,a);else{var i;try{i=r(a)}catch(o){t.reject(o);return}tD(t,i)}}},tD=function(r,t){if(r===t||r.proxy===t){r.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(kr(t)==="object"&&t!==null||typeof t=="function")try{n=t.then}catch(i){r.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(t,function(i){a||(a=!0,i===t?r.reject(new TypeError("circular thenable chain")):tD(r,i))},function(i){a||(a=!0,r.reject(i))})}catch(i){a||r.reject(i)}return}r.fulfill(t)};Qt.all=function(e){return new Qt(function(r,t){for(var n=new Array(e.length),a=0,i=function(s,l){n[s]=l,a++,a===e.length&&r(n)},o=0;o<e.length;o++)(function(u){var s=e[u],l=s!=null&&s.then!=null;if(l)s.then(function(c){i(u,c)},function(c){t(c)});else{var f=s;i(u,f)}})(o)})};Qt.resolve=function(e){return new Qt(function(r,t){r(e)})};Qt.reject=function(e){return new Qt(function(r,t){t(e)})};var fo=typeof Promise<"u"?Promise:Qt,A0=function(r,t,n){var a=U1(r),i=!a,o=this._private=ke({duration:1e3},t,n);if(o.target=r,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&ir(o.complete)&&o.completes.push(o.complete),i){var u=r.position();o.startPosition=o.startPosition||{x:u.x,y:u.y},o.startStyle=o.startStyle||r.cy().style().getAnimationStartStyle(r,o.style)}if(a){var s=r.pan();o.startPan={x:s.x,y:s.y},o.startZoom=r.zoom()}this.length=1,this[0]=this},Za=A0.prototype;ke(Za,{instanceString:function(){return"animation"},hook:function(){var r=this._private;if(!r.hooked){var t,n=r.target._private.animation;r.queue?t=n.queue:t=n.current,t.push(this),Ct(r.target)&&r.target.cy().addToAnimationPool(r.target),r.hooked=!0}return this},play:function(){var r=this._private;return r.progress===1&&(r.progress=0),r.playing=!0,r.started=!1,r.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var r=this._private;return r.applying=!0,r.started=!1,r.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var r=this._private;return r.playing=!1,r.started=!1,this},stop:function(){var r=this._private;return r.playing=!1,r.started=!1,r.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(r){var t=this._private;return r===void 0?t.progress*t.duration:this.progress(r/t.duration)},progress:function(r){var t=this._private,n=t.playing;return r===void 0?t.progress:(n&&this.pause(),t.progress=r,t.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var r=this._private,t=r.playing;t&&this.pause(),r.progress=1-r.progress,r.started=!1;var n=function(l,f){var c=r[l];c!=null&&(r[l]=r[f],r[f]=c)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),r.style)for(var a=0;a<r.style.length;a++){var i=r.style[a],o=i.name,u=r.startStyle[o];r.startStyle[o]=i,r.style[a]=u}return t&&this.play(),this},promise:function(r){var t=this._private,n;switch(r){case"frame":n=t.frames;break;default:case"complete":case"completed":n=t.completes}return new fo(function(a,i){n.push(function(){a()})})}});Za.complete=Za.completed;Za.run=Za.play;Za.running=Za.playing;var wF={animated:function(){return function(){var t=this,n=t.length!==void 0,a=n?t:[t],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var t=this,n=t.length!==void 0,a=n?t:[t],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var u=a[o];u._private.animation.queue=[]}return this}},delay:function(){return function(t,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:t,duration:t,complete:n}):this}},delayAnimation:function(){return function(t,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:t,duration:t,complete:n}):this}},animation:function(){return function(t,n){var a=this,i=a.length!==void 0,o=i?a:[a],u=this._private.cy||this,s=!i,l=!s;if(!u.styleEnabled())return this;var f=u.style();t=ke({},t,n);var c=Object.keys(t).length===0;if(c)return new A0(o[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(l&&(t.style=f.getPropsList(t.style||t.css),t.css=void 0),l&&t.renderedPosition!=null){var d=t.renderedPosition,v=u.pan(),h=u.zoom();t.position=VP(d,h,v)}if(s&&t.panBy!=null){var b=t.panBy,m=u.pan();t.pan={x:m.x+b.x,y:m.y+b.y}}var g=t.center||t.centre;if(s&&g!=null){var p=u.getCenterPan(g.eles,t.zoom);p!=null&&(t.pan=p)}if(s&&t.fit!=null){var y=t.fit,w=u.getFitViewport(y.eles||y.boundingBox,y.padding);w!=null&&(t.pan=w.pan,t.zoom=w.zoom)}if(s&&Ve(t.zoom)){var E=u.getZoomedViewport(t.zoom);E!=null?(E.zoomed&&(t.zoom=E.zoom),E.panned&&(t.pan=E.pan)):t.zoom=null}return new A0(o[0],t)}},animate:function(){return function(t,n){var a=this,i=a.length!==void 0,o=i?a:[a],u=this._private.cy||this;if(!u.styleEnabled())return this;n&&(t=ke({},t,n));for(var s=0;s<o.length;s++){var l=o[s],f=l.animated()&&(t.queue===void 0||t.queue),c=l.animation(t,f?{queue:!0}:void 0);c.play()}return this}},stop:function(){return function(t,n){var a=this,i=a.length!==void 0,o=i?a:[a],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var s=0;s<o.length;s++){for(var l=o[s],f=l._private,c=f.animation.current,d=0;d<c.length;d++){var v=c[d],h=v._private;n&&(h.duration=0)}t&&(f.animation.queue=[]),n||(f.animation.current=[])}return u.notify("draw"),this}}},ed,Mx;function Tf(){if(Mx)return ed;Mx=1;var e=Array.isArray;return ed=e,ed}var rd,Bx;function xF(){if(Bx)return rd;Bx=1;var e=Tf(),r=Zu(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||r(i)?!0:n.test(i)||!t.test(i)||o!=null&&i in Object(o)}return rd=a,rd}var td,Nx;function EF(){if(Nx)return td;Nx=1;var e=IP(),r=Xu(),t="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(u){if(!r(u))return!1;var s=e(u);return s==n||s==a||s==t||s==i}return td=o,td}var nd,qx;function SF(){if(qx)return nd;qx=1;var e=Sf(),r=e["__core-js_shared__"];return nd=r,nd}var ad,Fx;function CF(){if(Fx)return ad;Fx=1;var e=SF(),r=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!r&&r in n}return ad=t,ad}var id,zx;function kF(){if(zx)return id;zx=1;var e=Function.prototype,r=e.toString;function t(n){if(n!=null){try{return r.call(n)}catch{}try{return n+""}catch{}}return""}return id=t,id}var od,Vx;function _F(){if(Vx)return od;Vx=1;var e=EF(),r=CF(),t=Xu(),n=kF(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,s=o.toString,l=u.hasOwnProperty,f=RegExp("^"+s.call(l).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function c(d){if(!t(d)||r(d))return!1;var v=e(d)?f:i;return v.test(n(d))}return od=c,od}var ud,$x;function TF(){if($x)return ud;$x=1;function e(r,t){return r==null?void 0:r[t]}return ud=e,ud}var sd,Ux;function eb(){if(Ux)return sd;Ux=1;var e=_F(),r=TF();function t(n,a){var i=r(n,a);return e(i)?i:void 0}return sd=t,sd}var ld,Gx;function Af(){if(Gx)return ld;Gx=1;var e=eb(),r=e(Object,"create");return ld=r,ld}var fd,Hx;function AF(){if(Hx)return fd;Hx=1;var e=Af();function r(){this.__data__=e?e(null):{},this.size=0}return fd=r,fd}var cd,Wx;function RF(){if(Wx)return cd;Wx=1;function e(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}return cd=e,cd}var dd,Kx;function PF(){if(Kx)return dd;Kx=1;var e=Af(),r="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function a(i){var o=this.__data__;if(e){var u=o[i];return u===r?void 0:u}return n.call(o,i)?o[i]:void 0}return dd=a,dd}var vd,jx;function DF(){if(jx)return vd;jx=1;var e=Af(),r=Object.prototype,t=r.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:t.call(i,a)}return vd=n,vd}var hd,Yx;function IF(){if(Yx)return hd;Yx=1;var e=Af(),r="__lodash_hash_undefined__";function t(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?r:a,this}return hd=t,hd}var pd,Xx;function LF(){if(Xx)return pd;Xx=1;var e=AF(),r=RF(),t=PF(),n=DF(),a=IF();function i(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var l=o[u];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=t,i.prototype.has=n,i.prototype.set=a,pd=i,pd}var gd,Zx;function OF(){if(Zx)return gd;Zx=1;function e(){this.__data__=[],this.size=0}return gd=e,gd}var md,Qx;function nD(){if(Qx)return md;Qx=1;function e(r,t){return r===t||r!==r&&t!==t}return md=e,md}var yd,Jx;function Rf(){if(Jx)return yd;Jx=1;var e=nD();function r(t,n){for(var a=t.length;a--;)if(e(t[a][0],n))return a;return-1}return yd=r,yd}var bd,e2;function MF(){if(e2)return bd;e2=1;var e=Rf(),r=Array.prototype,t=r.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var u=i.length-1;return o==u?i.pop():t.call(i,o,1),--this.size,!0}return bd=n,bd}var wd,r2;function BF(){if(r2)return wd;r2=1;var e=Rf();function r(t){var n=this.__data__,a=e(n,t);return a<0?void 0:n[a][1]}return wd=r,wd}var xd,t2;function NF(){if(t2)return xd;t2=1;var e=Rf();function r(t){return e(this.__data__,t)>-1}return xd=r,xd}var Ed,n2;function qF(){if(n2)return Ed;n2=1;var e=Rf();function r(t,n){var a=this.__data__,i=e(a,t);return i<0?(++this.size,a.push([t,n])):a[i][1]=n,this}return Ed=r,Ed}var Sd,a2;function FF(){if(a2)return Sd;a2=1;var e=OF(),r=MF(),t=BF(),n=NF(),a=qF();function i(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var l=o[u];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=t,i.prototype.has=n,i.prototype.set=a,Sd=i,Sd}var Cd,i2;function zF(){if(i2)return Cd;i2=1;var e=eb(),r=Sf(),t=e(r,"Map");return Cd=t,Cd}var kd,o2;function VF(){if(o2)return kd;o2=1;var e=LF(),r=FF(),t=zF();function n(){this.size=0,this.__data__={hash:new e,map:new(t||r),string:new e}}return kd=n,kd}var _d,u2;function $F(){if(u2)return _d;u2=1;function e(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}return _d=e,_d}var Td,s2;function Pf(){if(s2)return Td;s2=1;var e=$F();function r(t,n){var a=t.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Td=r,Td}var Ad,l2;function UF(){if(l2)return Ad;l2=1;var e=Pf();function r(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}return Ad=r,Ad}var Rd,f2;function GF(){if(f2)return Rd;f2=1;var e=Pf();function r(t){return e(this,t).get(t)}return Rd=r,Rd}var Pd,c2;function HF(){if(c2)return Pd;c2=1;var e=Pf();function r(t){return e(this,t).has(t)}return Pd=r,Pd}var Dd,d2;function WF(){if(d2)return Dd;d2=1;var e=Pf();function r(t,n){var a=e(this,t),i=a.size;return a.set(t,n),this.size+=a.size==i?0:1,this}return Dd=r,Dd}var Id,v2;function KF(){if(v2)return Id;v2=1;var e=VF(),r=UF(),t=GF(),n=HF(),a=WF();function i(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var l=o[u];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=t,i.prototype.has=n,i.prototype.set=a,Id=i,Id}var Ld,h2;function jF(){if(h2)return Ld;h2=1;var e=KF(),r="Expected a function";function t(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(r);var i=function(){var o=arguments,u=a?a.apply(this,o):o[0],s=i.cache;if(s.has(u))return s.get(u);var l=n.apply(this,o);return i.cache=s.set(u,l)||s,l};return i.cache=new(t.Cache||e),i}return t.Cache=e,Ld=t,Ld}var Od,p2;function YF(){if(p2)return Od;p2=1;var e=jF(),r=500;function t(n){var a=e(n,function(o){return i.size===r&&i.clear(),o}),i=a.cache;return a}return Od=t,Od}var Md,g2;function aD(){if(g2)return Md;g2=1;var e=YF(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(r,function(o,u,s,l){i.push(s?l.replace(t,"$1"):u||o)}),i});return Md=n,Md}var Bd,m2;function iD(){if(m2)return Bd;m2=1;function e(r,t){for(var n=-1,a=r==null?0:r.length,i=Array(a);++n<a;)i[n]=t(r[n],n,r);return i}return Bd=e,Bd}var Nd,y2;function XF(){if(y2)return Nd;y2=1;var e=H1(),r=iD(),t=Tf(),n=Zu(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(u){if(typeof u=="string")return u;if(t(u))return r(u,o)+"";if(n(u))return i?i.call(u):"";var s=u+"";return s=="0"&&1/u==-1/0?"-0":s}return Nd=o,Nd}var qd,b2;function oD(){if(b2)return qd;b2=1;var e=XF();function r(t){return t==null?"":e(t)}return qd=r,qd}var Fd,w2;function uD(){if(w2)return Fd;w2=1;var e=Tf(),r=xF(),t=aD(),n=oD();function a(i,o){return e(i)?i:r(i,o)?[i]:t(n(i))}return Fd=a,Fd}var zd,x2;function rb(){if(x2)return zd;x2=1;var e=Zu();function r(t){if(typeof t=="string"||e(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}return zd=r,zd}var Vd,E2;function ZF(){if(E2)return Vd;E2=1;var e=uD(),r=rb();function t(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[r(a[i++])];return i&&i==o?n:void 0}return Vd=t,Vd}var $d,S2;function QF(){if(S2)return $d;S2=1;var e=ZF();function r(t,n,a){var i=t==null?void 0:e(t,n);return i===void 0?a:i}return $d=r,$d}var JF=QF(),ez=Yu(JF),Ud,C2;function rz(){if(C2)return Ud;C2=1;var e=eb(),r=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch{}}();return Ud=r,Ud}var Gd,k2;function tz(){if(k2)return Gd;k2=1;var e=rz();function r(t,n,a){n=="__proto__"&&e?e(t,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[n]=a}return Gd=r,Gd}var Hd,_2;function nz(){if(_2)return Hd;_2=1;var e=tz(),r=nD(),t=Object.prototype,n=t.hasOwnProperty;function a(i,o,u){var s=i[o];(!(n.call(i,o)&&r(s,u))||u===void 0&&!(o in i))&&e(i,o,u)}return Hd=a,Hd}var Wd,T2;function az(){if(T2)return Wd;T2=1;var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function t(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&r.test(n))&&n>-1&&n%1==0&&n<a}return Wd=t,Wd}var Kd,A2;function iz(){if(A2)return Kd;A2=1;var e=nz(),r=uD(),t=az(),n=Xu(),a=rb();function i(o,u,s,l){if(!n(o))return o;u=r(u,o);for(var f=-1,c=u.length,d=c-1,v=o;v!=null&&++f<c;){var h=a(u[f]),b=s;if(h==="__proto__"||h==="constructor"||h==="prototype")return o;if(f!=d){var m=v[h];b=l?l(m,h,v):void 0,b===void 0&&(b=n(m)?m:t(u[f+1])?[]:{})}e(v,h,b),v=v[h]}return o}return Kd=i,Kd}var jd,R2;function oz(){if(R2)return jd;R2=1;var e=iz();function r(t,n,a){return t==null?t:e(t,n,a)}return jd=r,jd}var uz=oz(),sz=Yu(uz),Yd,P2;function lz(){if(P2)return Yd;P2=1;function e(r,t){var n=-1,a=r.length;for(t||(t=Array(a));++n<a;)t[n]=r[n];return t}return Yd=e,Yd}var Xd,D2;function fz(){if(D2)return Xd;D2=1;var e=iD(),r=lz(),t=Tf(),n=Zu(),a=aD(),i=rb(),o=oD();function u(s){return t(s)?e(s,i):n(s)?[s]:r(a(o(s)))}return Xd=u,Xd}var cz=fz(),dz=Yu(cz),vz={data:function(r){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return r=ke({},t,r),function(a,i){var o=r,u=this,s=u.length!==void 0,l=s?u:[u],f=s?u[0]:u;if(Se(a)){var c=a.indexOf(".")!==-1,d=c&&dz(a);if(o.allowGetting&&i===void 0){var v;return f&&(o.beforeGet(f),d&&f._private[o.field][a]===void 0?v=ez(f._private[o.field],d):v=f._private[o.field][a]),v}else if(o.allowSetting&&i!==void 0){var h=!o.immutableKeys[a];if(h){var b=EP({},a,i);o.beforeSet(u,b);for(var m=0,g=l.length;m<g;m++){var p=l[m];o.canSet(p)&&(d&&f._private[o.field][a]===void 0?sz(p._private[o.field],d,i):p._private[o.field][a]=i)}o.updateStyle&&u.updateStyle(),o.onSet(u),o.settingTriggersEvent&&u[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&Ve(a)){var y=a,w,E,S=Object.keys(y);o.beforeSet(u,y);for(var x=0;x<S.length;x++){w=S[x],E=y[w];var C=!o.immutableKeys[w];if(C)for(var _=0;_<l.length;_++){var k=l[_];o.canSet(k)&&(k._private[o.field][w]=E)}}o.updateStyle&&u.updateStyle(),o.onSet(u),o.settingTriggersEvent&&u[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&ir(a)){var T=a;u.on(o.bindingEvent,T)}else if(o.allowGetting&&a===void 0){var A;return f&&(o.beforeGet(f),A=f._private[o.field]),A}return u}},removeData:function(r){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return r=ke({},t,r),function(a){var i=r,o=this,u=o.length!==void 0,s=u?o:[o];if(Se(a)){for(var l=a.split(/\s+/),f=l.length,c=0;c<f;c++){var d=l[c];if(!ca(d)){var v=!i.immutableKeys[d];if(v)for(var h=0,b=s.length;h<b;h++)s[h]._private[i.field][d]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var m=0,g=s.length;m<g;m++)for(var p=s[m]._private[i.field],y=Object.keys(p),w=0;w<y.length;w++){var E=y[w],S=!i.immutableKeys[E];S&&(p[E]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},hz={eventAliasesOn:function(r){var t=r;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new fo(function(u,s){var l=function(v){i.off.apply(i,c),u(v)},f=o.concat([l]),c=f.concat([]);i.on.apply(i,f)})}}},Ue={};[wF,vz,hz].forEach(function(e){ke(Ue,e)});var pz={animate:Ue.animate(),animation:Ue.animation(),animated:Ue.animated(),clearQueue:Ue.clearQueue(),delay:Ue.delay(),delayAnimation:Ue.delayAnimation(),stop:Ue.stop()},ul={classes:function(r){var t=this;if(r===void 0){var n=[];return t[0]._private.classes.forEach(function(h){return n.push(h)}),n}else Ke(r)||(r=(r||"").match(/\S+/g)||[]);for(var a=[],i=new lo(r),o=0;o<t.length;o++){for(var u=t[o],s=u._private,l=s.classes,f=!1,c=0;c<r.length;c++){var d=r[c],v=l.has(d);if(!v){f=!0;break}}f||(f=l.size!==r.length),f&&(s.classes=i,a.push(u))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),t},addClass:function(r){return this.toggleClass(r,!0)},hasClass:function(r){var t=this[0];return t!=null&&t._private.classes.has(r)},toggleClass:function(r,t){Ke(r)||(r=r.match(/\S+/g)||[]);for(var n=this,a=t===void 0,i=[],o=0,u=n.length;o<u;o++)for(var s=n[o],l=s._private.classes,f=!1,c=0;c<r.length;c++){var d=r[c],v=l.has(d),h=!1;t||a&&!v?(l.add(d),h=!0):(!t||a&&v)&&(l.delete(d),h=!0),!f&&h&&(i.push(s),f=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(r){return this.toggleClass(r,!1)},flashClass:function(r,t){var n=this;if(t==null)t=250;else if(t===0)return n;return n.addClass(r),setTimeout(function(){n.removeClass(r)},t),n}};ul.className=ul.classNames=ul.classes;var Fe={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Cr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Fe.variable="(?:[\\w-.]|(?:\\\\"+Fe.metaChar+"))+";Fe.className="(?:[\\w-]|(?:\\\\"+Fe.metaChar+"))+";Fe.value=Fe.string+"|"+Fe.number;Fe.id=Fe.variable;(function(){var e,r,t;for(e=Fe.comparatorOp.split("|"),t=0;t<e.length;t++)r=e[t],Fe.comparatorOp+="|@"+r;for(e=Fe.comparatorOp.split("|"),t=0;t<e.length;t++)r=e[t],!(r.indexOf("!")>=0)&&r!=="="&&(Fe.comparatorOp+="|\\!"+r)})();var We=function(){return{checks:[]}},ce={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},R0=[{selector:":selected",matches:function(r){return r.selected()}},{selector:":unselected",matches:function(r){return!r.selected()}},{selector:":selectable",matches:function(r){return r.selectable()}},{selector:":unselectable",matches:function(r){return!r.selectable()}},{selector:":locked",matches:function(r){return r.locked()}},{selector:":unlocked",matches:function(r){return!r.locked()}},{selector:":visible",matches:function(r){return r.visible()}},{selector:":hidden",matches:function(r){return!r.visible()}},{selector:":transparent",matches:function(r){return r.transparent()}},{selector:":grabbed",matches:function(r){return r.grabbed()}},{selector:":free",matches:function(r){return!r.grabbed()}},{selector:":removed",matches:function(r){return r.removed()}},{selector:":inside",matches:function(r){return!r.removed()}},{selector:":grabbable",matches:function(r){return r.grabbable()}},{selector:":ungrabbable",matches:function(r){return!r.grabbable()}},{selector:":animated",matches:function(r){return r.animated()}},{selector:":unanimated",matches:function(r){return!r.animated()}},{selector:":parent",matches:function(r){return r.isParent()}},{selector:":childless",matches:function(r){return r.isChildless()}},{selector:":child",matches:function(r){return r.isChild()}},{selector:":orphan",matches:function(r){return r.isOrphan()}},{selector:":nonorphan",matches:function(r){return r.isChild()}},{selector:":compound",matches:function(r){return r.isNode()?r.isParent():r.source().isParent()||r.target().isParent()}},{selector:":loop",matches:function(r){return r.isLoop()}},{selector:":simple",matches:function(r){return r.isSimple()}},{selector:":active",matches:function(r){return r.active()}},{selector:":inactive",matches:function(r){return!r.active()}},{selector:":backgrounding",matches:function(r){return r.backgrounding()}},{selector:":nonbackgrounding",matches:function(r){return!r.backgrounding()}}].sort(function(e,r){return vN(e.selector,r.selector)}),gz=function(){for(var e={},r,t=0;t<R0.length;t++)r=R0[t],e[r.selector]=r.matches;return e}(),mz=function(r,t){return gz[r](t)},yz="("+R0.map(function(e){return e.selector}).join("|")+")",fi=function(r){return r.replace(new RegExp("\\\\("+Fe.metaChar+")","g"),function(t,n){return n})},Vn=function(r,t,n){r[r.length-1]=n},P0=[{name:"group",query:!0,regex:"("+Fe.group+")",populate:function(r,t,n){var a=hr(n,1),i=a[0];t.checks.push({type:ce.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:yz,populate:function(r,t,n){var a=hr(n,1),i=a[0];t.checks.push({type:ce.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+Fe.id+")",populate:function(r,t,n){var a=hr(n,1),i=a[0];t.checks.push({type:ce.ID,value:fi(i)})}},{name:"className",query:!0,regex:"\\.("+Fe.className+")",populate:function(r,t,n){var a=hr(n,1),i=a[0];t.checks.push({type:ce.CLASS,value:fi(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Fe.variable+")\\s*\\]",populate:function(r,t,n){var a=hr(n,1),i=a[0];t.checks.push({type:ce.DATA_EXIST,field:fi(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Fe.variable+")\\s*("+Fe.comparatorOp+")\\s*("+Fe.value+")\\s*\\]",populate:function(r,t,n){var a=hr(n,3),i=a[0],o=a[1],u=a[2],s=new RegExp("^"+Fe.string+"$").exec(u)!=null;s?u=u.substring(1,u.length-1):u=parseFloat(u),t.checks.push({type:ce.DATA_COMPARE,field:fi(i),operator:o,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Fe.boolOp+")\\s*("+Fe.variable+")\\s*\\]",populate:function(r,t,n){var a=hr(n,2),i=a[0],o=a[1];t.checks.push({type:ce.DATA_BOOL,field:fi(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Fe.meta+")\\s*("+Fe.comparatorOp+")\\s*("+Fe.number+")\\s*\\]\\]",populate:function(r,t,n){var a=hr(n,3),i=a[0],o=a[1],u=a[2];t.checks.push({type:ce.META_COMPARE,field:fi(i),operator:o,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:Fe.separator,populate:function(r,t){var n=r.currentSubject,a=r.edgeCount,i=r.compoundCount,o=r[r.length-1];n!=null&&(o.subject=n,r.currentSubject=null),o.edgeCount=a,o.compoundCount=i,r.edgeCount=0,r.compoundCount=0;var u=r[r.length++]=We();return u}},{name:"directedEdge",separator:!0,regex:Fe.directedEdge,populate:function(r,t){if(r.currentSubject==null){var n=We(),a=t,i=We();return n.checks.push({type:ce.DIRECTED_EDGE,source:a,target:i}),Vn(r,t,n),r.edgeCount++,i}else{var o=We(),u=t,s=We();return o.checks.push({type:ce.NODE_SOURCE,source:u,target:s}),Vn(r,t,o),r.edgeCount++,s}}},{name:"undirectedEdge",separator:!0,regex:Fe.undirectedEdge,populate:function(r,t){if(r.currentSubject==null){var n=We(),a=t,i=We();return n.checks.push({type:ce.UNDIRECTED_EDGE,nodes:[a,i]}),Vn(r,t,n),r.edgeCount++,i}else{var o=We(),u=t,s=We();return o.checks.push({type:ce.NODE_NEIGHBOR,node:u,neighbor:s}),Vn(r,t,o),s}}},{name:"child",separator:!0,regex:Fe.child,populate:function(r,t){if(r.currentSubject==null){var n=We(),a=We(),i=r[r.length-1];return n.checks.push({type:ce.CHILD,parent:i,child:a}),Vn(r,t,n),r.compoundCount++,a}else if(r.currentSubject===t){var o=We(),u=r[r.length-1],s=We(),l=We(),f=We(),c=We();return o.checks.push({type:ce.COMPOUND_SPLIT,left:u,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:ce.TRUE}],c.checks.push({type:ce.TRUE}),s.checks.push({type:ce.PARENT,parent:c,child:f}),Vn(r,u,o),r.currentSubject=l,r.compoundCount++,f}else{var d=We(),v=We(),h=[{type:ce.PARENT,parent:d,child:v}];return d.checks=t.checks,t.checks=h,r.compoundCount++,v}}},{name:"descendant",separator:!0,regex:Fe.descendant,populate:function(r,t){if(r.currentSubject==null){var n=We(),a=We(),i=r[r.length-1];return n.checks.push({type:ce.DESCENDANT,ancestor:i,descendant:a}),Vn(r,t,n),r.compoundCount++,a}else if(r.currentSubject===t){var o=We(),u=r[r.length-1],s=We(),l=We(),f=We(),c=We();return o.checks.push({type:ce.COMPOUND_SPLIT,left:u,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:ce.TRUE}],c.checks.push({type:ce.TRUE}),s.checks.push({type:ce.ANCESTOR,ancestor:c,descendant:f}),Vn(r,u,o),r.currentSubject=l,r.compoundCount++,f}else{var d=We(),v=We(),h=[{type:ce.ANCESTOR,ancestor:d,descendant:v}];return d.checks=t.checks,t.checks=h,r.compoundCount++,v}}},{name:"subject",modifier:!0,regex:Fe.subject,populate:function(r,t){if(r.currentSubject!=null&&r.currentSubject!==t)return Ge("Redefinition of subject in selector `"+r.toString()+"`"),!1;r.currentSubject=t;var n=r[r.length-1],a=n.checks[0],i=a==null?null:a.type;i===ce.DIRECTED_EDGE?a.type=ce.NODE_TARGET:i===ce.UNDIRECTED_EDGE&&(a.type=ce.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];P0.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var bz=function(r){for(var t,n,a,i=0;i<P0.length;i++){var o=P0[i],u=o.name,s=r.match(o.regexObj);if(s!=null){n=s,t=o,a=u;var l=s[0];r=r.substring(l.length);break}}return{expr:t,match:n,name:a,remaining:r}},wz=function(r){var t=r.match(/^\s+/);if(t){var n=t[0];r=r.substring(n.length)}return r},xz=function(r){var t=this,n=t.inputText=r,a=t[0]=We();for(t.length=1,n=wz(n);;){var i=bz(n);if(i.expr==null)return Ge("The selector `"+r+"`is invalid"),!1;var o=i.match.slice(1),u=i.expr.populate(t,a,o);if(u===!1)return!1;if(u!=null&&(a=u),n=i.remaining,n.match(/^\s*$/))break}var s=t[t.length-1];t.currentSubject!=null&&(s.subject=t.currentSubject),s.edgeCount=t.edgeCount,s.compoundCount=t.compoundCount;for(var l=0;l<t.length;l++){var f=t[l];if(f.compoundCount>0&&f.edgeCount>0)return Ge("The selector `"+r+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(f.edgeCount>1)return Ge("The selector `"+r+"` is invalid because it uses multiple edge selectors"),!1;f.edgeCount===1&&Ge("The selector `"+r+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Ez=function(){if(this.toStringCache!=null)return this.toStringCache;for(var r=function(f){return f??""},t=function(f){return Se(f)?'"'+f+'"':r(f)},n=function(f){return" "+f+" "},a=function(f,c){var d=f.type,v=f.value;switch(d){case ce.GROUP:{var h=r(v);return h.substring(0,h.length-1)}case ce.DATA_COMPARE:{var b=f.field,m=f.operator;return"["+b+n(r(m))+t(v)+"]"}case ce.DATA_BOOL:{var g=f.operator,p=f.field;return"["+r(g)+p+"]"}case ce.DATA_EXIST:{var y=f.field;return"["+y+"]"}case ce.META_COMPARE:{var w=f.operator,E=f.field;return"[["+E+n(r(w))+t(v)+"]]"}case ce.STATE:return v;case ce.ID:return"#"+v;case ce.CLASS:return"."+v;case ce.PARENT:case ce.CHILD:return i(f.parent,c)+n(">")+i(f.child,c);case ce.ANCESTOR:case ce.DESCENDANT:return i(f.ancestor,c)+" "+i(f.descendant,c);case ce.COMPOUND_SPLIT:{var S=i(f.left,c),x=i(f.subject,c),C=i(f.right,c);return S+(S.length>0?" ":"")+x+C}case ce.TRUE:return""}},i=function(f,c){return f.checks.reduce(function(d,v,h){return d+(c===f&&h===0?"$":"")+a(v,c)},"")},o="",u=0;u<this.length;u++){var s=this[u];o+=i(s,s.subject),this.length>1&&u<this.length-1&&(o+=", ")}return this.toStringCache=o,o},Sz={parse:xz,toString:Ez},sD=function(r,t,n){var a,i=Se(r),o=oe(r),u=Se(n),s,l,f=!1,c=!1,d=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),c=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),f=!0),(i||u||f)&&(s=!i&&!o?"":""+r,l=""+n),f&&(r=s=s.toLowerCase(),n=l=l.toLowerCase()),t){case"*=":a=s.indexOf(l)>=0;break;case"$=":a=s.indexOf(l,s.length-l.length)>=0;break;case"^=":a=s.indexOf(l)===0;break;case"=":a=r===n;break;case">":d=!0,a=r>n;break;case">=":d=!0,a=r>=n;break;case"<":d=!0,a=r<n;break;case"<=":d=!0,a=r<=n;break;default:a=!1;break}return c&&(r!=null||!d)&&(a=!a),a},Cz=function(r,t){switch(t){case"?":return!!r;case"!":return!r;case"^":return r===void 0}},kz=function(r){return r!==void 0},tb=function(r,t){return r.data(t)},_z=function(r,t){return r[t]()},lr=[],Je=function(r,t){return r.checks.every(function(n){return lr[n.type](n,t)})};lr[ce.GROUP]=function(e,r){var t=e.value;return t==="*"||t===r.group()};lr[ce.STATE]=function(e,r){var t=e.value;return mz(t,r)};lr[ce.ID]=function(e,r){var t=e.value;return r.id()===t};lr[ce.CLASS]=function(e,r){var t=e.value;return r.hasClass(t)};lr[ce.META_COMPARE]=function(e,r){var t=e.field,n=e.operator,a=e.value;return sD(_z(r,t),n,a)};lr[ce.DATA_COMPARE]=function(e,r){var t=e.field,n=e.operator,a=e.value;return sD(tb(r,t),n,a)};lr[ce.DATA_BOOL]=function(e,r){var t=e.field,n=e.operator;return Cz(tb(r,t),n)};lr[ce.DATA_EXIST]=function(e,r){var t=e.field;return e.operator,kz(tb(r,t))};lr[ce.UNDIRECTED_EDGE]=function(e,r){var t=e.nodes[0],n=e.nodes[1],a=r.source(),i=r.target();return Je(t,a)&&Je(n,i)||Je(n,a)&&Je(t,i)};lr[ce.NODE_NEIGHBOR]=function(e,r){return Je(e.node,r)&&r.neighborhood().some(function(t){return t.isNode()&&Je(e.neighbor,t)})};lr[ce.DIRECTED_EDGE]=function(e,r){return Je(e.source,r.source())&&Je(e.target,r.target())};lr[ce.NODE_SOURCE]=function(e,r){return Je(e.source,r)&&r.outgoers().some(function(t){return t.isNode()&&Je(e.target,t)})};lr[ce.NODE_TARGET]=function(e,r){return Je(e.target,r)&&r.incomers().some(function(t){return t.isNode()&&Je(e.source,t)})};lr[ce.CHILD]=function(e,r){return Je(e.child,r)&&Je(e.parent,r.parent())};lr[ce.PARENT]=function(e,r){return Je(e.parent,r)&&r.children().some(function(t){return Je(e.child,t)})};lr[ce.DESCENDANT]=function(e,r){return Je(e.descendant,r)&&r.ancestors().some(function(t){return Je(e.ancestor,t)})};lr[ce.ANCESTOR]=function(e,r){return Je(e.ancestor,r)&&r.descendants().some(function(t){return Je(e.descendant,t)})};lr[ce.COMPOUND_SPLIT]=function(e,r){return Je(e.subject,r)&&Je(e.left,r)&&Je(e.right,r)};lr[ce.TRUE]=function(){return!0};lr[ce.COLLECTION]=function(e,r){var t=e.value;return t.has(r)};lr[ce.FILTER]=function(e,r){var t=e.value;return t(r)};var Tz=function(r){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===ce.ID)return r.getElementById(t[0].checks[0].value).collection();var n=function(i){for(var o=0;o<t.length;o++){var u=t[o];if(Je(u,i))return!0}return!1};return t.text()==null&&(n=function(){return!0}),r.filter(n)},Az=function(r){for(var t=this,n=0;n<t.length;n++){var a=t[n];if(Je(a,r))return!0}return!1},Rz={matches:Az,filter:Tz},ha=function(r){this.inputText=r,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,r==null||Se(r)&&r.match(/^\s*$/)||(Ct(r)?this.addQuery({checks:[{type:ce.COLLECTION,value:r.collection()}]}):ir(r)?this.addQuery({checks:[{type:ce.FILTER,value:r}]}):Se(r)?this.parse(r)||(this.invalid=!0):rr("A selector must be created from a string; found "))},pa=ha.prototype;[Sz,Rz].forEach(function(e){return ke(pa,e)});pa.text=function(){return this.inputText};pa.size=function(){return this.length};pa.eq=function(e){return this[e]};pa.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};pa.addQuery=function(e){this[this.length++]=e};pa.selector=pa.toString;var oa={allAre:function(r){var t=new ha(r);return this.every(function(n){return t.matches(n)})},is:function(r){var t=new ha(r);return this.some(function(n){return t.matches(n)})},some:function(r,t){for(var n=0;n<this.length;n++){var a=t?r.apply(t,[this[n],n,this]):r(this[n],n,this);if(a)return!0}return!1},every:function(r,t){for(var n=0;n<this.length;n++){var a=t?r.apply(t,[this[n],n,this]):r(this[n],n,this);if(!a)return!1}return!0},same:function(r){if(this===r)return!0;r=this.cy().collection(r);var t=this.length,n=r.length;return t!==n?!1:t===1?this[0]===r[0]:this.every(function(a){return r.hasElementWithId(a.id())})},anySame:function(r){return r=this.cy().collection(r),this.some(function(t){return r.hasElementWithId(t.id())})},allAreNeighbors:function(r){r=this.cy().collection(r);var t=this.neighborhood();return r.every(function(n){return t.hasElementWithId(n.id())})},contains:function(r){r=this.cy().collection(r);var t=this;return r.every(function(n){return t.hasElementWithId(n.id())})}};oa.allAreNeighbours=oa.allAreNeighbors;oa.has=oa.contains;oa.equal=oa.equals=oa.same;var Ot=function(r,t){return function(a,i,o,u){var s=a,l=this,f;if(s==null?f="":Ct(s)&&s.length===1&&(f=s.id()),l.length===1&&f){var c=l[0]._private,d=c.traversalCache=c.traversalCache||{},v=d[t]=d[t]||[],h=Ya(f),b=v[h];return b||(v[h]=r.call(l,a,i,o,u))}else return r.call(l,a,i,o,u)}},ao={parent:function(r){var t=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&t.push(o)}return this.spawn(t,!0).filter(r)},parents:function(r){for(var t=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];t.push(i)}n=n.parent()}return this.spawn(t,!0).filter(r)},commonAncestors:function(r){for(var t,n=0;n<this.length;n++){var a=this[n],i=a.parents();t=t||i,t=t.intersect(i)}return t.filter(r)},orphans:function(r){return this.stdFilter(function(t){return t.isOrphan()}).filter(r)},nonorphans:function(r){return this.stdFilter(function(t){return t.isChild()}).filter(r)},children:Ot(function(e){for(var r=[],t=0;t<this.length;t++)for(var n=this[t],a=n._private.children,i=0;i<a.length;i++)r.push(a[i]);return this.spawn(r,!0).filter(e)},"children"),siblings:function(r){return this.parent().children().not(this).filter(r)},isParent:function(){var r=this[0];if(r)return r.isNode()&&r._private.children.length!==0},isChildless:function(){var r=this[0];if(r)return r.isNode()&&r._private.children.length===0},isChild:function(){var r=this[0];if(r)return r.isNode()&&r._private.parent!=null},isOrphan:function(){var r=this[0];if(r)return r.isNode()&&r._private.parent==null},descendants:function(r){var t=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];t.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(t,!0).filter(r)}};function nb(e,r,t,n){for(var a=[],i=new lo,o=e.cy(),u=o.hasCompoundNodes(),s=0;s<e.length;s++){var l=e[s];t?a.push(l):u&&n(a,i,l)}for(;a.length>0;){var f=a.shift();r(f),i.add(f.id()),u&&n(a,i,f)}return e}function lD(e,r,t){if(t.isParent())for(var n=t._private.children,a=0;a<n.length;a++){var i=n[a];r.has(i.id())||e.push(i)}}ao.forEachDown=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return nb(this,e,r,lD)};function fD(e,r,t){if(t.isChild()){var n=t._private.parent;r.has(n.id())||e.push(n)}}ao.forEachUp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return nb(this,e,r,fD)};function Pz(e,r,t){fD(e,r,t),lD(e,r,t)}ao.forEachUpAndDown=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return nb(this,e,r,Pz)};ao.ancestors=ao.parents;var Lu,cD;Lu=cD={data:Ue.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Ue.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Ue.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ue.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Ue.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Ue.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var r=this[0];if(r)return r._private.data.id}};Lu.attr=Lu.data;Lu.removeAttr=Lu.removeData;var Dz=cD,Df={};function Zd(e){return function(r){var t=this;if(r===void 0&&(r=!0),t.length!==0)if(t.isNode()&&!t.removed()){for(var n=0,a=t[0],i=a._private.edges,o=0;o<i.length;o++){var u=i[o];!r&&u.isLoop()||(n+=e(a,u))}return n}else return}}ke(Df,{degree:Zd(function(e,r){return r.source().same(r.target())?2:1}),indegree:Zd(function(e,r){return r.target().same(e)?1:0}),outdegree:Zd(function(e,r){return r.source().same(e)?1:0})});function ci(e,r){return function(t){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],u=o[e](t);u!==void 0&&(n===void 0||r(u,n))&&(n=u)}return n}}ke(Df,{minDegree:ci("degree",function(e,r){return e<r}),maxDegree:ci("degree",function(e,r){return e>r}),minIndegree:ci("indegree",function(e,r){return e<r}),maxIndegree:ci("indegree",function(e,r){return e>r}),minOutdegree:ci("outdegree",function(e,r){return e<r}),maxOutdegree:ci("outdegree",function(e,r){return e>r})});ke(Df,{totalDegree:function(r){for(var t=0,n=this.nodes(),a=0;a<n.length;a++)t+=n[a].degree(r);return t}});var Xt,dD,vD=function(r,t,n){for(var a=0;a<r.length;a++){var i=r[a];if(!i.locked()){var o=i._private.position,u={x:t.x!=null?t.x-o.x:0,y:t.y!=null?t.y-o.y:0};i.isParent()&&!(u.x===0&&u.y===0)&&i.children().shift(u,n),i.dirtyBoundingBoxCache()}}},I2={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(r){r.updateCompoundBounds()},beforeSet:function(r,t){vD(r,t,!1)},onSet:function(r){r.dirtyCompoundBoundsCache()},canSet:function(r){return!r.locked()}};Xt=dD={position:Ue.data(I2),silentPosition:Ue.data(ke({},I2,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(r,t){vD(r,t,!0)},onSet:function(r){r.dirtyCompoundBoundsCache()}})),positions:function(r,t){if(Ve(r))t?this.silentPosition(r):this.position(r);else if(ir(r)){var n=r,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],u=void 0;(u=n(o,i))&&(t?o.silentPosition(u):o.position(u))}a.endBatch()}return this},silentPositions:function(r){return this.positions(r,!0)},shift:function(r,t,n){var a;if(Ve(r)?(a={x:oe(r.x)?r.x:0,y:oe(r.y)?r.y:0},n=t):Se(r)&&oe(t)&&(a={x:0,y:0},a[r]=t),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var u=this[o];if(!(i.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var s=u.position(),l={x:s.x+a.x,y:s.y+a.y};n?u.silentPosition(l):u.position(l)}}i.endBatch()}return this},silentShift:function(r,t){return Ve(r)?this.shift(r,!0):Se(r)&&oe(t)&&this.shift(r,t,!0),this},renderedPosition:function(r,t){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),u=Ve(r)?r:void 0,s=u!==void 0||t!==void 0&&Se(r);if(n&&n.isNode())if(s)for(var l=0;l<this.length;l++){var f=this[l];t!==void 0?f.position(r,(t-o[r])/i):u!==void 0&&f.position(VP(u,i,o))}else{var c=n.position();return u=kf(c,i,o),r===void 0?u:u[r]}else if(!s)return;return this},relativePosition:function(r,t){var n=this[0],a=this.cy(),i=Ve(r)?r:void 0,o=i!==void 0||t!==void 0&&Se(r),u=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var s=0;s<this.length;s++){var l=this[s],f=u?l.parent():null,c=f&&f.length>0,d=c;c&&(f=f[0]);var v=d?f.position():{x:0,y:0};t!==void 0?l.position(r,t+v[r]):i!==void 0&&l.position({x:i.x+v.x,y:i.y+v.y})}else{var h=n.position(),b=u?n.parent():null,m=b&&b.length>0,g=m;m&&(b=b[0]);var p=g?b.position():{x:0,y:0};return i={x:h.x-p.x,y:h.y-p.y},r===void 0?i:i[r]}else if(!o)return;return this}};Xt.modelPosition=Xt.point=Xt.position;Xt.modelPositions=Xt.points=Xt.positions;Xt.renderedPoint=Xt.renderedPosition;Xt.relativePoint=Xt.relativePosition;var Iz=dD,ji,Ca;ji=Ca={};Ca.renderedBoundingBox=function(e){var r=this.boundingBox(e),t=this.cy(),n=t.zoom(),a=t.pan(),i=r.x1*n+a.x,o=r.x2*n+a.x,u=r.y1*n+a.y,s=r.y2*n+a.y;return{x1:i,x2:o,y1:u,y2:s,w:o-i,h:s-u}};Ca.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.cy();return!r.styleEnabled()||!r.hasCompoundNodes()?this:(this.forEachUp(function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,e||t.emitAndNotify("bounds")}}),this)};Ca.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.cy();if(!r.styleEnabled()||!r.hasCompoundNodes())return this;if(!e&&r.batching())return this;function t(o){if(!o.isParent())return;var u=o._private,s=o.children(),l=o.pstyle("compound-sizing-wrt-labels").value==="include",f={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},c=s.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),d=u.position;(c.w===0||c.h===0)&&(c={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},c.x1=d.x-c.w/2,c.x2=d.x+c.w/2,c.y1=d.y-c.h/2,c.y2=d.y+c.h/2);function v(_,k,T){var A=0,R=0,I=k+T;return _>0&&I>0&&(A=k/I*_,R=T/I*_),{biasDiff:A,biasComplementDiff:R}}function h(_,k,T,A){if(T.units==="%")switch(A){case"width":return _>0?T.pfValue*_:0;case"height":return k>0?T.pfValue*k:0;case"average":return _>0&&k>0?T.pfValue*(_+k)/2:0;case"min":return _>0&&k>0?_>k?T.pfValue*k:T.pfValue*_:0;case"max":return _>0&&k>0?_>k?T.pfValue*_:T.pfValue*k:0;default:return 0}else return T.units==="px"?T.pfValue:0}var b=f.width.left.value;f.width.left.units==="px"&&f.width.val>0&&(b=b*100/f.width.val);var m=f.width.right.value;f.width.right.units==="px"&&f.width.val>0&&(m=m*100/f.width.val);var g=f.height.top.value;f.height.top.units==="px"&&f.height.val>0&&(g=g*100/f.height.val);var p=f.height.bottom.value;f.height.bottom.units==="px"&&f.height.val>0&&(p=p*100/f.height.val);var y=v(f.width.val-c.w,b,m),w=y.biasDiff,E=y.biasComplementDiff,S=v(f.height.val-c.h,g,p),x=S.biasDiff,C=S.biasComplementDiff;u.autoPadding=h(c.w,c.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),u.autoWidth=Math.max(c.w,f.width.val),d.x=(-w+c.x1+c.x2+E)/2,u.autoHeight=Math.max(c.h,f.height.val),d.y=(-x+c.y1+c.y2+C)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||e)&&(t(a),r.batching()||(i.compoundBoundsClean=!0))}return this};var It=function(r){return r===1/0||r===-1/0?0:r},Wt=function(r,t,n,a,i){a-t===0||i-n===0||t==null||n==null||a==null||i==null||(r.x1=t<r.x1?t:r.x1,r.x2=a>r.x2?a:r.x2,r.y1=n<r.y1?n:r.y1,r.y2=i>r.y2?i:r.y2,r.w=r.x2-r.x1,r.h=r.y2-r.y1)},Gn=function(r,t){return t==null?r:Wt(r,t.x1,t.y1,t.x2,t.y2)},Lo=function(r,t,n){return ft(r,t,n)},Ms=function(r,t,n){if(!t.cy().headless()){var a=t._private,i=a.rstyle,o=i.arrowWidth/2,u=t.pstyle(n+"-arrow-shape").value,s,l;if(u!=="none"){n==="source"?(s=i.srcX,l=i.srcY):n==="target"?(s=i.tgtX,l=i.tgtY):(s=i.midX,l=i.midY);var f=a.arrowBounds=a.arrowBounds||{},c=f[n]=f[n]||{};c.x1=s-o,c.y1=l-o,c.x2=s+o,c.y2=l+o,c.w=c.x2-c.x1,c.h=c.y2-c.y1,il(c,1),Wt(r,c.x1,c.y1,c.x2,c.y2)}}},Qd=function(r,t,n){if(!t.cy().headless()){var a;n?a=n+"-":a="";var i=t._private,o=i.rstyle,u=t.pstyle(a+"label").strValue;if(u){var s=t.pstyle("text-halign"),l=t.pstyle("text-valign"),f=Lo(o,"labelWidth",n),c=Lo(o,"labelHeight",n),d=Lo(o,"labelX",n),v=Lo(o,"labelY",n),h=t.pstyle(a+"text-margin-x").pfValue,b=t.pstyle(a+"text-margin-y").pfValue,m=t.isEdge(),g=t.pstyle(a+"text-rotation"),p=t.pstyle("text-outline-width").pfValue,y=t.pstyle("text-border-width").pfValue,w=y/2,E=t.pstyle("text-background-padding").pfValue,S=2,x=c,C=f,_=C/2,k=x/2,T,A,R,I;if(m)T=d-_,A=d+_,R=v-k,I=v+k;else{switch(s.value){case"left":T=d-C,A=d;break;case"center":T=d-_,A=d+_;break;case"right":T=d,A=d+C;break}switch(l.value){case"top":R=v-x,I=v;break;case"center":R=v-k,I=v+k;break;case"bottom":R=v,I=v+x;break}}var L=h-Math.max(p,w)-E-S,B=h+Math.max(p,w)+E+S,O=b-Math.max(p,w)-E-S,D=b+Math.max(p,w)+E+S;T+=L,A+=B,R+=O,I+=D;var F=n||"main",z=i.labelBounds,q=z[F]=z[F]||{};q.x1=T,q.y1=R,q.x2=A,q.y2=I,q.w=A-T,q.h=I-R,q.leftPad=L,q.rightPad=B,q.topPad=O,q.botPad=D;var $=m&&g.strValue==="autorotate",Y=g.pfValue!=null&&g.pfValue!==0;if($||Y){var M=$?Lo(i.rstyle,"labelAngle",n):g.pfValue,N=Math.cos(M),V=Math.sin(M),H=(T+A)/2,re=(R+I)/2;if(!m){switch(s.value){case"left":H=A;break;case"right":H=T;break}switch(l.value){case"top":re=I;break;case"bottom":re=R;break}}var j=function(ue,xe){return ue=ue-H,xe=xe-re,{x:ue*N-xe*V+H,y:ue*V+xe*N+re}},U=j(T,R),G=j(T,I),K=j(A,R),X=j(A,I);T=Math.min(U.x,G.x,K.x,X.x),A=Math.max(U.x,G.x,K.x,X.x),R=Math.min(U.y,G.y,K.y,X.y),I=Math.max(U.y,G.y,K.y,X.y)}var ne=F+"Rot",ie=z[ne]=z[ne]||{};ie.x1=T,ie.y1=R,ie.x2=A,ie.y2=I,ie.w=A-T,ie.h=I-R,Wt(r,T,R,A,I),Wt(i.labelBounds.all,T,R,A,I)}return r}},L2=function(r,t){if(!t.cy().headless()){var n=t.pstyle("outline-opacity").value,a=t.pstyle("outline-width").value,i=t.pstyle("outline-offset").value,o=a+i;hD(r,t,n,o,"outside",o/2)}},hD=function(r,t,n,a,i,o){if(!(n===0||a<=0||i==="inside")){var u=t.cy(),s=t.pstyle("shape").value,l=u.renderer().nodeShapes[s],f=t.position(),c=f.x,d=f.y,v=t.width(),h=t.height();if(l.hasMiterBounds){i==="center"&&(a/=2);var b=l.miterBounds(c,d,v,h,a);Gn(r,b)}else o!=null&&o>0&&ol(r,[o,o,o,o])}},Lz=function(r,t){if(!t.cy().headless()){var n=t.pstyle("border-opacity").value,a=t.pstyle("border-width").pfValue,i=t.pstyle("border-position").value;hD(r,t,n,a,i)}},Oz=function(r,t){var n=r._private.cy,a=n.styleEnabled(),i=n.headless(),o=nt(),u=r._private,s=r.isNode(),l=r.isEdge(),f,c,d,v,h,b,m=u.rstyle,g=s&&a?r.pstyle("bounds-expansion").pfValue:[0],p=function(Ae){return Ae.pstyle("display").value!=="none"},y=!a||p(r)&&(!l||p(r.source())&&p(r.target()));if(y){var w=0,E=0;a&&t.includeOverlays&&(w=r.pstyle("overlay-opacity").value,w!==0&&(E=r.pstyle("overlay-padding").value));var S=0,x=0;a&&t.includeUnderlays&&(S=r.pstyle("underlay-opacity").value,S!==0&&(x=r.pstyle("underlay-padding").value));var C=Math.max(E,x),_=0,k=0;if(a&&(_=r.pstyle("width").pfValue,k=_/2),s&&t.includeNodes){var T=r.position();h=T.x,b=T.y;var A=r.outerWidth(),R=A/2,I=r.outerHeight(),L=I/2;f=h-R,c=h+R,d=b-L,v=b+L,Wt(o,f,d,c,v),a&&L2(o,r),a&&t.includeOutlines&&!i&&L2(o,r),a&&Lz(o,r)}else if(l&&t.includeEdges)if(a&&!i){var B=r.pstyle("curve-style").strValue;if(f=Math.min(m.srcX,m.midX,m.tgtX),c=Math.max(m.srcX,m.midX,m.tgtX),d=Math.min(m.srcY,m.midY,m.tgtY),v=Math.max(m.srcY,m.midY,m.tgtY),f-=k,c+=k,d-=k,v+=k,Wt(o,f,d,c,v),B==="haystack"){var O=m.haystackPts;if(O&&O.length===2){if(f=O[0].x,d=O[0].y,c=O[1].x,v=O[1].y,f>c){var D=f;f=c,c=D}if(d>v){var F=d;d=v,v=F}Wt(o,f-k,d-k,c+k,v+k)}}else if(B==="bezier"||B==="unbundled-bezier"||Yn(B,"segments")||Yn(B,"taxi")){var z;switch(B){case"bezier":case"unbundled-bezier":z=m.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":z=m.linePts;break}if(z!=null)for(var q=0;q<z.length;q++){var $=z[q];f=$.x-k,c=$.x+k,d=$.y-k,v=$.y+k,Wt(o,f,d,c,v)}}}else{var Y=r.source(),M=Y.position(),N=r.target(),V=N.position();if(f=M.x,c=V.x,d=M.y,v=V.y,f>c){var H=f;f=c,c=H}if(d>v){var re=d;d=v,v=re}f-=k,c+=k,d-=k,v+=k,Wt(o,f,d,c,v)}if(a&&t.includeEdges&&l&&(Ms(o,r,"mid-source"),Ms(o,r,"mid-target"),Ms(o,r,"source"),Ms(o,r,"target")),a){var j=r.pstyle("ghost").value==="yes";if(j){var U=r.pstyle("ghost-offset-x").pfValue,G=r.pstyle("ghost-offset-y").pfValue;Wt(o,o.x1+U,o.y1+G,o.x2+U,o.y2+G)}}var K=u.bodyBounds=u.bodyBounds||{};yx(K,o),ol(K,g),il(K,1),a&&(f=o.x1,c=o.x2,d=o.y1,v=o.y2,Wt(o,f-C,d-C,c+C,v+C));var X=u.overlayBounds=u.overlayBounds||{};yx(X,o),ol(X,g),il(X,1);var ne=u.labelBounds=u.labelBounds||{};ne.all!=null?pq(ne.all):ne.all=nt(),a&&t.includeLabels&&(t.includeMainLabels&&Qd(o,r,null),l&&(t.includeSourceLabels&&Qd(o,r,"source"),t.includeTargetLabels&&Qd(o,r,"target")))}return o.x1=It(o.x1),o.y1=It(o.y1),o.x2=It(o.x2),o.y2=It(o.y2),o.w=It(o.x2-o.x1),o.h=It(o.y2-o.y1),o.w>0&&o.h>0&&y&&(ol(o,g),il(o,1)),o},pD=function(r){var t=0,n=function(o){return(o?1:0)<<t++},a=0;return a+=n(r.incudeNodes),a+=n(r.includeEdges),a+=n(r.includeLabels),a+=n(r.includeMainLabels),a+=n(r.includeSourceLabels),a+=n(r.includeTargetLabels),a+=n(r.includeOverlays),a+=n(r.includeOutlines),a},gD=function(r){var t=function(u){return Math.round(u)};if(r.isEdge()){var n=r.source().position(),a=r.target().position();return dx([t(n.x),t(n.y),t(a.x),t(a.y)])}else{var i=r.position();return dx([t(i.x),t(i.y)])}},O2=function(r,t){var n=r._private,a,i=r.isEdge(),o=t==null?M2:pD(t),u=o===M2;if(n.bbCache==null?(a=Oz(r,Ou),n.bbCache=a,n.bbCachePosKey=gD(r)):a=n.bbCache,!u){var s=r.isNode();a=nt(),(t.includeNodes&&s||t.includeEdges&&!s)&&(t.includeOverlays?Gn(a,n.overlayBounds):Gn(a,n.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?Gn(a,n.labelBounds.all):(t.includeMainLabels&&Gn(a,n.labelBounds.mainRot),t.includeSourceLabels&&Gn(a,n.labelBounds.sourceRot),t.includeTargetLabels&&Gn(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Ou={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},M2=pD(Ou),B2=zr(Ou);Ca.boundingBox=function(e){var r,t=e===void 0||e.useCache===void 0||e.useCache===!0,n=to(function(f){var c=f._private;return c.bbCache==null||c.styleDirty||c.bbCachePosKey!==gD(f)},function(f){return f.id()});if(t&&this.length===1&&!n(this[0]))e===void 0?e=Ou:e=B2(e),r=O2(this[0],e);else{r=nt(),e=e||Ou;var a=B2(e),i=this,o=i.cy(),u=o.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),u&&this.recalculateRenderedStyle(t),this.updateCompoundBounds(!t);for(var s=0;s<i.length;s++){var l=i[s];n(l)&&l.dirtyBoundingBoxCache(),Gn(r,O2(l,a))}}return r.x1=It(r.x1),r.y1=It(r.y1),r.x2=It(r.x2),r.y2=It(r.y2),r.w=It(r.x2-r.x1),r.h=It(r.y2-r.y1),r};Ca.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var r=this[e]._private;r.bbCache=null,r.bbCachePosKey=null,r.bodyBounds=null,r.overlayBounds=null,r.labelBounds.all=null,r.labelBounds.source=null,r.labelBounds.target=null,r.labelBounds.main=null,r.labelBounds.sourceRot=null,r.labelBounds.targetRot=null,r.labelBounds.mainRot=null,r.arrowBounds.source=null,r.arrowBounds.target=null,r.arrowBounds["mid-source"]=null,r.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Ca.boundingBoxAt=function(e){var r=this.nodes(),t=this.cy(),n=t.hasCompoundNodes(),a=t.collection();if(n&&(a=r.filter(function(l){return l.isParent()}),r=r.not(a)),Ve(e)){var i=e;e=function(){return i}}var o=function(f,c){return f._private.bbAtOldPos=e(f,c)},u=function(f){return f._private.bbAtOldPos};t.startBatch(),r.forEach(o).silentPositions(e),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var s=hq(this.boundingBox({useCache:!1}));return r.silentPositions(u),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),t.endBatch(),s};ji.boundingbox=ji.bb=ji.boundingBox;ji.renderedBoundingbox=ji.renderedBoundingBox;var Mz=Ca,Ko,es;Ko=es={};var mD=function(r){r.uppercaseName=Zw(r.name),r.autoName="auto"+r.uppercaseName,r.labelName="label"+r.uppercaseName,r.outerName="outer"+r.uppercaseName,r.uppercaseOuterName=Zw(r.outerName),Ko[r.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[r.autoName]||0;var u=n.pstyle(r.name);switch(u.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[r.labelName]||0;default:return u.pfValue}}else return 1},Ko["outer"+r.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var u=n[r.name](),s=n.pstyle("border-position").value,l;s==="center"?l=n.pstyle("border-width").pfValue:s==="outside"?l=2*n.pstyle("border-width").pfValue:l=0;var f=2*n.padding();return u+l+f}else return 1},Ko["rendered"+r.uppercaseName]=function(){var n=this[0];if(n){var a=n[r.name]();return a*this.cy().zoom()}},Ko["rendered"+r.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[r.outerName]();return a*this.cy().zoom()}}};mD({name:"width"});mD({name:"height"});es.padding=function(){var e=this[0],r=e._private;return e.isParent()?(e.updateCompoundBounds(),r.autoPadding!==void 0?r.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};es.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};es.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var Bz=es,Nz=function(r,t){if(r.isEdge()&&r.takesUpSpace())return t(r)},qz=function(r,t){if(r.isEdge()&&r.takesUpSpace()){var n=r.cy();return kf(t(r),n.zoom(),n.pan())}},Fz=function(r,t){if(r.isEdge()&&r.takesUpSpace()){var n=r.cy(),a=n.pan(),i=n.zoom();return t(r).map(function(o){return kf(o,i,a)})}},zz=function(r){return r.renderer().getControlPoints(r)},Vz=function(r){return r.renderer().getSegmentPoints(r)},$z=function(r){return r.renderer().getSourceEndpoint(r)},Uz=function(r){return r.renderer().getTargetEndpoint(r)},Gz=function(r){return r.renderer().getEdgeMidpoint(r)},N2={controlPoints:{get:zz,mult:!0},segmentPoints:{get:Vz,mult:!0},sourceEndpoint:{get:$z},targetEndpoint:{get:Uz},midpoint:{get:Gz}},Hz=function(r){return"rendered"+r[0].toUpperCase()+r.substr(1)},Wz=Object.keys(N2).reduce(function(e,r){var t=N2[r],n=Hz(r);return e[r]=function(){return Nz(this,t.get)},t.mult?e[n]=function(){return Fz(this,t.get)}:e[n]=function(){return qz(this,t.get)},e},{}),Kz=ke({},Iz,Mz,Bz,Wz);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var yD=function(r,t){this.recycle(r,t)};function Oo(){return!1}function Bs(){return!0}yD.prototype={instanceString:function(){return"event"},recycle:function(r,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Oo,r!=null&&r.preventDefault?(this.type=r.type,this.isDefaultPrevented=r.defaultPrevented?Bs:Oo):r!=null&&r.type?t=r:this.type=r,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=r&&r.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Bs;var r=this.originalEvent;r&&r.preventDefault&&r.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Bs;var r=this.originalEvent;r&&r.stopPropagation&&r.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Bs,this.stopPropagation()},isDefaultPrevented:Oo,isPropagationStopped:Oo,isImmediatePropagationStopped:Oo};var bD=/^([^.]+)(\.(?:[^.]+))?$/,jz=".*",wD={qualifierCompare:function(r,t){return r===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(r){return r},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},q2=Object.keys(wD),Yz={};function If(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yz,r=arguments.length>1?arguments[1]:void 0,t=0;t<q2.length;t++){var n=q2[t];this[n]=e[n]||wD[n]}this.context=r||this.context,this.listeners=[],this.emitting=0}var ga=If.prototype,xD=function(r,t,n,a,i,o,u){ir(a)&&(i=a,a=null),u&&(o==null?o=u:o=ke({},o,u));for(var s=Ke(n)?n:n.split(/\s+/),l=0;l<s.length;l++){var f=s[l];if(!ca(f)){var c=f.match(bD);if(c){var d=c[1],v=c[2]?c[2]:null,h=t(r,f,d,v,a,i,o);if(h===!1)break}}}},F2=function(r,t){return r.addEventFields(r.context,t),new yD(t.type,t)},Xz=function(r,t,n){if(tN(n)){t(r,n);return}else if(Ve(n)){t(r,F2(r,n));return}for(var a=Ke(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!ca(o)){var u=o.match(bD);if(u){var s=u[1],l=u[2]?u[2]:null,f=F2(r,{type:s,namespace:l,target:r.context});t(r,f)}}}};ga.on=ga.addListener=function(e,r,t,n,a){return xD(this,function(i,o,u,s,l,f,c){ir(f)&&i.listeners.push({event:o,callback:f,type:u,namespace:s,qualifier:l,conf:c})},e,r,t,n,a),this};ga.one=function(e,r,t,n){return this.on(e,r,t,n,{one:!0})};ga.removeListener=ga.off=function(e,r,t,n){var a=this;this.emitting!==0&&(this.listeners=qN(this.listeners));for(var i=this.listeners,o=function(l){var f=i[l];xD(a,function(c,d,v,h,b,m){if((f.type===v||e==="*")&&(!h&&f.namespace!==".*"||f.namespace===h)&&(!b||c.qualifierCompare(f.qualifier,b))&&(!m||f.callback===m))return i.splice(l,1),!1},e,r,t,n)},u=i.length-1;u>=0;u--)o(u);return this};ga.removeAllListeners=function(){return this.removeListener("*")};ga.emit=ga.trigger=function(e,r,t){var n=this.listeners,a=n.length;return this.emitting++,Ke(r)||(r=[r]),Xz(this,function(i,o){t!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:t}],a=n.length);for(var u=function(){var f=n[s];if(f.type===o.type&&(!f.namespace||f.namespace===o.namespace||f.namespace===jz)&&i.eventMatches(i.context,f,o)){var c=[o];r!=null&&zN(c,r),i.beforeEmit(i.context,f,o),f.conf&&f.conf.one&&(i.listeners=i.listeners.filter(function(h){return h!==f}));var d=i.callbackContext(i.context,f,o),v=f.callback.apply(d,c);i.afterEmit(i.context,f,o),v===!1&&(o.stopPropagation(),o.preventDefault())}},s=0;s<a;s++)u();i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,r)},e),this.emitting--,this};var Zz={qualifierCompare:function(r,t){return r==null||t==null?r==null&&t==null:r.sameText(t)},eventMatches:function(r,t,n){var a=t.qualifier;return a!=null?r!==n.target&&ju(n.target)&&a.matches(n.target):!0},addEventFields:function(r,t){t.cy=r.cy(),t.target=r},callbackContext:function(r,t,n){return t.qualifier!=null?n.target:r},beforeEmit:function(r,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(r){return r.isChild()?r.parent():r.cy()}},Ns=function(r){return Se(r)?new ha(r):r},ED={createEmitter:function(){for(var r=0;r<this.length;r++){var t=this[r],n=t._private;n.emitter||(n.emitter=new If(Zz,t))}return this},emitter:function(){return this._private.emitter},on:function(r,t,n){for(var a=Ns(t),i=0;i<this.length;i++){var o=this[i];o.emitter().on(r,a,n)}return this},removeListener:function(r,t,n){for(var a=Ns(t),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(r,a,n)}return this},removeAllListeners:function(){for(var r=0;r<this.length;r++){var t=this[r];t.emitter().removeAllListeners()}return this},one:function(r,t,n){for(var a=Ns(t),i=0;i<this.length;i++){var o=this[i];o.emitter().one(r,a,n)}return this},once:function(r,t,n){for(var a=Ns(t),i=0;i<this.length;i++){var o=this[i];o.emitter().on(r,a,n,{once:!0,onceCollection:this})}},emit:function(r,t){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(r,t)}return this},emitAndNotify:function(r,t){if(this.length!==0)return this.cy().notify(r,this),this.emit(r,t),this}};Ue.eventAliasesOn(ED);var SD={nodes:function(r){return this.filter(function(t){return t.isNode()}).filter(r)},edges:function(r){return this.filter(function(t){return t.isEdge()}).filter(r)},byGroup:function(){for(var r=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?r.push(a):t.push(a)}return{nodes:r,edges:t}},filter:function(r,t){if(r===void 0)return this;if(Se(r)||Ct(r))return new ha(r).filter(this);if(ir(r)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],u=t?r.apply(t,[o,i,a]):r(o,i,a);u&&n.push(o)}return n}return this.spawn()},not:function(r){if(r){Se(r)&&(r=this.filter(r));for(var t=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=r.has(a);i||t.push(a)}return t}else return this},absoluteComplement:function(){var r=this.cy();return r.mutableElements().not(this)},intersect:function(r){if(Se(r)){var t=r;return this.filter(t)}for(var n=this.spawn(),a=this,i=r,o=this.length<r.length,u=o?a:i,s=o?i:a,l=0;l<u.length;l++){var f=u[l];s.has(f)&&n.push(f)}return n},xor:function(r){var t=this._private.cy;Se(r)&&(r=t.$(r));var n=this.spawn(),a=this,i=r,o=function(s,l){for(var f=0;f<s.length;f++){var c=s[f],d=c._private.data.id,v=l.hasElementWithId(d);v||n.push(c)}};return o(a,i),o(i,a),n},diff:function(r){var t=this._private.cy;Se(r)&&(r=t.$(r));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,u=r,s=function(f,c,d){for(var v=0;v<f.length;v++){var h=f[v],b=h._private.data.id,m=c.hasElementWithId(b);m?i.merge(h):d.push(h)}};return s(o,u,n),s(u,o,a),{left:n,right:a,both:i}},add:function(r){var t=this._private.cy;if(!r)return this;if(Se(r)){var n=r;r=t.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<r.length;i++){var o=r[i],u=!this.has(o);u&&a.push(o)}return a},merge:function(r){var t=this._private,n=t.cy;if(!r)return this;if(r&&Se(r)){var a=r;r=n.mutableElements().filter(a)}for(var i=t.map,o=0;o<r.length;o++){var u=r[o],s=u._private.data.id,l=!i.has(s);if(l){var f=this.length++;this[f]=u,i.set(s,{ele:u,index:f})}}return this},unmergeAt:function(r){var t=this[r],n=t.id(),a=this._private,i=a.map;this[r]=void 0,i.delete(n);var o=r===this.length-1;if(this.length>1&&!o){var u=this.length-1,s=this[u],l=s._private.data.id;this[u]=void 0,this[r]=s,i.set(l,{ele:s,index:r})}return this.length--,this},unmergeOne:function(r){r=r[0];var t=this._private,n=r._private.data.id,a=t.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(r){var t=this._private.cy;if(!r)return this;if(r&&Se(r)){var n=r;r=t.mutableElements().filter(n)}for(var a=0;a<r.length;a++)this.unmergeOne(r[a]);return this},unmergeBy:function(r){for(var t=this.length-1;t>=0;t--){var n=this[t];r(n)&&this.unmergeAt(t)}return this},map:function(r,t){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],u=t?r.apply(t,[o,i,a]):r(o,i,a);n.push(u)}return n},reduce:function(r,t){for(var n=t,a=this,i=0;i<a.length;i++)n=r(n,a[i],i,a);return n},max:function(r,t){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var u=i[o],s=t?r.apply(t,[u,o,i]):r(u,o,i);s>n&&(n=s,a=u)}return{value:n,ele:a}},min:function(r,t){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var u=i[o],s=t?r.apply(t,[u,o,i]):r(u,o,i);s<n&&(n=s,a=u)}return{value:n,ele:a}}},$e=SD;$e.u=$e["|"]=$e["+"]=$e.union=$e.or=$e.add;$e["\\"]=$e["!"]=$e["-"]=$e.difference=$e.relativeComplement=$e.subtract=$e.not;$e.n=$e["&"]=$e["."]=$e.and=$e.intersection=$e.intersect;$e["^"]=$e["(+)"]=$e["(-)"]=$e.symmetricDifference=$e.symdiff=$e.xor;$e.fnFilter=$e.filterFn=$e.stdFilter=$e.filter;$e.complement=$e.abscomp=$e.absoluteComplement;var Qz={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var r=this[0];if(r)return r._private.group}},CD=function(r,t){var n=r.cy(),a=n.hasCompoundNodes();function i(f){var c=f.pstyle("z-compound-depth");return c.value==="auto"?a?f.zDepth():0:c.value==="bottom"?-1:c.value==="top"?W1:0}var o=i(r)-i(t);if(o!==0)return o;function u(f){var c=f.pstyle("z-index-compare");return c.value==="auto"&&f.isNode()?1:0}var s=u(r)-u(t);if(s!==0)return s;var l=r.pstyle("z-index").value-t.pstyle("z-index").value;return l!==0?l:r.poolIndex()-t.poolIndex()},Wl={forEach:function(r,t){if(ir(r))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=t?r.apply(t,[i,a,this]):r(i,a,this);if(o===!1)break}return this},toArray:function(){for(var r=[],t=0;t<this.length;t++)r.push(this[t]);return r},slice:function(r,t){var n=[],a=this.length;t==null&&(t=a),r==null&&(r=0),r<0&&(r=a+r),t<0&&(t=a+t);for(var i=r;i>=0&&i<t&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(r){return this[r]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(r){if(!ir(r))return this;var t=this.toArray().sort(r);return this.spawn(t)},sortByZIndex:function(){return this.sort(CD)},zDepth:function(){var r=this[0];if(r){var t=r._private,n=t.group;if(n==="nodes"){var a=t.data.parent?r.parents().size():0;return r.isParent()?a:W1-1}else{var i=t.source,o=t.target,u=i.zDepth(),s=o.zDepth();return Math.max(u,s,0)}}}};Wl.each=Wl.forEach;var Jz=function(){var r="undefined",t=(typeof Symbol>"u"?"undefined":kr(Symbol))!=r&&kr(Symbol.iterator)!=r;t&&(Wl[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return EP({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};Jz();var e4=zr({nodeDimensionsIncludeLabels:!1}),sl={layoutDimensions:function(r){r=e4(r);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(r.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},layoutPositions:function(r,t,n){var a=this.nodes().filter(function(E){return!E.isParent()}),i=this.cy(),o=t.eles,u=function(S){return S.id()},s=to(n,u);r.emit({type:"layoutstart",layout:r}),r.animations=[];var l=function(S,x,C){var _={x:x.x1+x.w/2,y:x.y1+x.h/2},k={x:(C.x-_.x)*S,y:(C.y-_.y)*S};return{x:_.x+k.x,y:_.y+k.y}},f=t.spacingFactor&&t.spacingFactor!==1,c=function(){if(!f)return null;for(var S=nt(),x=0;x<a.length;x++){var C=a[x],_=s(C,x);$P(S,_.x,_.y)}return S},d=c(),v=to(function(E,S){var x=s(E,S);if(f){var C=Math.abs(t.spacingFactor);x=l(C,d,x)}return t.transform!=null&&(x=t.transform(E,x)),x},u);if(t.animate){for(var h=0;h<a.length;h++){var b=a[h],m=v(b,h),g=t.animateFilter==null||t.animateFilter(b,h);if(g){var p=b.animation({position:m,duration:t.animationDuration,easing:t.animationEasing});r.animations.push(p)}else b.position(m)}if(t.fit){var y=i.animation({fit:{boundingBox:o.boundingBoxAt(v),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});r.animations.push(y)}else if(t.zoom!==void 0&&t.pan!==void 0){var w=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});r.animations.push(w)}r.animations.forEach(function(E){return E.play()}),r.one("layoutready",t.ready),r.emit({type:"layoutready",layout:r}),fo.all(r.animations.map(function(E){return E.promise()})).then(function(){r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r})})}else a.positions(v),t.fit&&i.fit(t.eles,t.padding),t.zoom!=null&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),r.one("layoutready",t.ready),r.emit({type:"layoutready",layout:r}),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});return this},layout:function(r){var t=this.cy();return t.makeLayout(ke({},r,{eles:this}))}};sl.createLayout=sl.makeLayout=sl.layout;function kD(e,r,t){var n=t._private,a=n.styleCache=n.styleCache||[],i;return(i=a[e])!=null||(i=a[e]=r(t)),i}function Lf(e,r){return e=Ya(e),function(n){return kD(e,r,n)}}function Of(e,r){e=Ya(e);var t=function(a){return r.call(a)};return function(){var a=this[0];if(a)return kD(e,t,a)}}var Br={recalculateRenderedStyle:function(r){var t=this.cy(),n=t.renderer(),a=t.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,r),this},dirtyStyleCache:function(){var r=this.cy(),t=function(i){return i._private.styleCache=null};if(r.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(t)}else this.forEach(function(a){t(a),a.connectedEdges().forEach(t)});return this},updateStyle:function(r){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var n=t._private.batchStyleEles;return n.merge(this),this}var a=t.hasCompoundNodes(),i=this;r=!!(r||r===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return r?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var r=this.cy();if(r.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,r.style().apply(n))}},parsedStyle:function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var i=n._private.style[r];return i??(t?a.style().getDefaultProperty(r):null)}},numericStyle:function(r){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(r);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(r){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(r).units},renderedStyle:function(r){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];if(n)return t.style().getRenderedStyle(n,r)},style:function(r,t){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(Ve(r)){var o=r;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(Se(r))if(t===void 0){var u=this[0];return u?i.getStylePropertyValue(u,r):void 0}else i.applyBypass(this,r,t,a),this.emitAndNotify("style");else if(r===void 0){var s=this[0];return s?i.getRawStyle(s):void 0}return this},removeStyle:function(r){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,a=t.style(),i=this;if(r===void 0)for(var o=0;o<i.length;o++){var u=i[o];a.removeAllBypasses(u,n)}else{r=r.split(/\s+/);for(var s=0;s<i.length;s++){var l=i[s];a.removeBypasses(l,r,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var r=this.cy();if(!r.styleEnabled())return 1;var t=r.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!t)return i;var o=a.data.parent?n.parents():null;if(o)for(var u=0;u<o.length;u++){var s=o[u],l=s.pstyle("opacity").value;i=l*i}return i}},transparent:function(){var r=this.cy();if(!r.styleEnabled())return!1;var t=this[0],n=t.cy().hasCompoundNodes();if(t)return n?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},backgrounding:function(){var r=this.cy();if(!r.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};function Jd(e,r){var t=e._private,n=t.data.parent?e.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!r(i))return!1}return!0}function ab(e){var r=e.ok,t=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var u=i._private;if(!r(i))return!1;if(i.isNode())return!o||Jd(i,n);var s=u.source,l=u.target;return t(s)&&(!o||Jd(s,t))&&(s===l||t(l)&&(!o||Jd(l,t)))}}}var co=Lf("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});Br.takesUpSpace=Of("takesUpSpace",ab({ok:co}));var r4=Lf("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&co(e)}),t4=Lf("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&co(e)});Br.interactive=Of("interactive",ab({ok:r4,parentOk:t4,edgeOkViaNode:co}));Br.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var n4=Lf("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&co(e)}),a4=co;Br.visible=Of("visible",ab({ok:n4,edgeOkViaNode:a4}));Br.hidden=function(){var e=this[0];if(e)return!e.visible()};Br.isBundledBezier=Of("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Br.bypass=Br.css=Br.style;Br.renderedCss=Br.renderedStyle;Br.removeBypass=Br.removeCss=Br.removeStyle;Br.pstyle=Br.parsedStyle;var ua={};function z2(e){return function(){var r=arguments,t=[];if(r.length===2){var n=r[0],a=r[1];this.on(e.event,n,a)}else if(r.length===1&&ir(r[0])){var i=r[0];this.on(e.event,i)}else if(r.length===0||r.length===1&&Ke(r[0])){for(var o=r.length===1?r[0]:null,u=0;u<this.length;u++){var s=this[u],l=!e.ableField||s._private[e.ableField],f=s._private[e.field]!=e.value;if(e.overrideAble){var c=e.overrideAble(s);if(c!==void 0&&(l=c,!c))return this}l&&(s._private[e.field]=e.value,f&&t.push(s))}var d=this.spawn(t);d.updateStyle(),d.emit(e.event),o&&d.emit(o)}return this}}function vo(e){ua[e.field]=function(){var r=this[0];if(r){if(e.overrideField){var t=e.overrideField(r);if(t!==void 0)return t}return r._private[e.field]}},ua[e.on]=z2({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),ua[e.off]=z2({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}vo({field:"locked",overrideField:function(r){return r.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});vo({field:"grabbable",overrideField:function(r){return r.cy().autoungrabify()||r.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});vo({field:"selected",ableField:"selectable",overrideAble:function(r){return r.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});vo({field:"selectable",overrideField:function(r){return r.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});ua.deselect=ua.unselect;ua.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};vo({field:"active",on:"activate",off:"unactivate"});vo({field:"pannable",on:"panify",off:"unpanify"});ua.inactive=function(){var e=this[0];if(e)return!e._private.active};var Kr={},V2=function(r){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var u=a[o];if(u.isNode()){for(var s=!1,l=u.connectedEdges(),f=0;f<l.length;f++){var c=l[f],d=c.source(),v=c.target();if(r.noIncomingEdges&&v===u&&d!==u||r.noOutgoingEdges&&d===u&&v!==u){s=!0;break}}s||i.push(u)}}return this.spawn(i,!0).filter(n)}},$2=function(r){return function(t){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var u=o.connectedEdges(),s=0;s<u.length;s++){var l=u[s],f=l.source(),c=l.target();r.outgoing&&f===o?(a.push(l),a.push(c)):r.incoming&&c===o&&(a.push(l),a.push(f))}}return this.spawn(a,!0).filter(t)}},U2=function(r){return function(t){for(var n=this,a=[],i={};;){var o=r.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var u=!1,s=0;s<o.length;s++){var l=o[s],f=l.id();i[f]||(i[f]=!0,a.push(l),u=!0)}if(!u)break;n=o}return this.spawn(a,!0).filter(t)}};Kr.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};ke(Kr,{roots:V2({noIncomingEdges:!0}),leaves:V2({noOutgoingEdges:!0}),outgoers:Ot($2({outgoing:!0}),"outgoers"),successors:U2({outgoing:!0}),incomers:Ot($2({incoming:!0}),"incomers"),predecessors:U2({})});ke(Kr,{neighborhood:Ot(function(e){for(var r=[],t=this.nodes(),n=0;n<t.length;n++)for(var a=t[n],i=a.connectedEdges(),o=0;o<i.length;o++){var u=i[o],s=u.source(),l=u.target(),f=a===s?l:s;f.length>0&&r.push(f[0]),r.push(u[0])}return this.spawn(r,!0).filter(e)},"neighborhood"),closedNeighborhood:function(r){return this.neighborhood().add(this).filter(r)},openNeighborhood:function(r){return this.neighborhood(r)}});Kr.neighbourhood=Kr.neighborhood;Kr.closedNeighbourhood=Kr.closedNeighborhood;Kr.openNeighbourhood=Kr.openNeighborhood;ke(Kr,{source:Ot(function(r){var t=this[0],n;return t&&(n=t._private.source||t.cy().collection()),n&&r?n.filter(r):n},"source"),target:Ot(function(r){var t=this[0],n;return t&&(n=t._private.target||t.cy().collection()),n&&r?n.filter(r):n},"target"),sources:G2({attr:"source"}),targets:G2({attr:"target"})});function G2(e){return function(t){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[e.attr];o&&n.push(o)}return this.spawn(n,!0).filter(t)}}ke(Kr,{edgesWith:Ot(H2(),"edgesWith"),edgesTo:Ot(H2({thisIsSrc:!0}),"edgesTo")});function H2(e){return function(t){var n=[],a=this._private.cy,i=e||{};Se(t)&&(t=a.$(t));for(var o=0;o<t.length;o++)for(var u=t[o]._private.edges,s=0;s<u.length;s++){var l=u[s],f=l._private.data,c=this.hasElementWithId(f.source)&&t.hasElementWithId(f.target),d=t.hasElementWithId(f.source)&&this.hasElementWithId(f.target),v=c||d;v&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!c||i.thisIsTgt&&!d)||n.push(l))}return this.spawn(n,!0)}}ke(Kr,{connectedEdges:Ot(function(e){for(var r=[],t=this,n=0;n<t.length;n++){var a=t[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var u=i[o];r.push(u)}}return this.spawn(r,!0).filter(e)},"connectedEdges"),connectedNodes:Ot(function(e){for(var r=[],t=this,n=0;n<t.length;n++){var a=t[n];a.isEdge()&&(r.push(a.source()[0]),r.push(a.target()[0]))}return this.spawn(r,!0).filter(e)},"connectedNodes"),parallelEdges:Ot(W2(),"parallelEdges"),codirectedEdges:Ot(W2({codirected:!0}),"codirectedEdges")});function W2(e){var r={codirected:!1};return e=ke({},r,e),function(n){for(var a=[],i=this.edges(),o=e,u=0;u<i.length;u++)for(var s=i[u],l=s._private,f=l.source,c=f._private.data.id,d=l.data.target,v=f._private.edges,h=0;h<v.length;h++){var b=v[h],m=b._private.data,g=m.target,p=m.source,y=g===d&&p===c,w=c===g&&d===p;(o.codirected&&y||!o.codirected&&(y||w))&&a.push(b)}return this.spawn(a,!0).filter(n)}}ke(Kr,{components:function(r){var t=this,n=t.cy(),a=n.collection(),i=r==null?t.nodes():r.nodes(),o=[];r!=null&&i.empty()&&(i=r.sources());var u=function(f,c){a.merge(f),i.unmerge(f),c.merge(f)};if(i.empty())return t.spawn();var s=function(){var f=n.collection();o.push(f);var c=i[0];u(c,f),t.bfs({directed:!1,roots:c,visit:function(v){return u(v,f)}}),f.forEach(function(d){d.connectedEdges().forEach(function(v){t.has(v)&&f.has(v.source())&&f.has(v.target())&&f.merge(v)})})};do s();while(i.length>0);return o},component:function(){var r=this[0];return r.cy().mutableElements().components(r)[0]}});Kr.componentsOf=Kr.components;var Nr=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(r===void 0){rr("A collection must have a reference to the core");return}var i=new Cn,o=!1;if(!t)t=[];else if(t.length>0&&Ve(t[0])&&!ju(t[0])){o=!0;for(var u=[],s=new lo,l=0,f=t.length;l<f;l++){var c=t[l];c.data==null&&(c.data={});var d=c.data;if(d.id==null)d.id=FP();else if(r.hasElementWithId(d.id)||s.has(d.id))continue;var v=new Cf(r,c,!1);u.push(v),s.add(d.id)}t=u}this.length=0;for(var h=0,b=t.length;h<b;h++){var m=t[h][0];if(m!=null){var g=m._private.data.id;(!n||!i.has(g))&&(n&&i.set(g,{index:this.length,ele:m}),this[this.length]=m,this.length++)}}this._private={eles:this,cy:r,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(p){this.lazyMap=p},rebuildMap:function(){for(var y=this.lazyMap=new Cn,w=this.eles,E=0;E<w.length;E++){var S=w[E];y.set(S.id(),{index:E,ele:S})}}},n&&(this._private.map=i),o&&!a&&this.restore()},Xe=Cf.prototype=Nr.prototype=Object.create(Array.prototype);Xe.instanceString=function(){return"collection"};Xe.spawn=function(e,r){return new Nr(this.cy(),e,r)};Xe.spawnSelf=function(){return this.spawn(this)};Xe.cy=function(){return this._private.cy};Xe.renderer=function(){return this._private.cy.renderer()};Xe.element=function(){return this[0]};Xe.collection=function(){return kP(this)?this:new Nr(this._private.cy,[this])};Xe.unique=function(){return new Nr(this._private.cy,this,!0)};Xe.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};Xe.getElementById=function(e){e=""+e;var r=this._private.cy,t=this._private.map.get(e);return t?t.ele:new Nr(r)};Xe.$id=Xe.getElementById;Xe.poolIndex=function(){var e=this._private.cy,r=e._private.elements,t=this[0]._private.data.id;return r._private.map.get(t).index};Xe.indexOf=function(e){var r=e[0]._private.data.id;return this._private.map.get(r).index};Xe.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};Xe.json=function(e){var r=this.element(),t=this.cy();if(r==null&&e)return this;if(r!=null){var n=r._private;if(Ve(e)){if(t.startBatch(),e.data){r.data(e.data);var a=n.data;if(r.isEdge()){var i=!1,o={},u=e.data.source,s=e.data.target;u!=null&&u!=a.source&&(o.source=""+u,i=!0),s!=null&&s!=a.target&&(o.target=""+s,i=!0),i&&(r=r.move(o))}else{var l="parent"in e.data,f=e.data.parent;l&&(f!=null||a.parent!=null)&&f!=a.parent&&(f===void 0&&(f=null),f!=null&&(f=""+f),r=r.move({parent:f}))}}e.position&&r.position(e.position);var c=function(b,m,g){var p=e[b];p!=null&&p!==n[b]&&(p?r[m]():r[g]())};return c("removed","remove","restore"),c("selected","select","unselect"),c("selectable","selectify","unselectify"),c("locked","lock","unlock"),c("grabbable","grabify","ungrabify"),c("pannable","panify","unpanify"),e.classes!=null&&r.classes(e.classes),t.endBatch(),this}else if(e===void 0){var d={data:sn(n.data),position:sn(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var v=0;return n.classes.forEach(function(h){return d.classes+=v++===0?h:" "+h}),d}}};Xe.jsons=function(){for(var e=[],r=0;r<this.length;r++){var t=this[r],n=t.json();e.push(n)}return e};Xe.clone=function(){for(var e=this.cy(),r=[],t=0;t<this.length;t++){var n=this[t],a=n.json(),i=new Cf(e,a,!1);r.push(i)}return new Nr(e,r)};Xe.copy=Xe.clone;Xe.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=t.cy(),a=n._private,i=[],o=[],u,s=0,l=t.length;s<l;s++){var f=t[s];r&&!f.removed()||(f.isNode()?i.push(f):o.push(f))}u=i.concat(o);var c,d=function(){u.splice(c,1),c--};for(c=0;c<u.length;c++){var v=u[c],h=v._private,b=h.data;if(v.clearTraversalCache(),!(!r&&!h.removed)){if(b.id===void 0)b.id=FP();else if(oe(b.id))b.id=""+b.id;else if(ca(b.id)||!Se(b.id)){rr("Can not create element with invalid string ID `"+b.id+"`"),d();continue}else if(n.hasElementWithId(b.id)){rr("Can not create second element with ID `"+b.id+"`"),d();continue}}var m=b.id;if(v.isNode()){var g=h.position;g.x==null&&(g.x=0),g.y==null&&(g.y=0)}if(v.isEdge()){for(var p=v,y=["source","target"],w=y.length,E=!1,S=0;S<w;S++){var x=y[S],C=b[x];oe(C)&&(C=b[x]=""+b[x]),C==null||C===""?(rr("Can not create edge `"+m+"` with unspecified "+x),E=!0):n.hasElementWithId(C)||(rr("Can not create edge `"+m+"` with nonexistant "+x+" `"+C+"`"),E=!0)}if(E){d();continue}var _=n.getElementById(b.source),k=n.getElementById(b.target);_.same(k)?_._private.edges.push(p):(_._private.edges.push(p),k._private.edges.push(p)),p._private.source=_,p._private.target=k}h.map=new Cn,h.map.set(m,{ele:v,index:0}),h.removed=!1,r&&n.addToPool(v)}for(var T=0;T<i.length;T++){var A=i[T],R=A._private.data;oe(R.parent)&&(R.parent=""+R.parent);var I=R.parent,L=I!=null;if(L||A._private.parent){var B=A._private.parent?n.collection().merge(A._private.parent):n.getElementById(I);if(B.empty())R.parent=void 0;else if(B[0].removed())Ge("Node added with missing parent, reference to parent removed"),R.parent=void 0,A._private.parent=null;else{for(var O=!1,D=B;!D.empty();){if(A.same(D)){O=!0,R.parent=void 0;break}D=D.parent()}O||(B[0]._private.children.push(A),A._private.parent=B[0],a.hasCompoundNodes=!0)}}}if(u.length>0){for(var F=u.length===t.length?t:new Nr(n,u),z=0;z<F.length;z++){var q=F[z];q.isNode()||(q.parallelEdges().clearTraversalCache(),q.source().clearTraversalCache(),q.target().clearTraversalCache())}var $;a.hasCompoundNodes?$=n.collection().merge(F).merge(F.connectedNodes()).merge(F.parent()):$=F,$.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?F.emitAndNotify("add"):r&&F.emit("add")}return t};Xe.removed=function(){var e=this[0];return e&&e._private.removed};Xe.inside=function(){var e=this[0];return e&&!e._private.removed};Xe.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=[],a={},i=t._private.cy;function o(I){for(var L=I._private.edges,B=0;B<L.length;B++)s(L[B])}function u(I){for(var L=I._private.children,B=0;B<L.length;B++)s(L[B])}function s(I){var L=a[I.id()];r&&I.removed()||L||(a[I.id()]=!0,I.isNode()?(n.push(I),o(I),u(I)):n.unshift(I))}for(var l=0,f=t.length;l<f;l++){var c=t[l];s(c)}function d(I,L){var B=I._private.edges;da(B,L),I.clearTraversalCache()}function v(I){I.clearTraversalCache()}var h=[];h.ids={};function b(I,L){L=L[0],I=I[0];var B=I._private.children,O=I.id();da(B,L),L._private.parent=null,h.ids[O]||(h.ids[O]=!0,h.push(I))}t.dirtyCompoundBoundsCache(),r&&i.removeFromPool(n);for(var m=0;m<n.length;m++){var g=n[m];if(g.isEdge()){var p=g.source()[0],y=g.target()[0];d(p,g),d(y,g);for(var w=g.parallelEdges(),E=0;E<w.length;E++){var S=w[E];v(S),S.isBundledBezier()&&S.dirtyBoundingBoxCache()}}else{var x=g.parent();x.length!==0&&b(x,g)}r&&(g._private.removed=!0)}var C=i._private.elements;i._private.hasCompoundNodes=!1;for(var _=0;_<C.length;_++){var k=C[_];if(k.isParent()){i._private.hasCompoundNodes=!0;break}}var T=new Nr(this.cy(),n);T.size()>0&&(e?T.emitAndNotify("remove"):r&&T.emit("remove"));for(var A=0;A<h.length;A++){var R=h[A];(!r||!R.removed())&&R.updateStyle()}return T};Xe.move=function(e){var r=this._private.cy,t=this,n=!1,a=!1,i=function(h){return h==null?h:""+h};if(e.source!==void 0||e.target!==void 0){var o=i(e.source),u=i(e.target),s=o!=null&&r.hasElementWithId(o),l=u!=null&&r.hasElementWithId(u);(s||l)&&(r.batch(function(){t.remove(n,a),t.emitAndNotify("moveout");for(var v=0;v<t.length;v++){var h=t[v],b=h._private.data;h.isEdge()&&(s&&(b.source=o),l&&(b.target=u))}t.restore(n,a)}),t.emitAndNotify("move"))}else if(e.parent!==void 0){var f=i(e.parent),c=f===null||r.hasElementWithId(f);if(c){var d=f===null?void 0:f;r.batch(function(){var v=t.remove(n,a);v.emitAndNotify("moveout");for(var h=0;h<t.length;h++){var b=t[h],m=b._private.data;b.isNode()&&(m.parent=d)}v.restore(n,a)}),t.emitAndNotify("move")}}return this};[ZP,pz,ul,oa,ao,Dz,Df,Kz,ED,SD,Qz,Wl,sl,Br,ua,Kr].forEach(function(e){ke(Xe,e)});var i4={add:function(r){var t,n=this;if(Ct(r)){var a=r;if(a._private.cy===n)t=a.restore();else{for(var i=[],o=0;o<a.length;o++){var u=a[o];i.push(u.json())}t=new Nr(n,i)}}else if(Ke(r)){var s=r;t=new Nr(n,s)}else if(Ve(r)&&(Ke(r.nodes)||Ke(r.edges))){for(var l=r,f=[],c=["nodes","edges"],d=0,v=c.length;d<v;d++){var h=c[d],b=l[h];if(Ke(b))for(var m=0,g=b.length;m<g;m++){var p=ke({group:h},b[m]);f.push(p)}}t=new Nr(n,f)}else{var y=r;t=new Cf(n,y).collection()}return t},remove:function(r){if(!Ct(r)){if(Se(r)){var t=r;r=this.$(t)}}return r.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function o4(e,r,t,n){var a=4,i=.001,o=1e-7,u=10,s=11,l=1/(s-1),f=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var c=0;c<4;++c)if(typeof arguments[c]!="number"||isNaN(arguments[c])||!isFinite(arguments[c]))return!1;e=Math.min(e,1),t=Math.min(t,1),e=Math.max(e,0),t=Math.max(t,0);var d=f?new Float32Array(s):new Array(s);function v(k,T){return 1-3*T+3*k}function h(k,T){return 3*T-6*k}function b(k){return 3*k}function m(k,T,A){return((v(T,A)*k+h(T,A))*k+b(T))*k}function g(k,T,A){return 3*v(T,A)*k*k+2*h(T,A)*k+b(T)}function p(k,T){for(var A=0;A<a;++A){var R=g(T,e,t);if(R===0)return T;var I=m(T,e,t)-k;T-=I/R}return T}function y(){for(var k=0;k<s;++k)d[k]=m(k*l,e,t)}function w(k,T,A){var R,I,L=0;do I=T+(A-T)/2,R=m(I,e,t)-k,R>0?A=I:T=I;while(Math.abs(R)>o&&++L<u);return I}function E(k){for(var T=0,A=1,R=s-1;A!==R&&d[A]<=k;++A)T+=l;--A;var I=(k-d[A])/(d[A+1]-d[A]),L=T+I*l,B=g(L,e,t);return B>=i?p(k,L):B===0?L:w(k,T,T+l)}var S=!1;function x(){S=!0,(e!==r||t!==n)&&y()}var C=function(T){return S||x(),e===r&&t===n?T:T===0?0:T===1?1:m(E(T),r,n)};C.getControlPoints=function(){return[{x:e,y:r},{x:t,y:n}]};var _="generateBezier("+[e,r,t,n]+")";return C.toString=function(){return _},C}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var u4=function(){function e(n){return-n.tension*n.x-n.friction*n.v}function r(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:e(o)}}function t(n,a){var i={dx:n.v,dv:e(n)},o=r(n,a*.5,i),u=r(n,a*.5,o),s=r(n,a,u),l=1/6*(i.dx+2*(o.dx+u.dx)+s.dx),f=1/6*(i.dv+2*(o.dv+u.dv)+s.dv);return n.x=n.x+l*a,n.v=n.v+f*a,n}return function n(a,i,o){var u={x:-1,v:0,tension:null,friction:null},s=[0],l=0,f=1/1e4,c=16/1e3,d,v,h;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,u.tension=a,u.friction=i,d=o!==null,d?(l=n(a,i),v=l/o*c):v=c;h=t(h||u,v),s.push(1+h.x),l+=16,Math.abs(h.x)>f&&Math.abs(h.v)>f;);return d?function(b){return s[b*(s.length-1)|0]}:l}}(),je=function(r,t,n,a){var i=o4(r,t,n,a);return function(o,u,s){return o+(u-o)*i(s)}},ll={linear:function(r,t,n){return r+(t-r)*n},ease:je(.25,.1,.25,1),"ease-in":je(.42,0,1,1),"ease-out":je(0,0,.58,1),"ease-in-out":je(.42,0,.58,1),"ease-in-sine":je(.47,0,.745,.715),"ease-out-sine":je(.39,.575,.565,1),"ease-in-out-sine":je(.445,.05,.55,.95),"ease-in-quad":je(.55,.085,.68,.53),"ease-out-quad":je(.25,.46,.45,.94),"ease-in-out-quad":je(.455,.03,.515,.955),"ease-in-cubic":je(.55,.055,.675,.19),"ease-out-cubic":je(.215,.61,.355,1),"ease-in-out-cubic":je(.645,.045,.355,1),"ease-in-quart":je(.895,.03,.685,.22),"ease-out-quart":je(.165,.84,.44,1),"ease-in-out-quart":je(.77,0,.175,1),"ease-in-quint":je(.755,.05,.855,.06),"ease-out-quint":je(.23,1,.32,1),"ease-in-out-quint":je(.86,0,.07,1),"ease-in-expo":je(.95,.05,.795,.035),"ease-out-expo":je(.19,1,.22,1),"ease-in-out-expo":je(1,0,0,1),"ease-in-circ":je(.6,.04,.98,.335),"ease-out-circ":je(.075,.82,.165,1),"ease-in-out-circ":je(.785,.135,.15,.86),spring:function(r,t,n){if(n===0)return ll.linear;var a=u4(r,t,n);return function(i,o,u){return i+(o-i)*a(u)}},"cubic-bezier":je};function K2(e,r,t,n,a){if(n===1||r===t)return t;var i=a(r,t,n);return e==null||((e.roundValue||e.color)&&(i=Math.round(i)),e.min!==void 0&&(i=Math.max(i,e.min)),e.max!==void 0&&(i=Math.min(i,e.max))),i}function j2(e,r){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(r==null||r.type.units!=="%")?e.pfValue:e.value:e}function di(e,r,t,n,a){var i=a!=null?a.type:null;t<0?t=0:t>1&&(t=1);var o=j2(e,a),u=j2(r,a);if(oe(o)&&oe(u))return K2(i,o,u,t,n);if(Ke(o)&&Ke(u)){for(var s=[],l=0;l<u.length;l++){var f=o[l],c=u[l];if(f!=null&&c!=null){var d=K2(i,f,c,t,n);s.push(d)}else s.push(c)}return s}}function s4(e,r,t,n){var a=!n,i=e._private,o=r._private,u=o.easing,s=o.startTime,l=n?e:e.cy(),f=l.style();if(!o.easingImpl)if(u==null)o.easingImpl=ll.linear;else{var c;if(Se(u)){var d=f.parse("transition-timing-function",u);c=d.value}else c=u;var v,h;Se(c)?(v=c,h=[]):(v=c[1],h=c.slice(2).map(function(F){return+F})),h.length>0?(v==="spring"&&h.push(o.duration),o.easingImpl=ll[v].apply(null,h)):o.easingImpl=ll[v]}var b=o.easingImpl,m;if(o.duration===0?m=1:m=(t-s)/o.duration,o.applying&&(m=o.progress),m<0?m=0:m>1&&(m=1),o.delay==null){var g=o.startPosition,p=o.position;if(p&&a&&!e.locked()){var y={};Mo(g.x,p.x)&&(y.x=di(g.x,p.x,m,b)),Mo(g.y,p.y)&&(y.y=di(g.y,p.y,m,b)),e.position(y)}var w=o.startPan,E=o.pan,S=i.pan,x=E!=null&&n;x&&(Mo(w.x,E.x)&&(S.x=di(w.x,E.x,m,b)),Mo(w.y,E.y)&&(S.y=di(w.y,E.y,m,b)),e.emit("pan"));var C=o.startZoom,_=o.zoom,k=_!=null&&n;k&&(Mo(C,_)&&(i.zoom=Du(i.minZoom,di(C,_,m,b),i.maxZoom)),e.emit("zoom")),(x||k)&&e.emit("viewport");var T=o.style;if(T&&T.length>0&&a){for(var A=0;A<T.length;A++){var R=T[A],I=R.name,L=R,B=o.startStyle[I],O=f.properties[B.name],D=di(B,L,m,b,O);f.overrideBypass(e,I,D)}e.emit("style")}}return o.progress=m,m}function Mo(e,r){return e==null||r==null?!1:oe(e)&&oe(r)?!0:!!(e&&r)}function l4(e,r,t,n){var a=r._private;a.started=!0,a.startTime=t-a.progress*a.duration}function Y2(e,r){var t=r._private.aniEles,n=[];function a(f,c){var d=f._private,v=d.animation.current,h=d.animation.queue,b=!1;if(v.length===0){var m=h.shift();m&&v.push(m)}for(var g=function(S){for(var x=S.length-1;x>=0;x--){var C=S[x];C()}S.splice(0,S.length)},p=v.length-1;p>=0;p--){var y=v[p],w=y._private;if(w.stopped){v.splice(p,1),w.hooked=!1,w.playing=!1,w.started=!1,g(w.frames);continue}!w.playing&&!w.applying||(w.playing&&w.applying&&(w.applying=!1),w.started||l4(f,y,e),s4(f,y,e,c),w.applying&&(w.applying=!1),g(w.frames),w.step!=null&&w.step(e),y.completed()&&(v.splice(p,1),w.hooked=!1,w.playing=!1,w.started=!1,g(w.completes)),b=!0)}return!c&&v.length===0&&h.length===0&&n.push(f),b}for(var i=!1,o=0;o<t.length;o++){var u=t[o],s=a(u);i=i||s}var l=a(r,!0);(i||l)&&(t.length>0?r.notify("draw",t):r.notify("draw")),t.unmerge(n),r.emit("step")}var f4={animate:Ue.animate(),animation:Ue.animation(),animated:Ue.animated(),clearQueue:Ue.clearQueue(),delay:Ue.delay(),delayAnimation:Ue.delayAnimation(),stop:Ue.stop(),addToAnimationPool:function(r){var t=this;t.styleEnabled()&&t._private.aniEles.merge(r)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var r=this;if(r._private.animationsRunning=!0,!r.styleEnabled())return;function t(){r._private.animationsRunning&&Vl(function(i){Y2(i,r),t()})}var n=r.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){Y2(o,r)},n.beforeRenderPriorities.animations):t()}},c4={qualifierCompare:function(r,t){return r==null||t==null?r==null&&t==null:r.sameText(t)},eventMatches:function(r,t,n){var a=t.qualifier;return a!=null?r!==n.target&&ju(n.target)&&a.matches(n.target):!0},addEventFields:function(r,t){t.cy=r,t.target=r},callbackContext:function(r,t,n){return t.qualifier!=null?n.target:r}},qs=function(r){return Se(r)?new ha(r):r},_D={createEmitter:function(){var r=this._private;return r.emitter||(r.emitter=new If(c4,this)),this},emitter:function(){return this._private.emitter},on:function(r,t,n){return this.emitter().on(r,qs(t),n),this},removeListener:function(r,t,n){return this.emitter().removeListener(r,qs(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(r,t,n){return this.emitter().one(r,qs(t),n),this},once:function(r,t,n){return this.emitter().one(r,qs(t),n),this},emit:function(r,t){return this.emitter().emit(r,t),this},emitAndNotify:function(r,t){return this.emit(r),this.notify(r,t),this}};Ue.eventAliasesOn(_D);var D0={png:function(r){var t=this._private.renderer;return r=r||{},t.png(r)},jpg:function(r){var t=this._private.renderer;return r=r||{},r.bg=r.bg||"#fff",t.jpg(r)}};D0.jpeg=D0.jpg;var fl={layout:function(r){var t=this;if(r==null){rr("Layout options must be specified to make a layout");return}if(r.name==null){rr("A `name` must be specified to make a layout");return}var n=r.name,a=t.extension("layout",n);if(a==null){rr("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;Se(r.eles)?i=t.$(r.eles):i=r.eles!=null?r.eles:t.$();var o=new a(ke({},r,{cy:t,eles:i}));return o}};fl.createLayout=fl.makeLayout=fl.layout;var d4={notify:function(r,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[r]=n.batchNotifications[r]||this.collection();t!=null&&a.merge(t);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(r,t)}},notifications:function(r){var t=this._private;return r===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!r,this)},noNotifications:function(r){this.notifications(!1),r(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var r=this._private;return r.batchCount==null&&(r.batchCount=0),r.batchCount===0&&(r.batchStyleEles=this.collection(),r.batchNotifications={}),r.batchCount++,this},endBatch:function(){var r=this._private;if(r.batchCount===0)return this;if(r.batchCount--,r.batchCount===0){r.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(r.batchNotifications).forEach(function(n){var a=r.batchNotifications[n];a.empty()?t.notify(n):t.notify(n,a)})}return this},batch:function(r){return this.startBatch(),r(),this.endBatch(),this},batchData:function(r){var t=this;return this.batch(function(){for(var n=Object.keys(r),a=0;a<n.length;a++){var i=n[a],o=r[i],u=t.getElementById(i);u.data(o)}})}},v4=zr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),I0={renderTo:function(r,t,n,a){var i=this._private.renderer;return i.renderTo(r,t,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(r){var t=this,n=t.extension("renderer",r.name);if(n==null){rr("Can not initialise: No such renderer `".concat(r.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}r.wheelSensitivity!==void 0&&Ge("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=v4(r);a.cy=t,t._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var r=this;r.notify("destroy");var t=r.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);r._private.renderer=null,r.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(r){return this.on("render",r)},offRender:function(r){return this.off("render",r)}};I0.invalidateDimensions=I0.resize;var cl={collection:function(r,t){return Se(r)?this.$(r):Ct(r)?r.collection():Ke(r)?(t||(t={}),new Nr(this,r,t.unique,t.removed)):new Nr(this)},nodes:function(r){var t=this.$(function(n){return n.isNode()});return r?t.filter(r):t},edges:function(r){var t=this.$(function(n){return n.isEdge()});return r?t.filter(r):t},$:function(r){var t=this._private.elements;return r?t.filter(r):t.spawnSelf()},mutableElements:function(){return this._private.elements}};cl.elements=cl.filter=cl.$;var Ir={},su="t",h4="f";Ir.apply=function(e){for(var r=this,t=r._private,n=t.cy,a=n.collection(),i=0;i<e.length;i++){var o=e[i],u=r.getContextMeta(o);if(!u.empty){var s=r.getContextStyle(u),l=r.applyContextStyle(u,s,o);o._private.appliedInitStyle?r.updateTransitions(o,l.diffProps):o._private.appliedInitStyle=!0;var f=r.updateStyleHints(o);f&&a.push(o)}}return a};Ir.getPropertiesDiff=function(e,r){var t=this,n=t._private.propDiffs=t._private.propDiffs||{},a=e+"-"+r,i=n[a];if(i)return i;for(var o=[],u={},s=0;s<t.length;s++){var l=t[s],f=e[s]===su,c=r[s]===su,d=f!==c,v=l.mappedProperties.length>0;if(d||c&&v){var h=void 0;d&&v||d?h=l.properties:v&&(h=l.mappedProperties);for(var b=0;b<h.length;b++){for(var m=h[b],g=m.name,p=!1,y=s+1;y<t.length;y++){var w=t[y],E=r[y]===su;if(E&&(p=w.properties[m.name]!=null,p))break}!u[g]&&!p&&(u[g]=!0,o.push(g))}}}return n[a]=o,o};Ir.getContextMeta=function(e){for(var r=this,t="",n,a=e._private.styleCxtKey||"",i=0;i<r.length;i++){var o=r[i],u=o.selector&&o.selector.matches(e);u?t+=su:t+=h4}return n=r.getPropertiesDiff(a,t),e._private.styleCxtKey=t,{key:t,diffPropNames:n,empty:n.length===0}};Ir.getContextStyle=function(e){var r=e.key,t=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[r])return n[r];for(var a={_private:{key:r}},i=0;i<t.length;i++){var o=t[i],u=r[i]===su;if(u)for(var s=0;s<o.properties.length;s++){var l=o.properties[s];a[l.name]=l}}return n[r]=a,a};Ir.applyContextStyle=function(e,r,t){for(var n=this,a=e.diffPropNames,i={},o=n.types,u=0;u<a.length;u++){var s=a[u],l=r[s],f=t.pstyle(s);if(!l)if(f)f.bypass?l={name:s,deleteBypassed:!0}:l={name:s,delete:!0};else continue;if(f!==l){if(l.mapped===o.fn&&f!=null&&f.mapping!=null&&f.mapping.value===l.value){var c=f.mapping,d=c.fnValue=l.value(t);if(d===c.prevFnValue)continue}var v=i[s]={prev:f};n.applyParsedProperty(t,l),v.next=t.pstyle(s),v.next&&v.next.bypass&&(v.next=v.next.bypassed)}}return{diffProps:i}};Ir.updateStyleHints=function(e){var r=e._private,t=this,n=t.propertyGroupNames,a=t.propertyGroupKeys,i=function(K,X,ne){return t.getPropertiesHash(K,X,ne)},o=r.styleKey;if(e.removed())return!1;var u=r.group==="nodes",s=e._private.style;n=Object.keys(s);for(var l=0;l<a.length;l++){var f=a[l];r.styleKeys[f]=[Ma,wi]}for(var c=function(K,X){return r.styleKeys[X][0]=Au(K,r.styleKeys[X][0])},d=function(K,X){return r.styleKeys[X][1]=Ru(K,r.styleKeys[X][1])},v=function(K,X){c(K,X),d(K,X)},h=function(K,X){for(var ne=0;ne<K.length;ne++){var ie=K.charCodeAt(ne);c(ie,X),d(ie,X)}},b=2e9,m=function(K){return-128<K&&K<128&&Math.floor(K)!==K?b-(K*1024|0):K},g=0;g<n.length;g++){var p=n[g],y=s[p];if(y!=null){var w=this.properties[p],E=w.type,S=w.groupKey,x=void 0;w.hashOverride!=null?x=w.hashOverride(e,y):y.pfValue!=null&&(x=y.pfValue);var C=w.enums==null?y.value:null,_=x!=null,k=C!=null,T=_||k,A=y.units;if(E.number&&T&&!E.multiple){var R=_?x:C;v(m(R),S),!_&&A!=null&&h(A,S)}else h(y.strValue,S)}}for(var I=[Ma,wi],L=0;L<a.length;L++){var B=a[L],O=r.styleKeys[B];I[0]=Au(O[0],I[0]),I[1]=Ru(O[1],I[1])}r.styleKey=PN(I[0],I[1]);var D=r.styleKeys;r.labelDimsKey=zn(D.labelDimensions);var F=i(e,["label"],D.labelDimensions);if(r.labelKey=zn(F),r.labelStyleKey=zn(Ps(D.commonLabel,F)),!u){var z=i(e,["source-label"],D.labelDimensions);r.sourceLabelKey=zn(z),r.sourceLabelStyleKey=zn(Ps(D.commonLabel,z));var q=i(e,["target-label"],D.labelDimensions);r.targetLabelKey=zn(q),r.targetLabelStyleKey=zn(Ps(D.commonLabel,q))}if(u){var $=r.styleKeys,Y=$.nodeBody,M=$.nodeBorder,N=$.nodeOutline,V=$.backgroundImage,H=$.compound,re=$.pie,j=$.stripe,U=[Y,M,N,V,H,re,j].filter(function(G){return G!=null}).reduce(Ps,[Ma,wi]);r.nodeKey=zn(U),r.hasPie=re!=null&&re[0]!==Ma&&re[1]!==wi,r.hasStripe=j!=null&&j[0]!==Ma&&j[1]!==wi}return o!==r.styleKey};Ir.clearStyleHints=function(e){var r=e._private;r.styleCxtKey="",r.styleKeys={},r.styleKey=null,r.labelKey=null,r.labelStyleKey=null,r.sourceLabelKey=null,r.sourceLabelStyleKey=null,r.targetLabelKey=null,r.targetLabelStyleKey=null,r.nodeKey=null,r.hasPie=null,r.hasStripe=null};Ir.applyParsedProperty=function(e,r){var t=this,n=r,a=e._private.style,i,o=t.types,u=t.properties[n.name].type,s=n.bypass,l=a[n.name],f=l&&l.bypass,c=e._private,d="mapping",v=function(Y){return Y==null?null:Y.pfValue!=null?Y.pfValue:Y.value},h=function(){var Y=v(l),M=v(n);t.checkTriggers(e,n.name,Y,M)};if(r.name==="curve-style"&&e.isEdge()&&(r.value!=="bezier"&&e.isLoop()||r.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(n=r=this.parse(r.name,"bezier",s)),n.delete)return a[n.name]=void 0,h(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,h(),!0):!1:(h(),!0);if(n.deleteBypass)return l?l.bypass?(a[n.name]=l.bypassed,h(),!0):!1:(h(),!0);var b=function(){Ge("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var m=n.field.split("."),g=c.data,p=0;p<m.length&&g;p++){var y=m[p];g=g[y]}if(g==null)return b(),!1;var w;if(oe(g)){var E=n.fieldMax-n.fieldMin;E===0?w=0:w=(g-n.fieldMin)/E}else return Ge("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+g+"` for `"+e.id()+"` is non-numeric)"),!1;if(w<0?w=0:w>1&&(w=1),u.color){var S=n.valueMin[0],x=n.valueMax[0],C=n.valueMin[1],_=n.valueMax[1],k=n.valueMin[2],T=n.valueMax[2],A=n.valueMin[3]==null?1:n.valueMin[3],R=n.valueMax[3]==null?1:n.valueMax[3],I=[Math.round(S+(x-S)*w),Math.round(C+(_-C)*w),Math.round(k+(T-k)*w),Math.round(A+(R-A)*w)];i={bypass:n.bypass,name:n.name,value:I,strValue:"rgb("+I[0]+", "+I[1]+", "+I[2]+")"}}else if(u.number){var L=n.valueMin+(n.valueMax-n.valueMin)*w;i=this.parse(n.name,L,n.bypass,d)}else return!1;if(!i)return b(),!1;i.mapping=n,n=i;break}case o.data:{for(var B=n.field.split("."),O=c.data,D=0;D<B.length&&O;D++){var F=B[D];O=O[F]}if(O!=null&&(i=this.parse(n.name,O,n.bypass,d)),!i)return b(),!1;i.mapping=n,n=i;break}case o.fn:{var z=n.value,q=n.fnValue!=null?n.fnValue:z(e);if(n.prevFnValue=q,q==null)return Ge("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+e.id()+"` is null)"),!1;if(i=this.parse(n.name,q,n.bypass,d),!i)return Ge("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+e.id()+"` is invalid)"),!1;i.mapping=sn(n),n=i;break}case void 0:break;default:return!1}return s?(f?n.bypassed=l.bypassed:n.bypassed=l,a[n.name]=n):f?l.bypassed=n:a[n.name]=n,h(),!0};Ir.cleanElements=function(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!r)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var u=i[o],s=a[u];s!=null&&(s.bypass?s.bypassed=null:a[u]=null)}}};Ir.update=function(){var e=this._private.cy,r=e.mutableElements();r.updateStyle()};Ir.updateTransitions=function(e,r){var t=this,n=e._private,a=e.pstyle("transition-property").value,i=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var u={},s=!1,l=0;l<a.length;l++){var f=a[l],c=e.pstyle(f),d=r[f];if(d){var v=d.prev,h=v,b=d.next!=null?d.next:c,m=!1,g=void 0,p=1e-6;h&&(oe(h.pfValue)&&oe(b.pfValue)?(m=b.pfValue-h.pfValue,g=h.pfValue+p*m):oe(h.value)&&oe(b.value)?(m=b.value-h.value,g=h.value+p*m):Ke(h.value)&&Ke(b.value)&&(m=h.value[0]!==b.value[0]||h.value[1]!==b.value[1]||h.value[2]!==b.value[2],g=h.strValue),m&&(u[f]=b.strValue,this.applyBypass(e,f,g),s=!0))}}if(!s)return;n.transitioning=!0,new fo(function(y){o>0?e.delayAnimation(o).play().promise().then(y):y()}).then(function(){return e.animation({style:u,duration:i,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){t.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1)};Ir.checkTrigger=function(e,r,t,n,a,i){var o=this.properties[r],u=a(o);e.removed()||u!=null&&u(t,n,e)&&i(o)};Ir.checkZOrderTrigger=function(e,r,t,n){var a=this;this.checkTrigger(e,r,t,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",e)})};Ir.checkBoundsTrigger=function(e,r,t,n){this.checkTrigger(e,r,t,n,function(a){return a.triggersBounds},function(a){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})};Ir.checkConnectedEdgesBoundsTrigger=function(e,r,t,n){this.checkTrigger(e,r,t,n,function(a){return a.triggersBoundsOfConnectedEdges},function(a){e.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Ir.checkParallelEdgesBoundsTrigger=function(e,r,t,n){this.checkTrigger(e,r,t,n,function(a){return a.triggersBoundsOfParallelEdges},function(a){e.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Ir.checkTriggers=function(e,r,t,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,r,t,n),this.checkBoundsTrigger(e,r,t,n),this.checkConnectedEdgesBoundsTrigger(e,r,t,n),this.checkParallelEdgesBoundsTrigger(e,r,t,n)};var rs={};rs.applyBypass=function(e,r,t,n){var a=this,i=[],o=!0;if(r==="*"||r==="**"){if(t!==void 0)for(var u=0;u<a.properties.length;u++){var s=a.properties[u],l=s.name,f=this.parse(l,t,!0);f&&i.push(f)}}else if(Se(r)){var c=this.parse(r,t,!0);c&&i.push(c)}else if(Ve(r)){var d=r;n=t;for(var v=Object.keys(d),h=0;h<v.length;h++){var b=v[h],m=d[b];if(m===void 0&&(m=d[Ef(b)]),m!==void 0){var g=this.parse(b,m,!0);g&&i.push(g)}}}else return!1;if(i.length===0)return!1;for(var p=!1,y=0;y<e.length;y++){for(var w=e[y],E={},S=void 0,x=0;x<i.length;x++){var C=i[x];if(n){var _=w.pstyle(C.name);S=E[C.name]={prev:_}}p=this.applyParsedProperty(w,sn(C))||p,n&&(S.next=w.pstyle(C.name))}p&&this.updateStyleHints(w),n&&this.updateTransitions(w,E,o)}return p};rs.overrideBypass=function(e,r,t){r=G1(r);for(var n=0;n<e.length;n++){var a=e[n],i=a._private.style[r],o=this.properties[r].type,u=o.color,s=o.mutiple,l=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,r,t):(i.value=t,i.pfValue!=null&&(i.pfValue=t),u?i.strValue="rgb("+t.join(",")+")":s?i.strValue=t.join(" "):i.strValue=""+t,this.updateStyleHints(a)),this.checkTriggers(a,r,l,t)}};rs.removeAllBypasses=function(e,r){return this.removeBypasses(e,this.propertyNames,r)};rs.removeBypasses=function(e,r,t){for(var n=!0,a=0;a<e.length;a++){for(var i=e[a],o={},u=0;u<r.length;u++){var s=r[u],l=this.properties[s],f=i.pstyle(l.name);if(!(!f||!f.bypass)){var c="",d=this.parse(s,c,!0),v=o[l.name]={prev:f};this.applyParsedProperty(i,d),v.next=i.pstyle(l.name)}}this.updateStyleHints(i),t&&this.updateTransitions(i,o,n)}};var ib={};ib.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};ib.containerCss=function(e){var r=this._private.cy,t=r.container(),n=r.window();if(n&&t&&n.getComputedStyle)return n.getComputedStyle(t).getPropertyValue(e)};var dn={};dn.getRenderedStyle=function(e,r){return r?this.getStylePropertyValue(e,r,!0):this.getRawStyle(e,!0)};dn.getRawStyle=function(e,r){var t=this;if(e=e[0],e){for(var n={},a=0;a<t.properties.length;a++){var i=t.properties[a],o=t.getStylePropertyValue(e,i.name,r);o!=null&&(n[i.name]=o,n[Ef(i.name)]=o)}return n}};dn.getIndexedStyle=function(e,r,t,n){var a=e.pstyle(r)[t][n];return a??e.cy().style().getDefaultProperty(r)[t][0]};dn.getStylePropertyValue=function(e,r,t){var n=this;if(e=e[0],e){var a=n.properties[r];a.alias&&(a=a.pointsTo);var i=a.type,o=e.pstyle(a.name);if(o){var u=o.value,s=o.units,l=o.strValue;if(t&&i.number&&u!=null&&oe(u)){var f=e.cy().zoom(),c=function(m){return m*f},d=function(m,g){return c(m)+g},v=Ke(u),h=v?s.every(function(b){return b!=null}):s!=null;return h?v?u.map(function(b,m){return d(b,s[m])}).join(" "):d(u,s):v?u.map(function(b){return Se(b)?b:""+c(b)}).join(" "):""+c(u)}else if(l!=null)return l}return null}};dn.getAnimationStartStyle=function(e,r){for(var t={},n=0;n<r.length;n++){var a=r[n],i=a.name,o=e.pstyle(i);o!==void 0&&(Ve(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(t[i]=o)}return t};dn.getPropsList=function(e){var r=this,t=[],n=e,a=r.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var u=i[o],s=n[u],l=a[u]||a[G1(u)],f=this.parse(l.name,s);f&&t.push(f)}return t};dn.getNonDefaultPropertiesHash=function(e,r,t){var n=t.slice(),a,i,o,u,s,l;for(s=0;s<r.length;s++)if(a=r[s],i=e.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=Au(u,n[0]),n[1]=Ru(u,n[1]);else for(o=i.strValue,l=0;l<o.length;l++)u=o.charCodeAt(l),n[0]=Au(u,n[0]),n[1]=Ru(u,n[1]);return n};dn.getPropertiesHash=dn.getNonDefaultPropertiesHash;var Mf={};Mf.appendFromJson=function(e){for(var r=this,t=0;t<e.length;t++){var n=e[t],a=n.selector,i=n.style||n.css,o=Object.keys(i);r.selector(a);for(var u=0;u<o.length;u++){var s=o[u],l=i[s];r.css(s,l)}}return r};Mf.fromJson=function(e){var r=this;return r.resetToDefault(),r.appendFromJson(e),r};Mf.json=function(){for(var e=[],r=this.defaultLength;r<this.length;r++){for(var t=this[r],n=t.selector,a=t.properties,i={},o=0;o<a.length;o++){var u=a[o];i[u.name]=u.strValue}e.push({selector:n?n.toString():"core",style:i})}return e};var ob={};ob.appendFromString=function(e){var r=this,t=this,n=""+e,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function u(){n.length>a.length?n=n.substr(a.length):n=""}function s(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){Ge("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=f[0];var c=f[1];if(c!=="core"){var d=new ha(c);if(d.invalid){Ge("Skipping parsing of block: Invalid selector found in string stylesheet: "+c),u();continue}}var v=f[2],h=!1;i=v;for(var b=[];;){var m=i.match(/^\s*$/);if(m)break;var g=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!g){Ge("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+v),h=!0;break}o=g[0];var p=g[1],y=g[2],w=r.properties[p];if(!w){Ge("Skipping property: Invalid property name in: "+o),s();continue}var E=t.parse(p,y);if(!E){Ge("Skipping property: Invalid property definition in: "+o),s();continue}b.push({name:p,val:y}),s()}if(h){u();break}t.selector(c);for(var S=0;S<b.length;S++){var x=b[S];t.css(x.name,x.val)}u()}return t};ob.fromString=function(e){var r=this;return r.resetToDefault(),r.appendFromString(e),r};var vr={};(function(){var e=Cr,r=sN,t=fN,n=cN,a=dN,i=function(G){return"^"+G+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(G){var K=e+"|\\w+|"+r+"|"+t+"|"+n+"|"+a;return"^"+G+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+K+")\\s*\\,\\s*("+K+")\\)$"},u=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];vr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:u,singleRegexMatchValue:!0},urls:{regexes:u,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(G,K){switch(G.length){case 2:return K[0]!=="deg"&&K[0]!=="rad"&&K[1]!=="deg"&&K[1]!=="rad";case 1:return Se(G[0])||K[0]==="deg"||K[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(G){var K=G.length;return K===1||K===2||K===4}}};var s={zeroNonZero:function(G,K){return(G==null||K==null)&&G!==K||G==0&&K!=0?!0:G!=0&&K==0},any:function(G,K){return G!=K},emptyNonEmpty:function(G,K){var X=ca(G),ne=ca(K);return X&&!ne||!X&&ne}},l=vr.types,f=[{name:"label",type:l.text,triggersBounds:s.any,triggersZOrder:s.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:s.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:s.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:s.any}],c=[{name:"source-label",type:l.text,triggersBounds:s.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:s.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:s.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:s.any},{name:"source-text-offset",type:l.size,triggersBounds:s.any}],d=[{name:"target-label",type:l.text,triggersBounds:s.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:s.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:s.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:s.any},{name:"target-text-offset",type:l.size,triggersBounds:s.any}],v=[{name:"font-family",type:l.fontFamily,triggersBounds:s.any},{name:"font-style",type:l.fontStyle,triggersBounds:s.any},{name:"font-weight",type:l.fontWeight,triggersBounds:s.any},{name:"font-size",type:l.size,triggersBounds:s.any},{name:"text-transform",type:l.textTransform,triggersBounds:s.any},{name:"text-wrap",type:l.textWrap,triggersBounds:s.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:s.any},{name:"text-max-width",type:l.size,triggersBounds:s.any},{name:"text-outline-width",type:l.size,triggersBounds:s.any},{name:"line-height",type:l.positiveNumber,triggersBounds:s.any}],h=[{name:"text-valign",type:l.valign,triggersBounds:s.any},{name:"text-halign",type:l.halign,triggersBounds:s.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:s.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:s.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:s.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:s.any},{name:"text-justification",type:l.justification},{name:"box-select-labels",type:l.bool,triggersBounds:s.any}],b=[{name:"events",type:l.bool,triggersZOrder:s.any},{name:"text-events",type:l.bool,triggersZOrder:s.any},{name:"box-selection",type:l.boxSelection,triggersZOrder:s.any}],m=[{name:"display",type:l.display,triggersZOrder:s.any,triggersBounds:s.any,triggersBoundsOfConnectedEdges:s.any,triggersBoundsOfParallelEdges:function(G,K,X){return G===K?!1:X.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:l.visibility,triggersZOrder:s.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:s.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:s.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:s.any},{name:"z-index",type:l.number,triggersZOrder:s.any}],g=[{name:"overlay-padding",type:l.size,triggersBounds:s.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:s.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:s.any},{name:"overlay-corner-radius",type:l.cornerRadius}],p=[{name:"underlay-padding",type:l.size,triggersBounds:s.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:s.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:s.any},{name:"underlay-corner-radius",type:l.cornerRadius}],y=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],w=function(G,K){return K.value==="label"?-G.poolIndex():K.pfValue},E=[{name:"height",type:l.nodeSize,triggersBounds:s.any,hashOverride:w},{name:"width",type:l.nodeSize,triggersBounds:s.any,hashOverride:w},{name:"shape",type:l.nodeShape,triggersBounds:s.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:s.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:s.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:s.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:s.any}],S=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:s.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],x=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:s.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:s.any}],C=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],_=[{name:"position",type:l.position,triggersBounds:s.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:s.any},{name:"min-width",type:l.size,triggersBounds:s.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:s.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:s.any},{name:"min-height",type:l.size,triggersBounds:s.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:s.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:s.any}],k=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:s.any,triggersBoundsOfParallelEdges:function(G,K){return G===K?!1:G==="bezier"||K==="bezier"}},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:s.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:s.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:s.any},{name:"control-point-step-size",type:l.size,triggersBounds:s.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:s.any},{name:"control-point-weights",type:l.numbers,triggersBounds:s.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:s.any},{name:"segment-weights",type:l.numbers,triggersBounds:s.any},{name:"segment-radii",type:l.numbers,triggersBounds:s.any},{name:"radius-type",type:l.radiusType,triggersBounds:s.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:s.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:s.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:s.any},{name:"taxi-radius",type:l.number,triggersBounds:s.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:s.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:s.any},{name:"loop-direction",type:l.angle,triggersBounds:s.any},{name:"loop-sweep",type:l.angle,triggersBounds:s.any},{name:"source-distance-from-node",type:l.size,triggersBounds:s.any},{name:"target-distance-from-node",type:l.size,triggersBounds:s.any}],T=[{name:"ghost",type:l.bool,triggersBounds:s.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:s.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:s.any},{name:"ghost-opacity",type:l.zeroOneNumber}],A=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],R=[];vr.pieBackgroundN=16,R.push({name:"pie-size",type:l.sizeMaybePercent}),R.push({name:"pie-hole",type:l.sizeMaybePercent}),R.push({name:"pie-start-angle",type:l.angle});for(var I=1;I<=vr.pieBackgroundN;I++)R.push({name:"pie-"+I+"-background-color",type:l.color}),R.push({name:"pie-"+I+"-background-size",type:l.percent}),R.push({name:"pie-"+I+"-background-opacity",type:l.zeroOneNumber});var L=[];vr.stripeBackgroundN=16,L.push({name:"stripe-size",type:l.sizeMaybePercent}),L.push({name:"stripe-direction",type:l.axisDirectionPrimary});for(var B=1;B<=vr.stripeBackgroundN;B++)L.push({name:"stripe-"+B+"-background-color",type:l.color}),L.push({name:"stripe-"+B+"-background-size",type:l.percent}),L.push({name:"stripe-"+B+"-background-opacity",type:l.zeroOneNumber});var O=[],D=vr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:s.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(U){D.forEach(function(G){var K=G+"-"+U.name,X=U.type,ne=U.triggersBounds;O.push({name:K,type:X,triggersBounds:ne})})},{});var F=vr.properties=[].concat(b,y,m,g,p,T,h,v,f,c,d,E,S,x,C,R,L,_,k,O,A),z=vr.propertyGroups={behavior:b,transition:y,visibility:m,overlay:g,underlay:p,ghost:T,commonLabel:h,labelDimensions:v,mainLabel:f,sourceLabel:c,targetLabel:d,nodeBody:E,nodeBorder:S,nodeOutline:x,backgroundImage:C,pie:R,stripe:L,compound:_,edgeLine:k,edgeArrow:O,core:A},q=vr.propertyGroupNames={},$=vr.propertyGroupKeys=Object.keys(z);$.forEach(function(U){q[U]=z[U].map(function(G){return G.name}),z[U].forEach(function(G){return G.groupKey=U})});var Y=vr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];vr.propertyNames=F.map(function(U){return U.name});for(var M=0;M<F.length;M++){var N=F[M];F[N.name]=N}for(var V=0;V<Y.length;V++){var H=Y[V],re=F[H.pointsTo],j={name:H.name,alias:!0,pointsTo:re};F.push(j),F[H.name]=j}})();vr.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};vr.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var r=ke({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(s,l){for(var f=1;f<=vr.pieBackgroundN;f++){var c=l.name.replace("{{i}}",f),d=l.value;s[c]=d}return s},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(s,l){for(var f=1;f<=vr.stripeBackgroundN;f++){var c=l.name.replace("{{i}}",f),d=l.value;s[c]=d}return s},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(s,l){return vr.arrowPrefixes.forEach(function(f){var c=f+"-"+l.name,d=l.value;s[c]=d}),s},{})),t={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=r[i],u=this.parse(i,o);t[i]=u}}return e.defaultProperties=t,e.defaultProperties};vr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Bf={};Bf.parse=function(e,r,t,n){var a=this;if(ir(r))return a.parseImplWarn(e,r,t,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=t?"t":"f",u=""+r,s=BP(e,u,o,i),l=a.propCache=a.propCache||[],f;return(f=l[s])||(f=l[s]=a.parseImplWarn(e,r,t,n)),(t||n==="mapping")&&(f=sn(f),f&&(f.value=sn(f.value))),f};Bf.parseImplWarn=function(e,r,t,n){var a=this.parseImpl(e,r,t,n);return!a&&r!=null&&Ge("The style property `".concat(e,": ").concat(r,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&r==="label"&&Ge("The style value of `label` is deprecated for `"+a.name+"`"),a};Bf.parseImpl=function(e,r,t,n){var a=this;e=G1(e);var i=a.properties[e],o=r,u=a.types;if(!i||r===void 0)return null;i.alias&&(i=i.pointsTo,e=i.name);var s=Se(r);s&&(r=r.trim());var l=i.type;if(!l)return null;if(t&&(r===""||r===null))return{name:e,value:r,bypass:!0,deleteBypass:!0};if(ir(r))return{name:e,value:r,strValue:"fn",mapped:u.fn,bypass:t};var f,c;if(!(!s||n||r.length<7||r[1]!=="a")){if(r.length>=7&&r[0]==="d"&&(f=new RegExp(u.data.regex).exec(r))){if(t)return!1;var d=u.data;return{name:e,value:f,strValue:""+r,mapped:d,field:f[1],bypass:t}}else if(r.length>=10&&r[0]==="m"&&(c=new RegExp(u.mapData.regex).exec(r))){if(t||l.multiple)return!1;var v=u.mapData;if(!(l.color||l.number))return!1;var h=this.parse(e,c[4]);if(!h||h.mapped)return!1;var b=this.parse(e,c[5]);if(!b||b.mapped)return!1;if(h.pfValue===b.pfValue||h.strValue===b.strValue)return Ge("`"+e+": "+r+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+h.strValue+"`"),this.parse(e,h.strValue);if(l.color){var m=h.value,g=b.value,p=m[0]===g[0]&&m[1]===g[1]&&m[2]===g[2]&&(m[3]===g[3]||(m[3]==null||m[3]===1)&&(g[3]==null||g[3]===1));if(p)return!1}return{name:e,value:c,strValue:""+r,mapped:v,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:h.value,valueMax:b.value,bypass:t}}}if(l.multiple&&n!=="multiple"){var y;if(s?y=r.split(/\s+/):Ke(r)?y=r:y=[r],l.evenMultiple&&y.length%2!==0)return null;for(var w=[],E=[],S=[],x="",C=!1,_=0;_<y.length;_++){var k=a.parse(e,y[_],t,"multiple");C=C||Se(k.value),w.push(k.value),S.push(k.pfValue!=null?k.pfValue:k.value),E.push(k.units),x+=(_>0?" ":"")+k.strValue}return l.validate&&!l.validate(w,E)?null:l.singleEnum&&C?w.length===1&&Se(w[0])?{name:e,value:w[0],strValue:w[0],bypass:t}:null:{name:e,value:w,pfValue:S,strValue:x,bypass:t,units:E}}var T=function(){for(var j=0;j<l.enums.length;j++){var U=l.enums[j];if(U===r)return{name:e,value:r,strValue:""+r,bypass:t}}return null};if(l.number){var A,R="px";if(l.units&&(A=l.units),l.implicitUnits&&(R=l.implicitUnits),!l.unitless)if(s){var I="px|em"+(l.allowPercent?"|\\%":"");A&&(I=A);var L=r.match("^("+Cr+")("+I+")?$");L&&(r=L[1],A=L[2]||R)}else(!A||l.implicitUnits)&&(A=R);if(r=parseFloat(r),isNaN(r)&&l.enums===void 0)return null;if(isNaN(r)&&l.enums!==void 0)return r=o,T();if(l.integer&&!rN(r)||l.min!==void 0&&(r<l.min||l.strictMin&&r===l.min)||l.max!==void 0&&(r>l.max||l.strictMax&&r===l.max))return null;var B={name:e,value:r,strValue:""+r+(A||""),units:A,bypass:t};return l.unitless||A!=="px"&&A!=="em"?B.pfValue=r:B.pfValue=A==="px"||!A?r:this.getEmSizeInPixels()*r,(A==="ms"||A==="s")&&(B.pfValue=A==="ms"?r:1e3*r),(A==="deg"||A==="rad")&&(B.pfValue=A==="rad"?r:cq(r)),A==="%"&&(B.pfValue=r/100),B}else if(l.propList){var O=[],D=""+r;if(D!=="none"){for(var F=D.split(/\s*,\s*|\s+/),z=0;z<F.length;z++){var q=F[z].trim();a.properties[q]?O.push(q):Ge("`"+q+"` is not a valid property name")}if(O.length===0)return null}return{name:e,value:O,strValue:O.length===0?"none":O.join(" "),bypass:t}}else if(l.color){var $=RP(r);return $?{name:e,value:$,pfValue:$,strValue:"rgb("+$[0]+","+$[1]+","+$[2]+")",bypass:t}:null}else if(l.regex||l.regexes){if(l.enums){var Y=T();if(Y)return Y}for(var M=l.regexes?l.regexes:[l.regex],N=0;N<M.length;N++){var V=new RegExp(M[N]),H=V.exec(r);if(H)return{name:e,value:l.singleRegexMatchValue?H[1]:H,strValue:""+r,bypass:t}}return null}else return l.string?{name:e,value:""+r,strValue:""+r,bypass:t}:l.enums?T():null};var Dr=function(r){if(!(this instanceof Dr))return new Dr(r);if(!U1(r)){rr("A style must have a core reference");return}this._private={cy:r,coreStyle:{}},this.length=0,this.resetToDefault()},jr=Dr.prototype;jr.instanceString=function(){return"style"};jr.clear=function(){for(var e=this._private,r=e.cy,t=r.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};jr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};jr.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};jr.selector=function(e){var r=e==="core"?null:new ha(e),t=this.length++;return this[t]={selector:r,properties:[],mappedProperties:[],index:t},this};jr.css=function(){var e=this,r=arguments;if(r.length===1)for(var t=r[0],n=0;n<e.properties.length;n++){var a=e.properties[n],i=t[a.name];i===void 0&&(i=t[Ef(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else r.length===2&&this.cssRule(r[0],r[1]);return this};jr.style=jr.css;jr.cssRule=function(e,r){var t=this.parse(e,r);if(t){var n=this.length-1;this[n].properties.push(t),this[n].properties[t.name]=t,t.name.match(/pie-(\d+)-background-size/)&&t.value&&(this._private.hasPie=!0),t.name.match(/stripe-(\d+)-background-size/)&&t.value&&(this._private.hasStripe=!0),t.mapped&&this[n].mappedProperties.push(t);var a=!this[n].selector;a&&(this._private.coreStyle[t.name]=t)}return this};jr.append=function(e){return _P(e)?e.appendToStyle(this):Ke(e)?this.appendFromJson(e):Se(e)&&this.appendFromString(e),this};Dr.fromJson=function(e,r){var t=new Dr(e);return t.fromJson(r),t};Dr.fromString=function(e,r){return new Dr(e).fromString(r)};[Ir,rs,ib,dn,Mf,ob,vr,Bf].forEach(function(e){ke(jr,e)});Dr.types=jr.types;Dr.properties=jr.properties;Dr.propertyGroups=jr.propertyGroups;Dr.propertyGroupNames=jr.propertyGroupNames;Dr.propertyGroupKeys=jr.propertyGroupKeys;var p4={style:function(r){if(r){var t=this.setStyle(r);t.update()}return this._private.style},setStyle:function(r){var t=this._private;return _P(r)?t.style=r.generateStyle(this):Ke(r)?t.style=Dr.fromJson(this,r):Se(r)?t.style=Dr.fromString(this,r):t.style=Dr(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},g4="single",Qa={autolock:function(r){if(r!==void 0)this._private.autolock=!!r;else return this._private.autolock;return this},autoungrabify:function(r){if(r!==void 0)this._private.autoungrabify=!!r;else return this._private.autoungrabify;return this},autounselectify:function(r){if(r!==void 0)this._private.autounselectify=!!r;else return this._private.autounselectify;return this},selectionType:function(r){var t=this._private;if(t.selectionType==null&&(t.selectionType=g4),r!==void 0)(r==="additive"||r==="single")&&(t.selectionType=r);else return t.selectionType;return this},panningEnabled:function(r){if(r!==void 0)this._private.panningEnabled=!!r;else return this._private.panningEnabled;return this},userPanningEnabled:function(r){if(r!==void 0)this._private.userPanningEnabled=!!r;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(r){if(r!==void 0)this._private.zoomingEnabled=!!r;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(r){if(r!==void 0)this._private.userZoomingEnabled=!!r;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(r){if(r!==void 0)this._private.boxSelectionEnabled=!!r;else return this._private.boxSelectionEnabled;return this},pan:function(){var r=arguments,t=this._private.pan,n,a,i,o,u;switch(r.length){case 0:return t;case 1:if(Se(r[0]))return n=r[0],t[n];if(Ve(r[0])){if(!this._private.panningEnabled)return this;i=r[0],o=i.x,u=i.y,oe(o)&&(t.x=o),oe(u)&&(t.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=r[0],a=r[1],(n==="x"||n==="y")&&oe(a)&&(t[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(r,t){var n=arguments,a=this._private.pan,i,o,u,s,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Ve(r)&&(u=n[0],s=u.x,l=u.y,oe(s)&&(a.x+=s),oe(l)&&(a.y+=l),this.emit("pan viewport"));break;case 2:i=r,o=t,(i==="x"||i==="y")&&oe(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(r,t){var n=this.getFitViewport(r,t);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(r,t){if(oe(r)&&t===void 0&&(t=r,r=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Se(r)){var a=r;r=this.$(a)}else if(aN(r)){var i=r;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Ct(r)||(r=this.mutableElements());if(!(Ct(r)&&r.empty())){n=n||r.boundingBox();var o=this.width(),u=this.height(),s;if(t=oe(t)?t:0,!isNaN(o)&&!isNaN(u)&&o>0&&u>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){s=Math.min((o-2*t)/n.w,(u-2*t)/n.h),s=s>this._private.maxZoom?this._private.maxZoom:s,s=s<this._private.minZoom?this._private.minZoom:s;var l={x:(o-s*(n.x1+n.x2))/2,y:(u-s*(n.y1+n.y2))/2};return{zoom:s,pan:l}}}}},zoomRange:function(r,t){var n=this._private;if(t==null){var a=r;r=a.min,t=a.max}return oe(r)&&oe(t)&&r<=t?(n.minZoom=r,n.maxZoom=t):oe(r)&&t===void 0&&r<=n.maxZoom?n.minZoom=r:oe(t)&&r===void 0&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(r){return r===void 0?this._private.minZoom:this.zoomRange({min:r})},maxZoom:function(r){return r===void 0?this._private.maxZoom:this.zoomRange({max:r})},getZoomedViewport:function(r){var t=this._private,n=t.pan,a=t.zoom,i,o,u=!1;if(t.zoomingEnabled||(u=!0),oe(r)?o=r:Ve(r)&&(o=r.level,r.position!=null?i=kf(r.position,a,n):r.renderedPosition!=null&&(i=r.renderedPosition),i!=null&&!t.panningEnabled&&(u=!0)),o=o>t.maxZoom?t.maxZoom:o,o=o<t.minZoom?t.minZoom:o,u||!oe(o)||o===a||i!=null&&(!oe(i.x)||!oe(i.y)))return null;if(i!=null){var s=n,l=a,f=o,c={x:-f/l*(i.x-s.x)+i.x,y:-f/l*(i.y-s.y)+i.y};return{zoomed:!0,panned:!0,zoom:f,pan:c}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(r){if(r===void 0)return this._private.zoom;var t=this.getZoomedViewport(r),n=this._private;return t==null||!t.zoomed?this:(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(r){var t=this._private,n=!0,a=!0,i=[],o=!1,u=!1;if(!r)return this;if(oe(r.zoom)||(n=!1),Ve(r.pan)||(a=!1),!n&&!a)return this;if(n){var s=r.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?o=!0:(t.zoom=s,i.push("zoom"))}if(a&&(!o||!r.cancelOnFailedZoom)&&t.panningEnabled){var l=r.pan;oe(l.x)&&(t.pan.x=l.x,u=!1),oe(l.y)&&(t.pan.y=l.y,u=!1),u||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(r){var t=this.getCenterPan(r);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(r,t){if(this._private.panningEnabled){if(Se(r)){var n=r;r=this.mutableElements().filter(n)}else Ct(r)||(r=this.mutableElements());if(r.length!==0){var a=r.boundingBox(),i=this.width(),o=this.height();t=t===void 0?this._private.zoom:t;var u={x:(i-t*(a.x1+a.x2))/2,y:(o-t*(a.y1+a.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var r=this._private,t=r.container,n=this;return r.sizeCache=r.sizeCache||(t?function(){var a=n.window().getComputedStyle(t),i=function(u){return parseFloat(a.getPropertyValue(u))};return{width:t.clientWidth-i("padding-left")-i("padding-right"),height:t.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var r=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-r.x)/t,x2:(n.x2-r.x)/t,y1:(n.y1-r.y)/t,y2:(n.y2-r.y)/t};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var r=this.width(),t=this.height();return{x1:0,y1:0,x2:r,y2:t,w:r,h:t}},multiClickDebounceTime:function(r){if(r)this._private.multiClickDebounceTime=r;else return this._private.multiClickDebounceTime;return this}};Qa.centre=Qa.center;Qa.autolockNodes=Qa.autolock;Qa.autoungrabifyNodes=Qa.autoungrabify;var Mu={data:Ue.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Ue.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Ue.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ue.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Mu.attr=Mu.data;Mu.removeAttr=Mu.removeData;var Bu=function(r){var t=this;r=ke({},r);var n=r.container;n&&!zl(n)&&zl(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=t;var o=wr!==void 0&&n!==void 0&&!r.headless,u=r;u.layout=ke({name:o?"grid":"null"},u.layout),u.renderer=ke({name:o?"canvas":"null"},u.renderer);var s=function(h,b,m){return b!==void 0?b:m!==void 0?m:h},l=this._private={container:n,ready:!1,options:u,elements:new Nr(this),listeners:[],aniEles:new Nr(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,u.zoomingEnabled),userZoomingEnabled:s(!0,u.userZoomingEnabled),panningEnabled:s(!0,u.panningEnabled),userPanningEnabled:s(!0,u.userPanningEnabled),boxSelectionEnabled:s(!0,u.boxSelectionEnabled),autolock:s(!1,u.autolock,u.autolockNodes),autoungrabify:s(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:s(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?o:u.styleEnabled,zoom:oe(u.zoom)?u.zoom:1,pan:{x:Ve(u.pan)&&oe(u.pan.x)?u.pan.x:0,y:Ve(u.pan)&&oe(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:s(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var f=function(h,b){var m=h.some(iN);if(m)return fo.all(h).then(b);b(h)};l.styleEnabled&&t.setStyle([]);var c=ke({},u,u.renderer);t.initRenderer(c);var d=function(h,b,m){t.notifications(!1);var g=t.mutableElements();g.length>0&&g.remove(),h!=null&&(Ve(h)||Ke(h))&&t.add(h),t.one("layoutready",function(y){t.notifications(!0),t.emit(y),t.one("load",b),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",m),t.emit("done")});var p=ke({},t._private.options.layout);p.eles=t.elements(),t.layout(p).run()};f([u.style,u.elements],function(v){var h=v[0],b=v[1];l.styleEnabled&&t.style().append(h),d(b,function(){t.startAnimationLoop(),l.ready=!0,ir(u.ready)&&t.on("ready",u.ready);for(var m=0;m<i.length;m++){var g=i[m];t.on("ready",g)}a&&(a.readies=[]),t.emit("ready")},u.done)})},Kl=Bu.prototype;ke(Kl,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(r){return this.isReady()?this.emitter().emit("ready",[],r):this.on("ready",r),this},destroy:function(){var r=this;if(!r.destroyed())return r.stopAnimationLoop(),r.destroyRenderer(),this.emit("destroy"),r._private.destroyed=!0,r},hasElementWithId:function(r){return this._private.elements.hasElementWithId(r)},getElementById:function(r){return this._private.elements.getElementById(r)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(r){return this._private.elements.merge(r),this},removeFromPool:function(r){return this._private.elements.unmerge(r),this},container:function(){return this._private.container||null},window:function(){var r=this._private.container;if(r==null)return wr;var t=this._private.container.ownerDocument;return t===void 0||t==null?wr:t.defaultView||wr},mount:function(r){if(r!=null){var t=this,n=t._private,a=n.options;return!zl(r)&&zl(r[0])&&(r=r[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=r,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(ke({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),t.startAnimationLoop(),t.style(a.style),t.emit("mount"),t}},unmount:function(){var r=this;return r.stopAnimationLoop(),r.destroyRenderer(),r.initRenderer({name:"null"}),r.emit("unmount"),r},options:function(){return sn(this._private.options)},json:function(r){var t=this,n=t._private,a=t.mutableElements(),i=function(w){return t.getElementById(w.id())};if(Ve(r)){if(t.startBatch(),r.elements){var o={},u=function(w,E){for(var S=[],x=[],C=0;C<w.length;C++){var _=w[C];if(!_.data.id){Ge("cy.json() cannot handle elements without an ID attribute");continue}var k=""+_.data.id,T=t.getElementById(k);o[k]=!0,T.length!==0?x.push({ele:T,json:_}):(E&&(_.group=E),S.push(_))}t.add(S);for(var A=0;A<x.length;A++){var R=x[A],I=R.ele,L=R.json;I.json(L)}};if(Ke(r.elements))u(r.elements);else for(var s=["nodes","edges"],l=0;l<s.length;l++){var f=s[l],c=r.elements[f];Ke(c)&&u(c,f)}var d=t.collection();a.filter(function(y){return!o[y.id()]}).forEach(function(y){y.isParent()?d.merge(y):y.remove()}),d.forEach(function(y){return y.children().move({parent:null})}),d.forEach(function(y){return i(y).remove()})}r.style&&t.style(r.style),r.zoom!=null&&r.zoom!==n.zoom&&t.zoom(r.zoom),r.pan&&(r.pan.x!==n.pan.x||r.pan.y!==n.pan.y)&&t.pan(r.pan),r.data&&t.data(r.data);for(var v=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],h=0;h<v.length;h++){var b=v[h];r[b]!=null&&t[b](r[b])}return t.endBatch(),this}else{var m=!!r,g={};m?g.elements=this.elements().map(function(y){return y.json()}):(g.elements={},a.forEach(function(y){var w=y.group();g.elements[w]||(g.elements[w]=[]),g.elements[w].push(y.json())})),this._private.styleEnabled&&(g.style=t.style().json()),g.data=sn(t.data());var p=n.options;return g.zoomingEnabled=n.zoomingEnabled,g.userZoomingEnabled=n.userZoomingEnabled,g.zoom=n.zoom,g.minZoom=n.minZoom,g.maxZoom=n.maxZoom,g.panningEnabled=n.panningEnabled,g.userPanningEnabled=n.userPanningEnabled,g.pan=sn(n.pan),g.boxSelectionEnabled=n.boxSelectionEnabled,g.renderer=sn(p.renderer),g.hideEdgesOnViewport=p.hideEdgesOnViewport,g.textureOnViewport=p.textureOnViewport,g.wheelSensitivity=p.wheelSensitivity,g.motionBlur=p.motionBlur,g.multiClickDebounceTime=p.multiClickDebounceTime,g}}});Kl.$id=Kl.getElementById;[i4,f4,_D,D0,fl,d4,I0,cl,p4,Qa,Mu].forEach(function(e){ke(Kl,e)});var m4={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,t){return!0},ready:void 0,stop:void 0,transform:function(r,t){return t}},y4={maximal:!1,acyclic:!1},vi=function(r){return r.scratch("breadthfirst")},X2=function(r,t){return r.scratch("breadthfirst",t)};function TD(e){this.options=ke({},m4,y4,e)}TD.prototype.run=function(){var e=this.options,r=e.cy,t=e.eles,n=t.nodes().filter(function(me){return me.isChildless()}),a=t,i=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,u=!!e.boundingBox,s=nt(u?e.boundingBox:structuredClone(r.extent())),l;if(Ct(e.roots))l=e.roots;else if(Ke(e.roots)){for(var f=[],c=0;c<e.roots.length;c++){var d=e.roots[c],v=r.getElementById(d);f.push(v)}l=r.collection(f)}else if(Se(e.roots))l=r.$(e.roots);else if(i)l=n.roots();else{var h=t.components();l=r.collection();for(var b=function(){var se=h[m],pe=se.maxDegree(!1),de=se.filter(function(ge){return ge.degree(!1)===pe});l=l.add(de)},m=0;m<h.length;m++)b()}var g=[],p={},y=function(se,pe){g[pe]==null&&(g[pe]=[]);var de=g[pe].length;g[pe].push(se),X2(se,{index:de,depth:pe})},w=function(se,pe){var de=vi(se),ge=de.depth,ye=de.index;g[ge][ye]=null,se.isChildless()&&y(se,pe)};a.bfs({roots:l,directed:e.directed,visit:function(se,pe,de,ge,ye){var Te=se[0],Be=Te.id();Te.isChildless()&&y(Te,ye),p[Be]=!0}});for(var E=[],S=0;S<n.length;S++){var x=n[S];p[x.id()]||E.push(x)}var C=function(se){for(var pe=g[se],de=0;de<pe.length;de++){var ge=pe[de];if(ge==null){pe.splice(de,1),de--;continue}X2(ge,{depth:se,index:de})}},_=function(se,pe){for(var de=vi(se),ge=se.incomers().filter(function(_e){return _e.isNode()&&t.has(_e)}),ye=-1,Te=se.id(),Be=0;Be<ge.length;Be++){var Ne=ge[Be],Le=vi(Ne);ye=Math.max(ye,Le.depth)}if(de.depth<=ye){if(!e.acyclic&&pe[Te])return null;var qe=ye+1;return w(se,qe),pe[Te]=qe,!0}return!1};if(i&&o){var k=[],T={},A=function(se){return k.push(se)},R=function(){return k.shift()};for(n.forEach(function(me){return k.push(me)});k.length>0;){var I=R(),L=_(I,T);if(L)I.outgoers().filter(function(me){return me.isNode()&&t.has(me)}).forEach(A);else if(L===null){Ge("Detected double maximal shift for node `"+I.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var B=0;if(e.avoidOverlap)for(var O=0;O<n.length;O++){var D=n[O],F=D.layoutDimensions(e),z=F.w,q=F.h;B=Math.max(B,z,q)}var $={},Y=function(se){if($[se.id()])return $[se.id()];for(var pe=vi(se).depth,de=se.neighborhood(),ge=0,ye=0,Te=0;Te<de.length;Te++){var Be=de[Te];if(!(Be.isEdge()||Be.isParent()||!n.has(Be))){var Ne=vi(Be);if(Ne!=null){var Le=Ne.index,qe=Ne.depth;if(!(Le==null||qe==null)){var _e=g[qe].length;qe<pe&&(ge+=Le/_e,ye++)}}}}return ye=Math.max(1,ye),ge=ge/ye,ye===0&&(ge=0),$[se.id()]=ge,ge},M=function(se,pe){var de=Y(se),ge=Y(pe),ye=de-ge;return ye===0?AP(se.id(),pe.id()):ye};e.depthSort!==void 0&&(M=e.depthSort);for(var N=g.length,V=0;V<N;V++)g[V].sort(M),C(V);for(var H=[],re=0;re<E.length;re++)H.push(E[re]);var j=function(){for(var se=0;se<N;se++)C(se)};H.length&&(g.unshift(H),N=g.length,j());for(var U=0,G=0;G<N;G++)U=Math.max(g[G].length,U);var K={x:s.x1+s.w/2,y:s.y1+s.h/2},X=n.reduce(function(me,se){return function(pe){return{w:me.w===-1?pe.w:(me.w+pe.w)/2,h:me.h===-1?pe.h:(me.h+pe.h)/2}}(se.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),ne=Math.max(N===1?0:u?(s.h-e.padding*2-X.h)/(N-1):(s.h-e.padding*2-X.h)/(N+1),B),ie=g.reduce(function(me,se){return Math.max(me,se.length)},0),Ae=function(se){var pe=vi(se),de=pe.depth,ge=pe.index;if(e.circle){var ye=Math.min(s.w/2/N,s.h/2/N);ye=Math.max(ye,B);var Te=ye*de+ye-(N>0&&g[0].length<=3?ye/2:0),Be=2*Math.PI/g[de].length*ge;return de===0&&g[0].length===1&&(Te=1),{x:K.x+Te*Math.cos(Be),y:K.y+Te*Math.sin(Be)}}else{var Ne=g[de].length,Le=Math.max(Ne===1?0:u?(s.w-e.padding*2-X.w)/((e.grid?ie:Ne)-1):(s.w-e.padding*2-X.w)/((e.grid?ie:Ne)+1),B),qe={x:K.x+(ge+1-(Ne+1)/2)*Le,y:K.y+(de+1-(N+1)/2)*ne};return qe}},ue={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(ue).indexOf(e.direction)===-1&&rr("Invalid direction '".concat(e.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(ue).join(", ")));var xe=function(se){return ON(Ae(se),s,ue[e.direction])};return t.nodes().layoutPositions(this,e,xe),this};var b4={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,t){return!0},ready:void 0,stop:void 0,transform:function(r,t){return t}};function AD(e){this.options=ke({},b4,e)}AD.prototype.run=function(){var e=this.options,r=e,t=e.cy,n=r.eles,a=r.counterclockwise!==void 0?!r.counterclockwise:r.clockwise,i=n.nodes().not(":parent");r.sort&&(i=i.sort(r.sort));for(var o=nt(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),u={x:o.x1+o.w/2,y:o.y1+o.h/2},s=r.sweep===void 0?2*Math.PI-2*Math.PI/i.length:r.sweep,l=s/Math.max(1,i.length-1),f,c=0,d=0;d<i.length;d++){var v=i[d],h=v.layoutDimensions(r),b=h.w,m=h.h;c=Math.max(c,b,m)}if(oe(r.radius)?f=r.radius:i.length<=1?f=0:f=Math.min(o.h,o.w)/2-c,i.length>1&&r.avoidOverlap){c*=1.75;var g=Math.cos(l)-Math.cos(0),p=Math.sin(l)-Math.sin(0),y=Math.sqrt(c*c/(g*g+p*p));f=Math.max(y,f)}var w=function(S,x){var C=r.startAngle+x*l*(a?1:-1),_=f*Math.cos(C),k=f*Math.sin(C),T={x:u.x+_,y:u.y+k};return T};return n.nodes().layoutPositions(this,r,w),this};var w4={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(r){return r.degree()},levelWidth:function(r){return r.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,t){return!0},ready:void 0,stop:void 0,transform:function(r,t){return t}};function RD(e){this.options=ke({},w4,e)}RD.prototype.run=function(){for(var e=this.options,r=e,t=r.counterclockwise!==void 0?!r.counterclockwise:r.clockwise,n=e.cy,a=r.eles,i=a.nodes().not(":parent"),o=nt(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u={x:o.x1+o.w/2,y:o.y1+o.h/2},s=[],l=0,f=0;f<i.length;f++){var c=i[f],d=void 0;d=r.concentric(c),s.push({value:d,node:c}),c._private.scratch.concentric=d}i.updateStyle();for(var v=0;v<i.length;v++){var h=i[v],b=h.layoutDimensions(r);l=Math.max(l,b.w,b.h)}s.sort(function(ne,ie){return ie.value-ne.value});for(var m=r.levelWidth(i),g=[[]],p=g[0],y=0;y<s.length;y++){var w=s[y];if(p.length>0){var E=Math.abs(p[0].value-w.value);E>=m&&(p=[],g.push(p))}p.push(w)}var S=l+r.minNodeSpacing;if(!r.avoidOverlap){var x=g.length>0&&g[0].length>1,C=Math.min(o.w,o.h)/2-S,_=C/(g.length+x?1:0);S=Math.min(S,_)}for(var k=0,T=0;T<g.length;T++){var A=g[T],R=r.sweep===void 0?2*Math.PI-2*Math.PI/A.length:r.sweep,I=A.dTheta=R/Math.max(1,A.length-1);if(A.length>1&&r.avoidOverlap){var L=Math.cos(I)-Math.cos(0),B=Math.sin(I)-Math.sin(0),O=Math.sqrt(S*S/(L*L+B*B));k=Math.max(O,k)}A.r=k,k+=S}if(r.equidistant){for(var D=0,F=0,z=0;z<g.length;z++){var q=g[z],$=q.r-F;D=Math.max(D,$)}F=0;for(var Y=0;Y<g.length;Y++){var M=g[Y];Y===0&&(F=M.r),M.r=F,F+=D}}for(var N={},V=0;V<g.length;V++)for(var H=g[V],re=H.dTheta,j=H.r,U=0;U<H.length;U++){var G=H[U],K=r.startAngle+(t?1:-1)*re*U,X={x:u.x+j*Math.cos(K),y:u.y+j*Math.sin(K)};N[G.node.id()]=X}return a.nodes().layoutPositions(this,r,function(ne){var ie=ne.id();return N[ie]}),this};var ev,x4={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(r,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(r){return 2048},nodeOverlap:4,idealEdgeLength:function(r){return 32},edgeElasticity:function(r){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Nf(e){this.options=ke({},x4,e),this.options.layout=this;var r=this.options.eles.nodes(),t=this.options.eles.edges(),n=t.filter(function(a){var i=a.source().data("id"),o=a.target().data("id"),u=r.some(function(l){return l.data("id")===i}),s=r.some(function(l){return l.data("id")===o});return!u||!s});this.options.eles=this.options.eles.not(n)}Nf.prototype.run=function(){var e=this.options,r=e.cy,t=this;t.stopped=!1,(e.animate===!0||e.animate===!1)&&t.emit({type:"layoutstart",layout:t}),e.debug===!0?ev=!0:ev=!1;var n=E4(r,t,e);ev&&C4(n),e.randomize&&k4(n);var a=Pn(),i=function(){_4(n,r,e),e.fit===!0&&r.fit(e.padding)},o=function(d){return!(t.stopped||d>=e.numIter||(T4(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},u=function(){if(e.animate===!0||e.animate===!1)i(),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});else{var d=e.eles.nodes(),v=DD(n,e,d);d.layoutPositions(t,e,v)}},s=0,l=!0;if(e.animate===!0){var f=function(){for(var d=0;l&&d<e.refresh;)l=o(s),s++,d++;if(!l)Q2(n,e),u();else{var v=Pn();v-a>=e.animationThreshold&&i(),Vl(f)}};f()}else{for(;l;)l=o(s),s++;Q2(n,e),u()}return this};Nf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Nf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var E4=function(r,t,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=nt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u={isCompound:r.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},s=n.eles.components(),l={},f=0;f<s.length;f++)for(var c=s[f],d=0;d<c.length;d++){var v=c[d];l[v.id()]=f}for(var f=0;f<u.nodeSize;f++){var h=i[f],b=h.layoutDimensions(n),m={};m.isLocked=h.locked(),m.id=h.data("id"),m.parentId=h.data("parent"),m.cmptId=l[h.id()],m.children=[],m.positionX=h.position("x"),m.positionY=h.position("y"),m.offsetX=0,m.offsetY=0,m.height=b.w,m.width=b.h,m.maxX=m.positionX+m.width/2,m.minX=m.positionX-m.width/2,m.maxY=m.positionY+m.height/2,m.minY=m.positionY-m.height/2,m.padLeft=parseFloat(h.style("padding")),m.padRight=parseFloat(h.style("padding")),m.padTop=parseFloat(h.style("padding")),m.padBottom=parseFloat(h.style("padding")),m.nodeRepulsion=ir(n.nodeRepulsion)?n.nodeRepulsion(h):n.nodeRepulsion,u.layoutNodes.push(m),u.idToIndex[m.id]=f}for(var g=[],p=0,y=-1,w=[],f=0;f<u.nodeSize;f++){var h=u.layoutNodes[f],E=h.parentId;E!=null?u.layoutNodes[u.idToIndex[E]].children.push(h.id):(g[++y]=h.id,w.push(h.id))}for(u.graphSet.push(w);p<=y;){var S=g[p++],x=u.idToIndex[S],v=u.layoutNodes[x],C=v.children;if(C.length>0){u.graphSet.push(C);for(var f=0;f<C.length;f++)g[++y]=C[f]}}for(var f=0;f<u.graphSet.length;f++)for(var _=u.graphSet[f],d=0;d<_.length;d++){var k=u.idToIndex[_[d]];u.indexToGraph[k]=f}for(var f=0;f<u.edgeSize;f++){var T=a[f],A={};A.id=T.data("id"),A.sourceId=T.data("source"),A.targetId=T.data("target");var R=ir(n.idealEdgeLength)?n.idealEdgeLength(T):n.idealEdgeLength,I=ir(n.edgeElasticity)?n.edgeElasticity(T):n.edgeElasticity,L=u.idToIndex[A.sourceId],B=u.idToIndex[A.targetId],O=u.indexToGraph[L],D=u.indexToGraph[B];if(O!=D){for(var F=S4(A.sourceId,A.targetId,u),z=u.graphSet[F],q=0,m=u.layoutNodes[L];z.indexOf(m.id)===-1;)m=u.layoutNodes[u.idToIndex[m.parentId]],q++;for(m=u.layoutNodes[B];z.indexOf(m.id)===-1;)m=u.layoutNodes[u.idToIndex[m.parentId]],q++;R*=q*n.nestingFactor}A.idealLength=R,A.elasticity=I,u.layoutEdges.push(A)}return u},S4=function(r,t,n){var a=PD(r,t,0,n);return 2>a.count?0:a.graph},PD=function(r,t,n,a){var i=a.graphSet[n];if(-1<i.indexOf(r)&&-1<i.indexOf(t))return{count:2,graph:n};for(var o=0,u=0;u<i.length;u++){var s=i[u],l=a.idToIndex[s],f=a.layoutNodes[l].children;if(f.length!==0){var c=a.indexToGraph[a.idToIndex[f[0]]],d=PD(r,t,c,a);if(d.count!==0)if(d.count===1){if(o++,o===2)break}else return d}}return{count:o,graph:n}},C4,k4=function(r,t){for(var n=r.clientWidth,a=r.clientHeight,i=0;i<r.nodeSize;i++){var o=r.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},DD=function(r,t,n){var a=r.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(o){var u=r.layoutNodes[r.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,u.positionX),i.x2=Math.max(i.x2,u.positionX),i.y1=Math.min(i.y1,u.positionY),i.y2=Math.max(i.y2,u.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,u){var s=r.layoutNodes[r.idToIndex[o.data("id")]];if(t.boundingBox){var l=i.w===0?.5:(s.positionX-i.x1)/i.w,f=i.h===0?.5:(s.positionY-i.y1)/i.h;return{x:a.x1+l*a.w,y:a.y1+f*a.h}}else return{x:s.positionX,y:s.positionY}}},_4=function(r,t,n){var a=n.layout,i=n.eles.nodes(),o=DD(r,n,i);i.positions(o),r.ready!==!0&&(r.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},T4=function(r,t,n){A4(r,t),D4(r),I4(r,t),L4(r),O4(r)},A4=function(r,t){for(var n=0;n<r.graphSet.length;n++)for(var a=r.graphSet[n],i=a.length,o=0;o<i;o++)for(var u=r.layoutNodes[r.idToIndex[a[o]]],s=o+1;s<i;s++){var l=r.layoutNodes[r.idToIndex[a[s]]];R4(u,l,r,t)}},Z2=function(r){return-1+2*r*Math.random()},R4=function(r,t,n,a){var i=r.cmptId,o=t.cmptId;if(!(i!==o&&!n.isCompound)){var u=t.positionX-r.positionX,s=t.positionY-r.positionY,l=1;u===0&&s===0&&(u=Z2(l),s=Z2(l));var f=P4(r,t,u,s);if(f>0)var c=a.nodeOverlap*f,d=Math.sqrt(u*u+s*s),v=c*u/d,h=c*s/d;else var b=jl(r,u,s),m=jl(t,-1*u,-1*s),g=m.x-b.x,p=m.y-b.y,y=g*g+p*p,d=Math.sqrt(y),c=(r.nodeRepulsion+t.nodeRepulsion)/y,v=c*g/d,h=c*p/d;r.isLocked||(r.offsetX-=v,r.offsetY-=h),t.isLocked||(t.offsetX+=v,t.offsetY+=h)}},P4=function(r,t,n,a){if(n>0)var i=r.maxX-t.minX;else var i=t.maxX-r.minX;if(a>0)var o=r.maxY-t.minY;else var o=t.maxY-r.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},jl=function(r,t,n){var a=r.positionX,i=r.positionY,o=r.height||1,u=r.width||1,s=n/t,l=o/u,f={};return t===0&&0<n||t===0&&0>n?(f.x=a,f.y=i+o/2,f):0<t&&-1*l<=s&&s<=l?(f.x=a+u/2,f.y=i+u*n/2/t,f):0>t&&-1*l<=s&&s<=l?(f.x=a-u/2,f.y=i-u*n/2/t,f):0<n&&(s<=-1*l||s>=l)?(f.x=a+o*t/2/n,f.y=i+o/2,f):(0>n&&(s<=-1*l||s>=l)&&(f.x=a-o*t/2/n,f.y=i-o/2),f)},D4=function(r,t){for(var n=0;n<r.edgeSize;n++){var a=r.layoutEdges[n],i=r.idToIndex[a.sourceId],o=r.layoutNodes[i],u=r.idToIndex[a.targetId],s=r.layoutNodes[u],l=s.positionX-o.positionX,f=s.positionY-o.positionY;if(!(l===0&&f===0)){var c=jl(o,l,f),d=jl(s,-1*l,-1*f),v=d.x-c.x,h=d.y-c.y,b=Math.sqrt(v*v+h*h),m=Math.pow(a.idealLength-b,2)/a.elasticity;if(b!==0)var g=m*v/b,p=m*h/b;else var g=0,p=0;o.isLocked||(o.offsetX+=g,o.offsetY+=p),s.isLocked||(s.offsetX-=g,s.offsetY-=p)}}},I4=function(r,t){if(t.gravity!==0)for(var n=1,a=0;a<r.graphSet.length;a++){var i=r.graphSet[a],o=i.length;if(a===0)var u=r.clientHeight/2,s=r.clientWidth/2;else var l=r.layoutNodes[r.idToIndex[i[0]]],f=r.layoutNodes[r.idToIndex[l.parentId]],u=f.positionX,s=f.positionY;for(var c=0;c<o;c++){var d=r.layoutNodes[r.idToIndex[i[c]]];if(!d.isLocked){var v=u-d.positionX,h=s-d.positionY,b=Math.sqrt(v*v+h*h);if(b>n){var m=t.gravity*v/b,g=t.gravity*h/b;d.offsetX+=m,d.offsetY+=g}}}}},L4=function(r,t){var n=[],a=0,i=-1;for(n.push.apply(n,r.graphSet[0]),i+=r.graphSet[0].length;a<=i;){var o=n[a++],u=r.idToIndex[o],s=r.layoutNodes[u],l=s.children;if(0<l.length&&!s.isLocked){for(var f=s.offsetX,c=s.offsetY,d=0;d<l.length;d++){var v=r.layoutNodes[r.idToIndex[l[d]]];v.offsetX+=f,v.offsetY+=c,n[++i]=l[d]}s.offsetX=0,s.offsetY=0}}},O4=function(r,t){for(var n=0;n<r.nodeSize;n++){var a=r.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<r.nodeSize;n++){var a=r.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=M4(a.offsetX,a.offsetY,r.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,ID(a,r)}}for(var n=0;n<r.nodeSize;n++){var a=r.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},M4=function(r,t,n){var a=Math.sqrt(r*r+t*t);if(a>n)var i={x:n*r/a,y:n*t/a};else var i={x:r,y:t};return i},ID=function(r,t){var n=r.parentId;if(n!=null){var a=t.layoutNodes[t.idToIndex[n]],i=!1;if((a.maxX==null||r.maxX+a.padRight>a.maxX)&&(a.maxX=r.maxX+a.padRight,i=!0),(a.minX==null||r.minX-a.padLeft<a.minX)&&(a.minX=r.minX-a.padLeft,i=!0),(a.maxY==null||r.maxY+a.padBottom>a.maxY)&&(a.maxY=r.maxY+a.padBottom,i=!0),(a.minY==null||r.minY-a.padTop<a.minY)&&(a.minY=r.minY-a.padTop,i=!0),i)return ID(a,t)}},Q2=function(r,t){for(var n=r.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],u=o.cmptId,s=a[u]=a[u]||[];s.push(o)}for(var l=0,i=0;i<a.length;i++){var f=a[i];if(f){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var c=0;c<f.length;c++){var d=f[c];f.x1=Math.min(f.x1,d.positionX-d.width/2),f.x2=Math.max(f.x2,d.positionX+d.width/2),f.y1=Math.min(f.y1,d.positionY-d.height/2),f.y2=Math.max(f.y2,d.positionY+d.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,l+=f.w*f.h}}a.sort(function(p,y){return y.w*y.h-p.w*p.h});for(var v=0,h=0,b=0,m=0,g=Math.sqrt(l)*r.clientWidth/r.clientHeight,i=0;i<a.length;i++){var f=a[i];if(f){for(var c=0;c<f.length;c++){var d=f[c];d.isLocked||(d.positionX+=v-f.x1,d.positionY+=h-f.y1)}v+=f.w+t.componentSpacing,b+=f.w+t.componentSpacing,m=Math.max(m,f.h),b>g&&(h+=m+t.componentSpacing,v=0,b=0,m=0)}}},B4={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(r){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,t){return!0},ready:void 0,stop:void 0,transform:function(r,t){return t}};function LD(e){this.options=ke({},B4,e)}LD.prototype.run=function(){var e=this.options,r=e,t=e.cy,n=r.eles,a=n.nodes().not(":parent");r.sort&&(a=a.sort(r.sort));var i=nt(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,r,function(Y){return{x:i.x1,y:i.y1}});else{var o=a.size(),u=Math.sqrt(o*i.h/i.w),s=Math.round(u),l=Math.round(i.w/i.h*u),f=function(M){if(M==null)return Math.min(s,l);var N=Math.min(s,l);N==s?s=M:l=M},c=function(M){if(M==null)return Math.max(s,l);var N=Math.max(s,l);N==s?s=M:l=M},d=r.rows,v=r.cols!=null?r.cols:r.columns;if(d!=null&&v!=null)s=d,l=v;else if(d!=null&&v==null)s=d,l=Math.ceil(o/s);else if(d==null&&v!=null)l=v,s=Math.ceil(o/l);else if(l*s>o){var h=f(),b=c();(h-1)*b>=o?f(h-1):(b-1)*h>=o&&c(b-1)}else for(;l*s<o;){var m=f(),g=c();(g+1)*m>=o?c(g+1):f(m+1)}var p=i.w/l,y=i.h/s;if(r.condense&&(p=0,y=0),r.avoidOverlap)for(var w=0;w<a.length;w++){var E=a[w],S=E._private.position;(S.x==null||S.y==null)&&(S.x=0,S.y=0);var x=E.layoutDimensions(r),C=r.avoidOverlapPadding,_=x.w+C,k=x.h+C;p=Math.max(p,_),y=Math.max(y,k)}for(var T={},A=function(M,N){return!!T["c-"+M+"-"+N]},R=function(M,N){T["c-"+M+"-"+N]=!0},I=0,L=0,B=function(){L++,L>=l&&(L=0,I++)},O={},D=0;D<a.length;D++){var F=a[D],z=r.position(F);if(z&&(z.row!==void 0||z.col!==void 0)){var q={row:z.row,col:z.col};if(q.col===void 0)for(q.col=0;A(q.row,q.col);)q.col++;else if(q.row===void 0)for(q.row=0;A(q.row,q.col);)q.row++;O[F.id()]=q,R(q.row,q.col)}}var $=function(M,N){var V,H;if(M.locked()||M.isParent())return!1;var re=O[M.id()];if(re)V=re.col*p+p/2+i.x1,H=re.row*y+y/2+i.y1;else{for(;A(I,L);)B();V=L*p+p/2+i.x1,H=I*y+y/2+i.y1,R(I,L),B()}return{x:V,y:H}};a.layoutPositions(this,r,$)}return this};var N4={ready:function(){},stop:function(){}};function ub(e){this.options=ke({},N4,e)}ub.prototype.run=function(){var e=this.options,r=e.eles,t=this;return e.cy,t.emit("layoutstart"),r.nodes().positions(function(){return{x:0,y:0}}),t.one("layoutready",e.ready),t.emit("layoutready"),t.one("layoutstop",e.stop),t.emit("layoutstop"),this};ub.prototype.stop=function(){return this};var q4={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,t){return!0},ready:void 0,stop:void 0,transform:function(r,t){return t}};function OD(e){this.options=ke({},q4,e)}OD.prototype.run=function(){var e=this.options,r=e.eles,t=r.nodes(),n=ir(e.positions);function a(i){if(e.positions==null)return oq(i.position());if(n)return e.positions(i);var o=e.positions[i._private.data.id];return o??null}return t.layoutPositions(this,e,function(i,o){var u=a(i);return i.locked()||u==null?!1:u}),this};var F4={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,t){return!0},ready:void 0,stop:void 0,transform:function(r,t){return t}};function MD(e){this.options=ke({},F4,e)}MD.prototype.run=function(){var e=this.options,r=e.cy,t=e.eles,n=nt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),a=function(o,u){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return t.nodes().layoutPositions(this,e,a),this};var z4=[{name:"breadthfirst",impl:TD},{name:"circle",impl:AD},{name:"concentric",impl:RD},{name:"cose",impl:Nf},{name:"grid",impl:LD},{name:"null",impl:ub},{name:"preset",impl:OD},{name:"random",impl:MD}];function BD(e){this.options=e,this.notifications=0}var J2=function(){},eE=function(){throw new Error("A headless instance can not render images")};BD.prototype={recalculateRenderedStyle:J2,notify:function(){this.notifications++},init:J2,isHeadless:function(){return!0},png:eE,jpg:eE};var sb={};sb.arrowShapeWidth=.3;sb.registerArrowShapes=function(){var e=this.arrowShapes={},r=this,t=function(l,f,c,d,v,h,b){var m=v.x-c/2-b,g=v.x+c/2+b,p=v.y-c/2-b,y=v.y+c/2+b,w=m<=l&&l<=g&&p<=f&&f<=y;return w},n=function(l,f,c,d,v){var h=l*Math.cos(d)-f*Math.sin(d),b=l*Math.sin(d)+f*Math.cos(d),m=h*c,g=b*c,p=m+v.x,y=g+v.y;return{x:p,y}},a=function(l,f,c,d){for(var v=[],h=0;h<l.length;h+=2){var b=l[h],m=l[h+1];v.push(n(b,m,f,c,d))}return v},i=function(l){for(var f=[],c=0;c<l.length;c++){var d=l[c];f.push(d.x,d.y)}return f},o=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},u=function(l,f){Se(f)&&(f=e[f]),e[l]=ke({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,v,h,b,m,g){var p=i(a(this.points,h+2*g,b,m)),y=ct(d,v,p);return y},roughCollide:t,draw:function(d,v,h,b){var m=a(this.points,v,h,b);r.arrowShapeImpl("polygon")(d,m)},spacing:function(d){return 0},gap:o},f)};u("none",{collide:$l,roughCollide:$l,draw:K1,spacing:hx,gap:hx}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:t,draw:function(l,f,c,d,v){var h=a(this.points,f,c,d),b=this.controlPoint,m=n(b[0],b[1],f,c,d);r.arrowShapeImpl(this.name)(l,h,m)},gap:function(l){return o(l)*.8}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,f,c,d,v,h,b){var m=i(a(this.points,c+2*b,d,v)),g=i(a(this.pointsTee,c+2*b,d,v)),p=ct(l,f,m)||ct(l,f,g);return p},draw:function(l,f,c,d,v){var h=a(this.points,f,c,d),b=a(this.pointsTee,f,c,d);r.arrowShapeImpl(this.name)(l,h,b)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,f,c,d,v,h,b){var m=v,g=Math.pow(m.x-l,2)+Math.pow(m.y-f,2)<=Math.pow((c+2*b)*this.radius,2),p=i(a(this.points,c+2*b,d,v));return ct(l,f,p)||g},draw:function(l,f,c,d,v){var h=a(this.pointsTr,f,c,d);r.arrowShapeImpl(this.name)(l,h,d.x,d.y,this.radius*f)},spacing:function(l){return r.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,f){var c=this.baseCrossLinePts.slice(),d=f/l,v=3,h=5;return c[v]=c[v]-d,c[h]=c[h]-d,c},collide:function(l,f,c,d,v,h,b){var m=i(a(this.points,c+2*b,d,v)),g=i(a(this.crossLinePts(c,h),c+2*b,d,v)),p=ct(l,f,m)||ct(l,f,g);return p},draw:function(l,f,c,d,v){var h=a(this.points,f,c,d),b=a(this.crossLinePts(f,v),f,c,d);r.arrowShapeImpl(this.name)(l,h,b)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return o(l)*.525}}),u("circle",{radius:.15,collide:function(l,f,c,d,v,h,b){var m=v,g=Math.pow(m.x-l,2)+Math.pow(m.y-f,2)<=Math.pow((c+2*b)*this.radius,2);return g},draw:function(l,f,c,d,v){r.arrowShapeImpl(this.name)(l,d.x,d.y,this.radius*f)},spacing:function(l){return r.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var ti={};ti.projectIntoViewport=function(e,r){var t=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],u=t.pan(),s=t.zoom(),l=((e-a)/o-u.x)/s,f=((r-i)/o-u.y)/s;return[l,f]};ti.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,r=e.getBoundingClientRect(),t=this.cy.window().getComputedStyle(e),n=function(g){return parseFloat(t.getPropertyValue(g))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=e.clientWidth,u=e.clientHeight,s=a.left+a.right,l=a.top+a.bottom,f=i.left+i.right,c=r.width/(o+f),d=o-s,v=u-l,h=r.left+a.left+i.left,b=r.top+a.top+i.top;return this.containerBB=[h,b,d,v,c]};ti.invalidateContainerClientCoordsCache=function(){this.containerBB=null};ti.findNearestElement=function(e,r,t,n){return this.findNearestElements(e,r,t,n)[0]};ti.findNearestElements=function(e,r,t,n){var a=this,i=this,o=i.getCachedZSortedEles(),u=[],s=i.cy.zoom(),l=i.cy.hasCompoundNodes(),f=(n?24:8)/s,c=(n?8:2)/s,d=(n?8:2)/s,v=1/0,h,b;t&&(o=o.interactive);function m(x,C){if(x.isNode()){if(b)return;b=x,u.push(x)}if(x.isEdge()&&(C==null||C<v))if(h){if(h.pstyle("z-compound-depth").value===x.pstyle("z-compound-depth").value&&h.pstyle("z-compound-depth").value===x.pstyle("z-compound-depth").value){for(var _=0;_<u.length;_++)if(u[_].isEdge()){u[_]=x,h=x,v=C??v;break}}}else u.push(x),h=x,v=C??v}function g(x){var C=x.outerWidth()+2*c,_=x.outerHeight()+2*c,k=C/2,T=_/2,A=x.position(),R=x.pstyle("corner-radius").value==="auto"?"auto":x.pstyle("corner-radius").pfValue,I=x._private.rscratch;if(A.x-k<=e&&e<=A.x+k&&A.y-T<=r&&r<=A.y+T){var L=i.nodeShapes[a.getNodeShape(x)];if(L.checkPoint(e,r,0,C,_,A.x,A.y,R,I))return m(x,0),!0}}function p(x){var C=x._private,_=C.rscratch,k=x.pstyle("width").pfValue,T=x.pstyle("arrow-scale").value,A=k/2+f,R=A*A,I=A*2,D=C.source,F=C.target,L;if(_.edgeType==="segments"||_.edgeType==="straight"||_.edgeType==="haystack"){for(var B=_.allpts,O=0;O+3<B.length;O+=2)if(wq(e,r,B[O],B[O+1],B[O+2],B[O+3],I)&&R>(L=kq(e,r,B[O],B[O+1],B[O+2],B[O+3])))return m(x,L),!0}else if(_.edgeType==="bezier"||_.edgeType==="multibezier"||_.edgeType==="self"||_.edgeType==="compound"){for(var B=_.allpts,O=0;O+5<_.allpts.length;O+=4)if(xq(e,r,B[O],B[O+1],B[O+2],B[O+3],B[O+4],B[O+5],I)&&R>(L=Cq(e,r,B[O],B[O+1],B[O+2],B[O+3],B[O+4],B[O+5])))return m(x,L),!0}for(var D=D||C.source,F=F||C.target,z=a.getArrowWidth(k,T),q=[{name:"source",x:_.arrowStartX,y:_.arrowStartY,angle:_.srcArrowAngle},{name:"target",x:_.arrowEndX,y:_.arrowEndY,angle:_.tgtArrowAngle},{name:"mid-source",x:_.midX,y:_.midY,angle:_.midsrcArrowAngle},{name:"mid-target",x:_.midX,y:_.midY,angle:_.midtgtArrowAngle}],O=0;O<q.length;O++){var $=q[O],Y=i.arrowShapes[x.pstyle($.name+"-arrow-shape").value],M=x.pstyle("width").pfValue;if(Y.roughCollide(e,r,z,$.angle,{x:$.x,y:$.y},M,f)&&Y.collide(e,r,z,$.angle,{x:$.x,y:$.y},M,f))return m(x),!0}l&&u.length>0&&(g(D),g(F))}function y(x,C,_){return ft(x,C,_)}function w(x,C){var _=x._private,k=d,T;C?T=C+"-":T="",x.boundingBox();var A=_.labelBounds[C||"main"],R=x.pstyle(T+"label").value,I=x.pstyle("text-events").strValue==="yes";if(!(!I||!R)){var L=y(_.rscratch,"labelX",C),B=y(_.rscratch,"labelY",C),O=y(_.rscratch,"labelAngle",C),D=x.pstyle(T+"text-margin-x").pfValue,F=x.pstyle(T+"text-margin-y").pfValue,z=A.x1-k-D,q=A.x2+k-D,$=A.y1-k-F,Y=A.y2+k-F;if(O){var M=Math.cos(O),N=Math.sin(O),V=function(X,ne){return X=X-L,ne=ne-B,{x:X*M-ne*N+L,y:X*N+ne*M+B}},H=V(z,$),re=V(z,Y),j=V(q,$),U=V(q,Y),G=[H.x+D,H.y+F,j.x+D,j.y+F,U.x+D,U.y+F,re.x+D,re.y+F];if(ct(e,r,G))return m(x),!0}else if(Xn(A,e,r))return m(x),!0}}for(var E=o.length-1;E>=0;E--){var S=o[E];S.isNode()?g(S)||w(S):p(S)||w(S)||w(S,"source")||w(S,"target")}return u};ti.getAllInBox=function(e,r,t,n){var a=this.getCachedZSortedEles().interactive,i=this.cy.zoom(),o=2/i,u=[],s=Math.min(e,t),l=Math.max(e,t),f=Math.min(r,n),c=Math.max(r,n);e=s,t=l,r=f,n=c;var d=nt({x1:e,y1:r,x2:t,y2:n}),v=[{x:d.x1,y:d.y1},{x:d.x2,y:d.y1},{x:d.x2,y:d.y2},{x:d.x1,y:d.y2}],h=[[v[0],v[1]],[v[1],v[2]],[v[2],v[3]],[v[3],v[0]]];function b(X,ne,ie){return ft(X,ne,ie)}function m(X,ne){var ie=X._private,Ae=o,ue="";X.boundingBox();var xe=ie.labelBounds.main;if(!xe)return null;var me=b(ie.rscratch,"labelX",ne),se=b(ie.rscratch,"labelY",ne),pe=b(ie.rscratch,"labelAngle",ne),de=X.pstyle(ue+"text-margin-x").pfValue,ge=X.pstyle(ue+"text-margin-y").pfValue,ye=xe.x1-Ae-de,Te=xe.x2+Ae-de,Be=xe.y1-Ae-ge,Ne=xe.y2+Ae-ge;if(pe){var Le=Math.cos(pe),qe=Math.sin(pe),_e=function(J,P){return J=J-me,P=P-se,{x:J*Le-P*qe+me,y:J*qe+P*Le+se}};return[_e(ye,Be),_e(Te,Be),_e(Te,Ne),_e(ye,Ne)]}else return[{x:ye,y:Be},{x:Te,y:Be},{x:Te,y:Ne},{x:ye,y:Ne}]}function g(X,ne,ie,Ae){function ue(xe,me,se){return(se.y-xe.y)*(me.x-xe.x)>(me.y-xe.y)*(se.x-xe.x)}return ue(X,ie,Ae)!==ue(ne,ie,Ae)&&ue(X,ne,ie)!==ue(X,ne,Ae)}for(var p=0;p<a.length;p++){var y=a[p];if(y.isNode()){var w=y,E=w.pstyle("text-events").strValue==="yes",S=w.pstyle("box-selection").strValue,x=w.pstyle("box-select-labels").strValue==="yes";if(S==="none")continue;var C=(S==="overlap"||x)&&E,_=w.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:C});if(S==="contain"){var k=!1;if(x&&E){var T=m(w);T&&Qc(T,v)&&(u.push(w),k=!0)}!k&&UP(d,_)&&u.push(w)}else if(S==="overlap"&&Z1(d,_)){var A=w.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),R=[{x:A.x1,y:A.y1},{x:A.x2,y:A.y1},{x:A.x2,y:A.y2},{x:A.x1,y:A.y2}];if(Qc(R,v))u.push(w);else{var I=m(w);I&&Qc(I,v)&&u.push(w)}}}else{var L=y,B=L._private,O=B.rscratch,D=L.pstyle("box-selection").strValue;if(D==="none")continue;if(D==="contain"){if(O.startX!=null&&O.startY!=null&&!Xn(d,O.startX,O.startY)||O.endX!=null&&O.endY!=null&&!Xn(d,O.endX,O.endY))continue;if(O.edgeType==="bezier"||O.edgeType==="multibezier"||O.edgeType==="self"||O.edgeType==="compound"||O.edgeType==="segments"||O.edgeType==="haystack"){for(var F=B.rstyle.bezierPts||B.rstyle.linePts||B.rstyle.haystackPts,z=!0,q=0;q<F.length;q++)if(!bx(d,F[q])){z=!1;break}z&&u.push(L)}else O.edgeType==="straight"&&u.push(L)}else if(D==="overlap"){var $=!1;if(O.startX!=null&&O.startY!=null&&O.endX!=null&&O.endY!=null&&(Xn(d,O.startX,O.startY)||Xn(d,O.endX,O.endY)))u.push(L),$=!0;else if(!$&&O.edgeType==="haystack"){for(var Y=B.rstyle.haystackPts,M=0;M<Y.length;M++)if(bx(d,Y[M])){u.push(L),$=!0;break}}if(!$){var N=B.rstyle.bezierPts||B.rstyle.linePts||B.rstyle.haystackPts;if((!N||N.length<2)&&O.edgeType==="straight"&&O.startX!=null&&O.startY!=null&&O.endX!=null&&O.endY!=null&&(N=[{x:O.startX,y:O.startY},{x:O.endX,y:O.endY}]),!N||N.length<2)continue;for(var V=0;V<N.length-1;V++){for(var H=N[V],re=N[V+1],j=0;j<h.length;j++){var U=hr(h[j],2),G=U[0],K=U[1];if(g(H,re,G,K)){u.push(L),$=!0;break}}if($)break}}}}}return u};var Yl={};Yl.calculateArrowAngles=function(e){var r=e._private.rscratch,t=r.edgeType==="haystack",n=r.edgeType==="bezier",a=r.edgeType==="multibezier",i=r.edgeType==="segments",o=r.edgeType==="compound",u=r.edgeType==="self",s,l,f,c,d,v,g,p;if(t?(f=r.haystackPts[0],c=r.haystackPts[1],d=r.haystackPts[2],v=r.haystackPts[3]):(f=r.arrowStartX,c=r.arrowStartY,d=r.arrowEndX,v=r.arrowEndY),g=r.midX,p=r.midY,i)s=f-r.segpts[0],l=c-r.segpts[1];else if(a||o||u||n){var h=r.allpts,b=Ar(h[0],h[2],h[4],.1),m=Ar(h[1],h[3],h[5],.1);s=f-b,l=c-m}else s=f-g,l=c-p;r.srcArrowAngle=Ds(s,l);var g=r.midX,p=r.midY;if(t&&(g=(f+d)/2,p=(c+v)/2),s=d-f,l=v-c,i){var h=r.allpts;if(h.length/2%2===0){var y=h.length/2,w=y-2;s=h[y]-h[w],l=h[y+1]-h[w+1]}else if(r.isRound)s=r.midVector[1],l=-r.midVector[0];else{var y=h.length/2-1,w=y-2;s=h[y]-h[w],l=h[y+1]-h[w+1]}}else if(a||o||u){var h=r.allpts,E=r.ctrlpts,S,x,C,_;if(E.length/2%2===0){var k=h.length/2-1,T=k+2,A=T+2;S=Ar(h[k],h[T],h[A],0),x=Ar(h[k+1],h[T+1],h[A+1],0),C=Ar(h[k],h[T],h[A],1e-4),_=Ar(h[k+1],h[T+1],h[A+1],1e-4)}else{var T=h.length/2-1,k=T-2,A=T+2;S=Ar(h[k],h[T],h[A],.4999),x=Ar(h[k+1],h[T+1],h[A+1],.4999),C=Ar(h[k],h[T],h[A],.5),_=Ar(h[k+1],h[T+1],h[A+1],.5)}s=C-S,l=_-x}if(r.midtgtArrowAngle=Ds(s,l),r.midDispX=s,r.midDispY=l,s*=-1,l*=-1,i){var h=r.allpts;if(h.length/2%2!==0){if(!r.isRound){var y=h.length/2-1,R=y+2;s=-(h[R]-h[y]),l=-(h[R+1]-h[y+1])}}}if(r.midsrcArrowAngle=Ds(s,l),i)s=d-r.segpts[r.segpts.length-2],l=v-r.segpts[r.segpts.length-1];else if(a||o||u||n){var h=r.allpts,I=h.length,b=Ar(h[I-6],h[I-4],h[I-2],.9),m=Ar(h[I-5],h[I-3],h[I-1],.9);s=d-b,l=v-m}else s=d-g,l=v-p;r.tgtArrowAngle=Ds(s,l)};Yl.getArrowWidth=Yl.getArrowHeight=function(e,r){var t=this.arrowWidthCache=this.arrowWidthCache||{},n=t[e+", "+r];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*r,t[e+", "+r]=n,n)};var L0,O0,an={},Rt={},rE,tE,Ba,dl,yn,Ra,Oa,tn,hi,Fs,ND,qD,M0,B0,nE,aE=function(r,t,n){n.x=t.x-r.x,n.y=t.y-r.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},V4=function(r,t){t.x=r.x*-1,t.y=r.y*-1,t.nx=r.nx*-1,t.ny=r.ny*-1,t.ang=r.ang>0?-(Math.PI-r.ang):Math.PI+r.ang},$4=function(r,t,n,a,i){if(r!==nE?aE(t,r,an):V4(Rt,an),aE(t,n,Rt),rE=an.nx*Rt.ny-an.ny*Rt.nx,tE=an.nx*Rt.nx-an.ny*-Rt.ny,yn=Math.asin(Math.max(-1,Math.min(1,rE))),Math.abs(yn)<1e-6){L0=t.x,O0=t.y,Oa=hi=0;return}Ba=1,dl=!1,tE<0?yn<0?yn=Math.PI+yn:(yn=Math.PI-yn,Ba=-1,dl=!0):yn>0&&(Ba=-1,dl=!0),t.radius!==void 0?hi=t.radius:hi=a,Ra=yn/2,Fs=Math.min(an.len/2,Rt.len/2),i?(tn=Math.abs(Math.cos(Ra)*hi/Math.sin(Ra)),tn>Fs?(tn=Fs,Oa=Math.abs(tn*Math.sin(Ra)/Math.cos(Ra))):Oa=hi):(tn=Math.min(Fs,hi),Oa=Math.abs(tn*Math.sin(Ra)/Math.cos(Ra))),M0=t.x+Rt.nx*tn,B0=t.y+Rt.ny*tn,L0=M0-Rt.ny*Oa*Ba,O0=B0+Rt.nx*Oa*Ba,ND=t.x+an.nx*tn,qD=t.y+an.ny*tn,nE=t};function FD(e,r){r.radius===0?e.lineTo(r.cx,r.cy):e.arc(r.cx,r.cy,r.radius,r.startAngle,r.endAngle,r.counterClockwise)}function lb(e,r,t,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||r.radius===0?{cx:r.x,cy:r.y,radius:0,startX:r.x,startY:r.y,stopX:r.x,stopY:r.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:($4(e,r,t,n,a),{cx:L0,cy:O0,radius:Oa,startX:ND,startY:qD,stopX:M0,stopY:B0,startAngle:an.ang+Math.PI/2*Ba,endAngle:Rt.ang-Math.PI/2*Ba,counterClockwise:dl})}var Nu=.01,U4=Math.sqrt(2*Nu),Yr={};Yr.findMidptPtsEtc=function(e,r){var t=r.posPts,n=r.intersectionPts,a=r.vectorNormInverse,i,o=e.pstyle("source-endpoint"),u=e.pstyle("target-endpoint"),s=o.units!=null&&u.units!=null,l=function(E,S,x,C){var _=C-S,k=x-E,T=Math.sqrt(k*k+_*_);return{x:-_/T,y:k/T}},f=e.pstyle("edge-distances").value;switch(f){case"node-position":i=t;break;case"intersection":i=n;break;case"endpoints":{if(s){var c=this.manualEndptToPx(e.source()[0],o),d=hr(c,2),v=d[0],h=d[1],b=this.manualEndptToPx(e.target()[0],u),m=hr(b,2),g=m[0],p=m[1],y={x1:v,y1:h,x2:g,y2:p};a=l(v,h,g,p),i=y}else Ge("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};Yr.findHaystackPoints=function(e){for(var r=0;r<e.length;r++){var t=e[r],n=t._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,u=n.target,s=o.position(),l=u.position(),f=o.width(),c=u.width(),d=o.height(),v=u.height(),h=t.pstyle("haystack-radius").value,b=h/2;a.haystackPts=a.allpts=[a.source.x*f*b+s.x,a.source.y*d*b+s.y,a.target.x*c*b+l.x,a.target.y*v*b+l.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(t),this.calculateArrowAngles(t),this.recalculateEdgeLabelProjections(t),this.calculateLabelAngles(t)}};Yr.findSegmentsPoints=function(e,r){var t=e._private.rscratch,n=e.pstyle("segment-weights"),a=e.pstyle("segment-distances"),i=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),u=Math.min(n.pfValue.length,a.pfValue.length),s=i.pfValue[i.pfValue.length-1],l=o.pfValue[o.pfValue.length-1];t.edgeType="segments",t.segpts=[],t.radii=[],t.isArcRadius=[];for(var f=0;f<u;f++){var c=n.pfValue[f],d=a.pfValue[f],v=1-c,h=c,b=this.findMidptPtsEtc(e,r),m=b.midptPts,g=b.vectorNormInverse,p={x:m.x1*v+m.x2*h,y:m.y1*v+m.y2*h};t.segpts.push(p.x+g.x*d,p.y+g.y*d),t.radii.push(i.pfValue[f]!==void 0?i.pfValue[f]:s),t.isArcRadius.push((o.pfValue[f]!==void 0?o.pfValue[f]:l)==="arc-radius")}};Yr.findLoopPoints=function(e,r,t,n){var a=e._private.rscratch,i=r.dirCounts,o=r.srcPos,u=e.pstyle("control-point-distances"),s=u?u.pfValue[0]:void 0,l=e.pstyle("loop-direction").pfValue,f=e.pstyle("loop-sweep").pfValue,c=e.pstyle("control-point-step-size").pfValue;a.edgeType="self";var d=t,v=c;n&&(d=0,v=s);var h=l-Math.PI/2,b=h-f/2,m=h+f/2,g=l+"_"+f;d=i[g]===void 0?i[g]=0:++i[g],a.ctrlpts=[o.x+Math.cos(b)*1.4*v*(d/3+1),o.y+Math.sin(b)*1.4*v*(d/3+1),o.x+Math.cos(m)*1.4*v*(d/3+1),o.y+Math.sin(m)*1.4*v*(d/3+1)]};Yr.findCompoundLoopPoints=function(e,r,t,n){var a=e._private.rscratch;a.edgeType="compound";var i=r.srcPos,o=r.tgtPos,u=r.srcW,s=r.srcH,l=r.tgtW,f=r.tgtH,c=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),v=d?d.pfValue[0]:void 0,h=t,b=c;n&&(h=0,b=v);var m=50,g={x:i.x-u/2,y:i.y-s/2},p={x:o.x-l/2,y:o.y-f/2},y={x:Math.min(g.x,p.x),y:Math.min(g.y,p.y)},w=.5,E=Math.max(w,Math.log(u*Nu)),S=Math.max(w,Math.log(l*Nu));a.ctrlpts=[y.x,y.y-(1+Math.pow(m,1.12)/100)*b*(h/3+1)*E,y.x-(1+Math.pow(m,1.12)/100)*b*(h/3+1)*S,y.y]};Yr.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};Yr.findBezierPoints=function(e,r,t,n,a){var i=e._private.rscratch,o=e.pstyle("control-point-step-size").pfValue,u=e.pstyle("control-point-distances"),s=e.pstyle("control-point-weights"),l=u&&s?Math.min(u.value.length,s.value.length):1,f=u?u.pfValue[0]:void 0,c=s.value[0],d=n;i.edgeType=d?"multibezier":"bezier",i.ctrlpts=[];for(var v=0;v<l;v++){var h=(.5-r.eles.length/2+t)*o*(a?-1:1),b=void 0,m=X1(h);d&&(f=u?u.pfValue[v]:o,c=s.value[v]),n?b=f:b=f!==void 0?m*f:void 0;var g=b!==void 0?b:h,p=1-c,y=c,w=this.findMidptPtsEtc(e,r),E=w.midptPts,S=w.vectorNormInverse,x={x:E.x1*p+E.x2*y,y:E.y1*p+E.y2*y};i.ctrlpts.push(x.x+S.x*g,x.y+S.y*g)}};Yr.findTaxiPoints=function(e,r){var t=e._private.rscratch;t.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",u="downward",s="upward",l="auto",f=r.posPts,c=r.srcW,d=r.srcH,v=r.tgtW,h=r.tgtH,b=e.pstyle("edge-distances").value,m=b!=="node-position",g=e.pstyle("taxi-direction").value,p=g,y=e.pstyle("taxi-turn"),w=y.units==="%",E=y.pfValue,S=E<0,x=e.pstyle("taxi-turn-min-distance").pfValue,C=m?(c+v)/2:0,_=m?(d+h)/2:0,k=f.x2-f.x1,T=f.y2-f.y1,A=function(P,W){return P>0?Math.max(P-W,0):Math.min(P+W,0)},R=A(k,C),I=A(T,_),L=!1;p===l?g=Math.abs(R)>Math.abs(I)?a:n:p===s||p===u?(g=n,L=!0):(p===i||p===o)&&(g=a,L=!0);var B=g===n,O=B?I:R,D=B?T:k,F=X1(D),z=!1;!(L&&(w||S))&&(p===u&&D<0||p===s&&D>0||p===i&&D>0||p===o&&D<0)&&(F*=-1,O=F*Math.abs(O),z=!0);var q;if(w){var $=E<0?1+E:E;q=$*O}else{var Y=E<0?O:0;q=Y+E*F}var M=function(P){return Math.abs(P)<x||Math.abs(P)>=Math.abs(O)},N=M(q),V=M(Math.abs(O)-Math.abs(q)),H=N||V;if(H&&!z)if(B){var re=Math.abs(D)<=d/2,j=Math.abs(k)<=v/2;if(re){var U=(f.x1+f.x2)/2,G=f.y1,K=f.y2;t.segpts=[U,G,U,K]}else if(j){var X=(f.y1+f.y2)/2,ne=f.x1,ie=f.x2;t.segpts=[ne,X,ie,X]}else t.segpts=[f.x1,f.y2]}else{var Ae=Math.abs(D)<=c/2,ue=Math.abs(T)<=h/2;if(Ae){var xe=(f.y1+f.y2)/2,me=f.x1,se=f.x2;t.segpts=[me,xe,se,xe]}else if(ue){var pe=(f.x1+f.x2)/2,de=f.y1,ge=f.y2;t.segpts=[pe,de,pe,ge]}else t.segpts=[f.x2,f.y1]}else if(B){var ye=f.y1+q+(m?d/2*F:0),Te=f.x1,Be=f.x2;t.segpts=[Te,ye,Be,ye]}else{var Ne=f.x1+q+(m?c/2*F:0),Le=f.y1,qe=f.y2;t.segpts=[Ne,Le,Ne,qe]}if(t.isRound){var _e=e.pstyle("taxi-radius").value,le=e.pstyle("radius-type").value[0]==="arc-radius";t.radii=new Array(t.segpts.length/2).fill(_e),t.isArcRadius=new Array(t.segpts.length/2).fill(le)}};Yr.tryToCorrectInvalidPoints=function(e,r){var t=e._private.rscratch;if(t.edgeType==="bezier"){var n=r.srcPos,a=r.tgtPos,i=r.srcW,o=r.srcH,u=r.tgtW,s=r.tgtH,l=r.srcShape,f=r.tgtShape,c=r.srcCornerRadius,d=r.tgtCornerRadius,v=r.srcRs,h=r.tgtRs,b=!oe(t.startX)||!oe(t.startY),m=!oe(t.arrowStartX)||!oe(t.arrowStartY),g=!oe(t.endX)||!oe(t.endY),p=!oe(t.arrowEndX)||!oe(t.arrowEndY),y=3,w=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,E=y*w,S=Xa({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.startX,y:t.startY}),x=S<E,C=Xa({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.endX,y:t.endY}),_=C<E,k=!1;if(b||m||x){k=!0;var T={x:t.ctrlpts[0]-n.x,y:t.ctrlpts[1]-n.y},A=Math.sqrt(T.x*T.x+T.y*T.y),R={x:T.x/A,y:T.y/A},I=Math.max(i,o),L={x:t.ctrlpts[0]+R.x*2*I,y:t.ctrlpts[1]+R.y*2*I},B=l.intersectLine(n.x,n.y,i,o,L.x,L.y,0,c,v);x?(t.ctrlpts[0]=t.ctrlpts[0]+R.x*(E-S),t.ctrlpts[1]=t.ctrlpts[1]+R.y*(E-S)):(t.ctrlpts[0]=B[0]+R.x*E,t.ctrlpts[1]=B[1]+R.y*E)}if(g||p||_){k=!0;var O={x:t.ctrlpts[0]-a.x,y:t.ctrlpts[1]-a.y},D=Math.sqrt(O.x*O.x+O.y*O.y),F={x:O.x/D,y:O.y/D},z=Math.max(i,o),q={x:t.ctrlpts[0]+F.x*2*z,y:t.ctrlpts[1]+F.y*2*z},$=f.intersectLine(a.x,a.y,u,s,q.x,q.y,0,d,h);_?(t.ctrlpts[0]=t.ctrlpts[0]+F.x*(E-C),t.ctrlpts[1]=t.ctrlpts[1]+F.y*(E-C)):(t.ctrlpts[0]=$[0]+F.x*E,t.ctrlpts[1]=$[1]+F.y*E)}k&&this.findEndpoints(e)}};Yr.storeAllpts=function(e){var r=e._private.rscratch;if(r.edgeType==="multibezier"||r.edgeType==="bezier"||r.edgeType==="self"||r.edgeType==="compound"){r.allpts=[],r.allpts.push(r.startX,r.startY);for(var t=0;t+1<r.ctrlpts.length;t+=2)r.allpts.push(r.ctrlpts[t],r.ctrlpts[t+1]),t+3<r.ctrlpts.length&&r.allpts.push((r.ctrlpts[t]+r.ctrlpts[t+2])/2,(r.ctrlpts[t+1]+r.ctrlpts[t+3])/2);r.allpts.push(r.endX,r.endY);var n,a;r.ctrlpts.length/2%2===0?(n=r.allpts.length/2-1,r.midX=r.allpts[n],r.midY=r.allpts[n+1]):(n=r.allpts.length/2-3,a=.5,r.midX=Ar(r.allpts[n],r.allpts[n+2],r.allpts[n+4],a),r.midY=Ar(r.allpts[n+1],r.allpts[n+3],r.allpts[n+5],a))}else if(r.edgeType==="straight")r.allpts=[r.startX,r.startY,r.endX,r.endY],r.midX=(r.startX+r.endX+r.arrowStartX+r.arrowEndX)/4,r.midY=(r.startY+r.endY+r.arrowStartY+r.arrowEndY)/4;else if(r.edgeType==="segments"){if(r.allpts=[],r.allpts.push(r.startX,r.startY),r.allpts.push.apply(r.allpts,r.segpts),r.allpts.push(r.endX,r.endY),r.isRound){r.roundCorners=[];for(var i=2;i+3<r.allpts.length;i+=2){var o=r.radii[i/2-1],u=r.isArcRadius[i/2-1];r.roundCorners.push(lb({x:r.allpts[i-2],y:r.allpts[i-1]},{x:r.allpts[i],y:r.allpts[i+1],radius:o},{x:r.allpts[i+2],y:r.allpts[i+3]},o,u))}}if(r.segpts.length%4===0){var s=r.segpts.length/2,l=s-2;r.midX=(r.segpts[l]+r.segpts[s])/2,r.midY=(r.segpts[l+1]+r.segpts[s+1])/2}else{var f=r.segpts.length/2-1;if(!r.isRound)r.midX=r.segpts[f],r.midY=r.segpts[f+1];else{var c={x:r.segpts[f],y:r.segpts[f+1]},d=r.roundCorners[f/2];if(d.radius===0){var v={x:r.segpts[f+2],y:r.segpts[f+3]};r.midX=c.x,r.midY=c.y,r.midVector=[c.y-v.y,v.x-c.x]}else{var h=[c.x-d.cx,c.y-d.cy],b=d.radius/Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2));h=h.map(function(m){return m*b}),r.midX=d.cx+h[0],r.midY=d.cy+h[1],r.midVector=h}}}}};Yr.checkForInvalidEdgeWarning=function(e){var r=e[0]._private.rscratch;r.nodesOverlap||oe(r.startX)&&oe(r.startY)&&oe(r.endX)&&oe(r.endY)?r.loggedErr=!1:r.loggedErr||(r.loggedErr=!0,Ge("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Yr.findEdgeControlPoints=function(e){var r=this;if(!(!e||e.length===0)){for(var t=this,n=t.cy,a=n.hasCompoundNodes(),i=new Cn,o=function(_,k){return[].concat(Fl(_),[k?1:0]).join("-")},u=[],s=[],l=0;l<e.length;l++){var f=e[l],c=f._private,d=f.pstyle("curve-style").value;if(!(f.removed()||!f.takesUpSpace())){if(d==="haystack"){s.push(f);continue}var v=d==="unbundled-bezier"||Yn(d,"segments")||d==="straight"||d==="straight-triangle"||Yn(d,"taxi"),h=d==="unbundled-bezier"||d==="bezier",b=c.source,m=c.target,g=b.poolIndex(),p=m.poolIndex(),y=[g,p].sort(),w=o(y,v),E=i.get(w);E==null&&(E={eles:[]},u.push({pairId:y,edgeIsUnbundled:v}),i.set(w,E)),E.eles.push(f),v&&(E.hasUnbundled=!0),h&&(E.hasBezier=!0)}}for(var S=function(){var _=u[x],k=_.pairId,T=_.edgeIsUnbundled,A=o(k,T),R=i.get(A),I;if(!R.hasUnbundled){var L=R.eles[0].parallelEdges().filter(function(le){return le.isBundledBezier()});j1(R.eles),L.forEach(function(le){return R.eles.push(le)}),R.eles.sort(function(le,J){return le.poolIndex()-J.poolIndex()})}var B=R.eles[0],O=B.source(),D=B.target();if(O.poolIndex()>D.poolIndex()){var F=O;O=D,D=F}var z=R.srcPos=O.position(),q=R.tgtPos=D.position(),$=R.srcW=O.outerWidth(),Y=R.srcH=O.outerHeight(),M=R.tgtW=D.outerWidth(),N=R.tgtH=D.outerHeight(),V=R.srcShape=t.nodeShapes[r.getNodeShape(O)],H=R.tgtShape=t.nodeShapes[r.getNodeShape(D)],re=R.srcCornerRadius=O.pstyle("corner-radius").value==="auto"?"auto":O.pstyle("corner-radius").pfValue,j=R.tgtCornerRadius=D.pstyle("corner-radius").value==="auto"?"auto":D.pstyle("corner-radius").pfValue,U=R.tgtRs=D._private.rscratch,G=R.srcRs=O._private.rscratch;R.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var K=0;K<R.eles.length;K++){var X=R.eles[K],ne=X[0]._private.rscratch,ie=X.pstyle("curve-style").value,Ae=ie==="unbundled-bezier"||Yn(ie,"segments")||Yn(ie,"taxi"),ue=!O.same(X.source());if(!R.calculatedIntersection&&O!==D&&(R.hasBezier||R.hasUnbundled)){R.calculatedIntersection=!0;var xe=V.intersectLine(z.x,z.y,$,Y,q.x,q.y,0,re,G),me=R.srcIntn=xe,se=H.intersectLine(q.x,q.y,M,N,z.x,z.y,0,j,U),pe=R.tgtIntn=se,de=R.intersectionPts={x1:xe[0],x2:se[0],y1:xe[1],y2:se[1]},ge=R.posPts={x1:z.x,x2:q.x,y1:z.y,y2:q.y},ye=se[1]-xe[1],Te=se[0]-xe[0],Be=Math.sqrt(Te*Te+ye*ye);oe(Be)&&Be>=U4||(Be=Math.sqrt(Math.max(Te*Te,Nu)+Math.max(ye*ye,Nu)));var Ne=R.vector={x:Te,y:ye},Le=R.vectorNorm={x:Ne.x/Be,y:Ne.y/Be},qe={x:-Le.y,y:Le.x};R.nodesOverlap=!oe(Be)||H.checkPoint(xe[0],xe[1],0,M,N,q.x,q.y,j,U)||V.checkPoint(se[0],se[1],0,$,Y,z.x,z.y,re,G),R.vectorNormInverse=qe,I={nodesOverlap:R.nodesOverlap,dirCounts:R.dirCounts,calculatedIntersection:!0,hasBezier:R.hasBezier,hasUnbundled:R.hasUnbundled,eles:R.eles,srcPos:q,srcRs:U,tgtPos:z,tgtRs:G,srcW:M,srcH:N,tgtW:$,tgtH:Y,srcIntn:pe,tgtIntn:me,srcShape:H,tgtShape:V,posPts:{x1:ge.x2,y1:ge.y2,x2:ge.x1,y2:ge.y1},intersectionPts:{x1:de.x2,y1:de.y2,x2:de.x1,y2:de.y1},vector:{x:-Ne.x,y:-Ne.y},vectorNorm:{x:-Le.x,y:-Le.y},vectorNormInverse:{x:-qe.x,y:-qe.y}}}var _e=ue?I:R;ne.nodesOverlap=_e.nodesOverlap,ne.srcIntn=_e.srcIntn,ne.tgtIntn=_e.tgtIntn,ne.isRound=ie.startsWith("round"),a&&(O.isParent()||O.isChild()||D.isParent()||D.isChild())&&(O.parents().anySame(D)||D.parents().anySame(O)||O.same(D)&&O.isParent())?r.findCompoundLoopPoints(X,_e,K,Ae):O===D?r.findLoopPoints(X,_e,K,Ae):ie.endsWith("segments")?r.findSegmentsPoints(X,_e):ie.endsWith("taxi")?r.findTaxiPoints(X,_e):ie==="straight"||!Ae&&R.eles.length%2===1&&K===Math.floor(R.eles.length/2)?r.findStraightEdgePoints(X):r.findBezierPoints(X,_e,K,Ae,ue),r.findEndpoints(X),r.tryToCorrectInvalidPoints(X,_e),r.checkForInvalidEdgeWarning(X),r.storeAllpts(X),r.storeEdgeProjections(X),r.calculateArrowAngles(X),r.recalculateEdgeLabelProjections(X),r.calculateLabelAngles(X)}},x=0;x<u.length;x++)S();this.findHaystackPoints(s)}};function zD(e){var r=[];if(e!=null){for(var t=0;t<e.length;t+=2){var n=e[t],a=e[t+1];r.push({x:n,y:a})}return r}}Yr.getSegmentPoints=function(e){var r=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var t=r.edgeType;if(t==="segments")return zD(r.segpts)};Yr.getControlPoints=function(e){var r=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var t=r.edgeType;if(t==="bezier"||t==="multibezier"||t==="self"||t==="compound")return zD(r.ctrlpts)};Yr.getEdgeMidpoint=function(e){var r=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:r.midX,y:r.midY}};var ts={};ts.manualEndptToPx=function(e,r){var t=this,n=e.position(),a=e.outerWidth(),i=e.outerHeight(),o=e._private.rscratch;if(r.value.length===2){var u=[r.pfValue[0],r.pfValue[1]];return r.units[0]==="%"&&(u[0]=u[0]*a),r.units[1]==="%"&&(u[1]=u[1]*i),u[0]+=n.x,u[1]+=n.y,u}else{var s=r.pfValue[0];s=-Math.PI/2+s;var l=2*Math.max(a,i),f=[n.x+Math.cos(s)*l,n.y+Math.sin(s)*l];return t.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,a,i,f[0],f[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,o)}};ts.findEndpoints=function(e){var r,t,n,a,i=this,o,u=e.source()[0],s=e.target()[0],l=u.position(),f=s.position(),c=e.pstyle("target-arrow-shape").value,d=e.pstyle("source-arrow-shape").value,v=e.pstyle("target-distance-from-node").pfValue,h=e.pstyle("source-distance-from-node").pfValue,b=u._private.rscratch,m=s._private.rscratch,g=e.pstyle("curve-style").value,p=e._private.rscratch,y=p.edgeType,w=Yn(g,"taxi"),E=y==="self"||y==="compound",S=y==="bezier"||y==="multibezier"||E,x=y!=="bezier",C=y==="straight"||y==="segments",_=y==="segments",k=S||x||C,T=E||w,A=e.pstyle("source-endpoint"),R=T?"outside-to-node":A.value,I=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue,L=e.pstyle("target-endpoint"),B=T?"outside-to-node":L.value,O=s.pstyle("corner-radius").value==="auto"?"auto":s.pstyle("corner-radius").pfValue;p.srcManEndpt=A,p.tgtManEndpt=L;var D,F,z,q,$=(r=(L==null||(t=L.pfValue)===null||t===void 0?void 0:t.length)===2?L.pfValue:null)!==null&&r!==void 0?r:[0,0],Y=(n=(A==null||(a=A.pfValue)===null||a===void 0?void 0:a.length)===2?A.pfValue:null)!==null&&n!==void 0?n:[0,0];if(S){var M=[p.ctrlpts[0],p.ctrlpts[1]],N=x?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:M;D=N,F=M}else if(C){var V=_?p.segpts.slice(0,2):[f.x+$[0],f.y+$[1]],H=_?p.segpts.slice(p.segpts.length-2):[l.x+Y[0],l.y+Y[1]];D=H,F=V}if(B==="inside-to-node")o=[f.x,f.y];else if(L.units)o=this.manualEndptToPx(s,L);else if(B==="outside-to-line")o=p.tgtIntn;else if(B==="outside-to-node"||B==="outside-to-node-or-label"?z=D:(B==="outside-to-line"||B==="outside-to-line-or-label")&&(z=[l.x,l.y]),o=i.nodeShapes[this.getNodeShape(s)].intersectLine(f.x,f.y,s.outerWidth(),s.outerHeight(),z[0],z[1],0,O,m),B==="outside-to-node-or-label"||B==="outside-to-line-or-label"){var re=s._private.rscratch,j=re.labelWidth,U=re.labelHeight,G=re.labelX,K=re.labelY,X=j/2,ne=U/2,ie=s.pstyle("text-valign").value;ie==="top"?K-=ne:ie==="bottom"&&(K+=ne);var Ae=s.pstyle("text-halign").value;Ae==="left"?G-=X:Ae==="right"&&(G+=X);var ue=Iu(z[0],z[1],[G-X,K-ne,G+X,K-ne,G+X,K+ne,G-X,K+ne],f.x,f.y);if(ue.length>0){var xe=l,me=La(xe,Oi(o)),se=La(xe,Oi(ue)),pe=me;if(se<me&&(o=ue,pe=se),ue.length>2){var de=La(xe,{x:ue[2],y:ue[3]});de<pe&&(o=[ue[2],ue[3]])}}}var ge=Is(o,D,i.arrowShapes[c].spacing(e)+v),ye=Is(o,D,i.arrowShapes[c].gap(e)+v);if(p.endX=ye[0],p.endY=ye[1],p.arrowEndX=ge[0],p.arrowEndY=ge[1],R==="inside-to-node")o=[l.x,l.y];else if(A.units)o=this.manualEndptToPx(u,A);else if(R==="outside-to-line")o=p.srcIntn;else if(R==="outside-to-node"||R==="outside-to-node-or-label"?q=F:(R==="outside-to-line"||R==="outside-to-line-or-label")&&(q=[f.x,f.y]),o=i.nodeShapes[this.getNodeShape(u)].intersectLine(l.x,l.y,u.outerWidth(),u.outerHeight(),q[0],q[1],0,I,b),R==="outside-to-node-or-label"||R==="outside-to-line-or-label"){var Te=u._private.rscratch,Be=Te.labelWidth,Ne=Te.labelHeight,Le=Te.labelX,qe=Te.labelY,_e=Be/2,le=Ne/2,J=u.pstyle("text-valign").value;J==="top"?qe-=le:J==="bottom"&&(qe+=le);var P=u.pstyle("text-halign").value;P==="left"?Le-=_e:P==="right"&&(Le+=_e);var W=Iu(q[0],q[1],[Le-_e,qe-le,Le+_e,qe-le,Le+_e,qe+le,Le-_e,qe+le],l.x,l.y);if(W.length>0){var Z=f,Q=La(Z,Oi(o)),ee=La(Z,Oi(W)),ve=Q;if(ee<Q&&(o=[W[0],W[1]],ve=ee),W.length>2){var te=La(Z,{x:W[2],y:W[3]});te<ve&&(o=[W[2],W[3]])}}}var be=Is(o,F,i.arrowShapes[d].spacing(e)+h),he=Is(o,F,i.arrowShapes[d].gap(e)+h);p.startX=he[0],p.startY=he[1],p.arrowStartX=be[0],p.arrowStartY=be[1],k&&(!oe(p.startX)||!oe(p.startY)||!oe(p.endX)||!oe(p.endY)?p.badLine=!0:p.badLine=!1)};ts.getSourceEndpoint=function(e){var r=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),r.edgeType){case"haystack":return{x:r.haystackPts[0],y:r.haystackPts[1]};default:return{x:r.arrowStartX,y:r.arrowStartY}}};ts.getTargetEndpoint=function(e){var r=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),r.edgeType){case"haystack":return{x:r.haystackPts[2],y:r.haystackPts[3]};default:return{x:r.arrowEndX,y:r.arrowEndY}}};var fb={};function G4(e,r,t){for(var n=function(l,f,c,d){return Ar(l,f,c,d)},a=r._private,i=a.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var u=e.bezierProjPcts[o];i.push({x:n(t[0],t[2],t[4],u),y:n(t[1],t[3],t[5],u)})}}fb.storeEdgeProjections=function(e){var r=e._private,t=r.rscratch,n=t.edgeType;if(r.rstyle.bezierPts=null,r.rstyle.linePts=null,r.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){r.rstyle.bezierPts=[];for(var a=0;a+5<t.allpts.length;a+=4)G4(this,e,t.allpts.slice(a,a+6))}else if(n==="segments")for(var i=r.rstyle.linePts=[],a=0;a+1<t.allpts.length;a+=2)i.push({x:t.allpts[a],y:t.allpts[a+1]});else if(n==="haystack"){var o=t.haystackPts;r.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}r.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};fb.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var vn={};vn.recalculateNodeLabelProjection=function(e){var r=e.pstyle("label").strValue;if(!ca(r)){var t,n,a=e._private,i=e.width(),o=e.height(),u=e.padding(),s=e.position(),l=e.pstyle("text-halign").strValue,f=e.pstyle("text-valign").strValue,c=a.rscratch,d=a.rstyle;switch(l){case"left":t=s.x-i/2-u;break;case"right":t=s.x+i/2+u;break;default:t=s.x}switch(f){case"top":n=s.y-o/2-u;break;case"bottom":n=s.y+o/2+u;break;default:n=s.y}c.labelX=t,c.labelY=n,d.labelX=t,d.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var VD=function(r,t){var n=Math.atan(t/r);return r===0&&n<0&&(n=n*-1),n},$D=function(r,t){var n=t.x-r.x,a=t.y-r.y;return VD(n,a)},H4=function(r,t,n,a){var i=Du(0,a-.001,1),o=Du(0,a+.001,1),u=Hi(r,t,n,i),s=Hi(r,t,n,o);return $D(u,s)};vn.recalculateEdgeLabelProjections=function(e){var r,t=e._private,n=t.rscratch,a=this,i={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(i.mid||i.source||i.target){r={x:n.midX,y:n.midY};var o=function(c,d,v){xn(t.rscratch,c,d,v),xn(t.rstyle,c,d,v)};o("labelX",null,r.x),o("labelY",null,r.y);var u=VD(n.midDispX,n.midDispY);o("labelAutoAngle",null,u);var s=function(){if(s.cache)return s.cache;for(var c=[],d=0;d+5<n.allpts.length;d+=4){var v={x:n.allpts[d],y:n.allpts[d+1]},h={x:n.allpts[d+2],y:n.allpts[d+3]},b={x:n.allpts[d+4],y:n.allpts[d+5]};c.push({p0:v,p1:h,p2:b,startDist:0,length:0,segments:[]})}var m=t.rstyle.bezierPts,g=a.bezierProjPcts.length;function p(x,C,_,k,T){var A=Xa(C,_),R=x.segments[x.segments.length-1],I={p0:C,p1:_,t0:k,t1:T,startDist:R?R.startDist+R.length:0,length:A};x.segments.push(I),x.length+=A}for(var y=0;y<c.length;y++){var w=c[y],E=c[y-1];E&&(w.startDist=E.startDist+E.length),p(w,w.p0,m[y*g],0,a.bezierProjPcts[0]);for(var S=0;S<g-1;S++)p(w,m[y*g+S],m[y*g+S+1],a.bezierProjPcts[S],a.bezierProjPcts[S+1]);p(w,m[y*g+g-1],w.p2,a.bezierProjPcts[g-1],1)}return s.cache=c},l=function(c){var d,v=c==="source";if(i[c]){var h=e.pstyle(c+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var b=s(),m,g=0,p=0,y=0;y<b.length;y++){for(var w=b[v?y:b.length-1-y],E=0;E<w.segments.length;E++){var S=w.segments[v?E:w.segments.length-1-E],x=y===b.length-1&&E===w.segments.length-1;if(g=p,p+=S.length,p>=h||x){m={cp:w,segment:S};break}}if(m)break}var C=m.cp,_=m.segment,k=(h-g)/_.length,T=_.t1-_.t0,A=v?_.t0+T*k:_.t1-T*k;A=Du(0,A,1),r=Hi(C.p0,C.p1,C.p2,A),d=H4(C.p0,C.p1,C.p2,A);break}case"straight":case"segments":case"haystack":{for(var R=0,I,L,B,O,D=n.allpts.length,F=0;F+3<D&&(v?(B={x:n.allpts[F],y:n.allpts[F+1]},O={x:n.allpts[F+2],y:n.allpts[F+3]}):(B={x:n.allpts[D-2-F],y:n.allpts[D-1-F]},O={x:n.allpts[D-4-F],y:n.allpts[D-3-F]}),I=Xa(B,O),L=R,R+=I,!(R>=h));F+=2);var z=h-L,q=z/I;q=Du(0,q,1),r=vq(B,O,q),d=$D(B,O);break}}o("labelX",c,r.x),o("labelY",c,r.y),o("labelAutoAngle",c,d)}};l("source"),l("target"),this.applyLabelDimensions(e)}};vn.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};vn.applyPrefixedLabelDimensions=function(e,r){var t=e._private,n=this.getLabelText(e,r),a=Ya(n,e._private.labelDimsKey);if(ft(t.rscratch,"prefixedLabelDimsKey",r)!==a){xn(t.rscratch,"prefixedLabelDimsKey",r,a);var i=this.calculateLabelDimensions(e,n),o=e.pstyle("line-height").pfValue,u=e.pstyle("text-wrap").strValue,s=ft(t.rscratch,"labelWrapCachedLines",r)||[],l=u!=="wrap"?1:Math.max(s.length,1),f=i.height/l,c=f*o,d=i.width,v=i.height+(l-1)*(o-1)*f;xn(t.rstyle,"labelWidth",r,d),xn(t.rscratch,"labelWidth",r,d),xn(t.rstyle,"labelHeight",r,v),xn(t.rscratch,"labelHeight",r,v),xn(t.rscratch,"labelLineHeight",r,c)}};vn.getLabelText=function(e,r){var t=e._private,n=r?r+"-":"",a=e.pstyle(n+"label").strValue,i=e.pstyle("text-transform").value,o=function(Y,M){return M?(xn(t.rscratch,Y,r,M),M):ft(t.rscratch,Y,r)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var u=e.pstyle("text-wrap").value;if(u==="wrap"){var s=o("labelKey");if(s!=null&&o("labelWrapKey")===s)return o("labelWrapCachedText");for(var l="",f=a.split(`
`),c=e.pstyle("text-max-width").pfValue,d=e.pstyle("text-overflow-wrap").value,v=d==="anywhere",h=[],b=/[\s\u200b]+|$/g,m=0;m<f.length;m++){var g=f[m],p=this.calculateLabelDimensions(e,g),y=p.width;if(v){var w=g.split("").join(l);g=w}if(y>c){var E=g.matchAll(b),S="",x=0,C=vt(E),_;try{for(C.s();!(_=C.n()).done;){var k=_.value,T=k[0],A=g.substring(x,k.index);x=k.index+T.length;var R=S.length===0?A:S+A+T,I=this.calculateLabelDimensions(e,R),L=I.width;L<=c?S+=A+T:(S&&h.push(S),S=A+T)}}catch($){C.e($)}finally{C.f()}S.match(/^[\s\u200b]+$/)||h.push(S)}else h.push(g)}o("labelWrapCachedLines",h),a=o("labelWrapCachedText",h.join(`
`)),o("labelWrapKey",s)}else if(u==="ellipsis"){var B=e.pstyle("text-max-width").pfValue,O="",D="",F=!1;if(this.calculateLabelDimensions(e,a).width<B)return a;for(var z=0;z<a.length;z++){var q=this.calculateLabelDimensions(e,O+a[z]+D).width;if(q>B)break;O+=a[z],z===a.length-1&&(F=!0)}return F||(O+=D),O}return a};vn.getLabelJustification=function(e){var r=e.pstyle("text-justification").strValue,t=e.pstyle("text-halign").strValue;if(r==="auto")if(e.isNode())switch(t){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return r};vn.calculateLabelDimensions=function(e,r){var t=this,n=t.cy.window(),a=n.document,i=0,o=e.pstyle("font-style").strValue,u=e.pstyle("font-size").pfValue,s=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,f=this.labelCalcCanvas,c=this.labelCalcCanvasContext;if(!f){f=this.labelCalcCanvas=a.createElement("canvas"),c=this.labelCalcCanvasContext=f.getContext("2d");var d=f.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}c.font="".concat(o," ").concat(l," ").concat(u,"px ").concat(s);for(var v=0,h=0,b=r.split(`
`),m=0;m<b.length;m++){var g=b[m],p=c.measureText(g),y=Math.ceil(p.width),w=u;v=Math.max(y,v),h+=w}return v+=i,h+=i,{width:v,height:h}};vn.calculateLabelAngle=function(e,r){var t=e._private,n=t.rscratch,a=e.isEdge(),i=r?r+"-":"",o=e.pstyle(i+"text-rotation"),u=o.strValue;return u==="none"?0:a&&u==="autorotate"?n.labelAutoAngle:u==="autorotate"?0:o.pfValue};vn.calculateLabelAngles=function(e){var r=this,t=e.isEdge(),n=e._private,a=n.rscratch;a.labelAngle=r.calculateLabelAngle(e),t&&(a.sourceLabelAngle=r.calculateLabelAngle(e,"source"),a.targetLabelAngle=r.calculateLabelAngle(e,"target"))};var UD={},iE=28,oE=!1;UD.getNodeShape=function(e){var r=this,t=e.pstyle("shape").value;if(t==="cutrectangle"&&(e.width()<iE||e.height()<iE))return oE||(Ge("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),oE=!0),"rectangle";if(e.isParent())return t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle";if(t==="polygon"){var n=e.pstyle("shape-polygon-points").value;return r.nodeShapes.makePolygon(n).name}return t};var qf={};qf.registerCalculationListeners=function(){var e=this.cy,r=e.collection(),t=this,n=function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(r.merge(o),u)for(var s=0;s<o.length;s++){var l=o[s],f=l._private,c=f.rstyle;c.clean=!1,c.cleanConnected=!1}};t.binder(e).on("bounds.* dirty.*",function(o){var u=o.target;n(u)}).on("style.* background.*",function(o){var u=o.target;n(u,!1)});var a=function(o){if(o){var u=t.onUpdateEleCalcsFns;r.cleanStyle();for(var s=0;s<r.length;s++){var l=r[s],f=l._private.rstyle;l.isNode()&&!f.cleanConnected&&(n(l.connectedEdges()),f.cleanConnected=!0)}if(u)for(var c=0;c<u.length;c++){var d=u[c];d(o,r)}t.recalculateRenderedStyle(r),r=e.collection()}};t.flushRenderedStyleQueue=function(){a(!0)},t.beforeRender(a,t.beforeRenderPriorities.eleCalcs)};qf.onUpdateEleCalcs=function(e){var r=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];r.push(e)};qf.recalculateRenderedStyle=function(e,r){var t=function(w){return w._private.rstyle.cleanConnected};if(e.length!==0){var n=[],a=[];if(!this.destroyed){r===void 0&&(r=!0);for(var i=0;i<e.length;i++){var o=e[i],u=o._private,s=u.rstyle;o.isEdge()&&(!t(o.source())||!t(o.target()))&&(s.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(y){return!y._private.rstyle.clean&&y.isBundledBezier()})&&(s.clean=!1),!(r&&s.clean||o.removed())&&o.pstyle("display").value!=="none"&&(u.group==="nodes"?a.push(o):n.push(o),s.clean=!0)}for(var l=0;l<a.length;l++){var f=a[l],c=f._private,d=c.rstyle,v=f.position();this.recalculateNodeLabelProjection(f),d.nodeX=v.x,d.nodeY=v.y,d.nodeW=f.pstyle("width").pfValue,d.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var h=0;h<n.length;h++){var b=n[h],m=b._private,g=m.rstyle,p=m.rscratch;g.srcX=p.arrowStartX,g.srcY=p.arrowStartY,g.tgtX=p.arrowEndX,g.tgtY=p.arrowEndY,g.midX=p.midX,g.midY=p.midY,g.labelAngle=p.labelAngle,g.sourceLabelAngle=p.sourceLabelAngle,g.targetLabelAngle=p.targetLabelAngle}}}};var Ff={};Ff.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var r=[],t=0;t<e.length;t++){var n=e[t],a=n._private.rscratch;n.grabbed()&&!n.isParent()?r.push(n):a.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var t=0;t<r.length;t++){var n=r[t];e.drag.push(n)}}};Ff.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Ff.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var r=this.cy.mutableElements().toArray();r.sort(CD),r.interactive=r.filter(function(t){return t.interactive()}),this.cachedZSortedEles=r,this.updateCachedGrabbedEles()}else r=this.cachedZSortedEles;return r};var GD={};[ti,Yl,Yr,ts,fb,vn,UD,qf,Ff].forEach(function(e){ke(GD,e)});var HD={};HD.getCachedImage=function(e,r,t){var n=this,a=n.imageCache=n.imageCache||{},i=a[e];if(i)return i.image.complete||i.image.addEventListener("load",t),i.image;i=a[e]=a[e]||{};var o=i.image=new Image;o.addEventListener("load",t),o.addEventListener("error",function(){o.error=!0});var u="data:",s=e.substring(0,u.length).toLowerCase()===u;return s||(r=r==="null"?null:r,o.crossOrigin=r),o.src=e,o};var ho={};ho.registerBinding=function(e,r,t,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var i=[],o=0;o<e.length;o++){var u=e[o];if(u!==void 0){var s=this.binder(u);i.push(s.on.apply(s,a))}}return i}var s=this.binder(e);return s.on.apply(s,a)};ho.binder=function(e){var r=this,t=r.cy.window(),n=e===t||e===t.document||e===t.document.body||nN(e);if(r.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});t.addEventListener("test",null,i)}catch{}r.supportsPassiveEvents=a}var o=function(s,l,f){var c=Array.prototype.slice.call(arguments);return n&&r.supportsPassiveEvents&&(c[2]={capture:f??!1,passive:!1,once:!1}),r.bindings.push({target:e,args:c}),(e.addEventListener||e.on).apply(e,c),this};return{on:o,addEventListener:o,addListener:o,bind:o}};ho.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};ho.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};ho.load=function(){var e=this,r=e.cy.window(),t=function(P){return P.selected()},n=function(P){var W=P.getRootNode();if(W&&W.nodeType===11&&W.host!==void 0)return W},a=function(P,W,Z,Q){P==null&&(P=e.cy);for(var ee=0;ee<W.length;ee++){var ve=W[ee];P.emit({originalEvent:Z,type:ve,position:Q})}},i=function(P){return P.shiftKey||P.metaKey||P.ctrlKey},o=function(P,W){var Z=!0;if(e.cy.hasCompoundNodes()&&P&&P.pannable())for(var Q=0;W&&Q<W.length;Q++){var P=W[Q];if(P.isNode()&&P.isParent()&&!P.pannable()){Z=!1;break}}else Z=!0;return Z},u=function(P){P[0]._private.grabbed=!0},s=function(P){P[0]._private.grabbed=!1},l=function(P){P[0]._private.rscratch.inDragLayer=!0},f=function(P){P[0]._private.rscratch.inDragLayer=!1},c=function(P){P[0]._private.rscratch.isGrabTarget=!0},d=function(P){P[0]._private.rscratch.isGrabTarget=!1},v=function(P,W){var Z=W.addToList,Q=Z.has(P);!Q&&P.grabbable()&&!P.locked()&&(Z.merge(P),u(P))},h=function(P,W){if(P.cy().hasCompoundNodes()&&!(W.inDragLayer==null&&W.addToList==null)){var Z=P.descendants();W.inDragLayer&&(Z.forEach(l),Z.connectedEdges().forEach(l)),W.addToList&&v(Z,W)}},b=function(P,W){W=W||{};var Z=P.cy().hasCompoundNodes();W.inDragLayer&&(P.forEach(l),P.neighborhood().stdFilter(function(Q){return!Z||Q.isEdge()}).forEach(l)),W.addToList&&P.forEach(function(Q){v(Q,W)}),h(P,W),p(P,{inDragLayer:W.inDragLayer}),e.updateCachedGrabbedEles()},m=b,g=function(P){P&&(e.getCachedZSortedEles().forEach(function(W){s(W),f(W),d(W)}),e.updateCachedGrabbedEles())},p=function(P,W){if(!(W.inDragLayer==null&&W.addToList==null)&&P.cy().hasCompoundNodes()){var Z=P.ancestors().orphans();if(!Z.same(P)){var Q=Z.descendants().spawnSelf().merge(Z).unmerge(P).unmerge(P.descendants()),ee=Q.connectedEdges();W.inDragLayer&&(ee.forEach(l),Q.forEach(l)),W.addToList&&Q.forEach(function(ve){v(ve,W)})}}},y=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},w=typeof MutationObserver<"u",E=typeof ResizeObserver<"u";w?(e.removeObserver=new MutationObserver(function(J){for(var P=0;P<J.length;P++){var W=J[P],Z=W.removedNodes;if(Z)for(var Q=0;Q<Z.length;Q++){var ee=Z[Q];if(ee===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(J){e.destroy()});var S=Qu(function(){e.cy.resize()},100);w&&(e.styleObserver=new MutationObserver(S),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(r,"resize",S),E&&(e.resizeObserver=new ResizeObserver(S),e.resizeObserver.observe(e.container));var x=function(P,W){for(;P!=null;)W(P),P=P.parentNode},C=function(){e.invalidateContainerClientCoordsCache()};x(e.container,function(J){e.registerBinding(J,"transitionend",C),e.registerBinding(J,"animationend",C),e.registerBinding(J,"scroll",C)}),e.registerBinding(e.container,"contextmenu",function(J){J.preventDefault()});var _=function(){return e.selection[4]!==0},k=function(P){for(var W=e.findContainerClientCoords(),Z=W[0],Q=W[1],ee=W[2],ve=W[3],te=P.touches?P.touches:[P],be=!1,he=0;he<te.length;he++){var Ce=te[he];if(Z<=Ce.clientX&&Ce.clientX<=Z+ee&&Q<=Ce.clientY&&Ce.clientY<=Q+ve){be=!0;break}}if(!be)return!1;for(var De=e.container,Re=P.target,we=Re.parentNode,Oe=!1;we;){if(we===De){Oe=!0;break}we=we.parentNode}return!!Oe};e.registerBinding(e.container,"mousedown",function(P){if(k(P)&&!(e.hoverData.which===1&&P.which!==1)){P.preventDefault(),y(),e.hoverData.capture=!0,e.hoverData.which=P.which;var W=e.cy,Z=[P.clientX,P.clientY],Q=e.projectIntoViewport(Z[0],Z[1]),ee=e.selection,ve=e.findNearestElements(Q[0],Q[1],!0,!1),te=ve[0],be=e.dragData.possibleDragElements;e.hoverData.mdownPos=Q,e.hoverData.mdownGPos=Z;var he=function(Ie){return{originalEvent:P,type:Ie,position:{x:Q[0],y:Q[1]}}},Ce=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var Ie=e.hoverData.down;Ie?Ie.emit(he("taphold")):W.emit(he("taphold"))}},e.tapholdDuration)};if(P.which==3){e.hoverData.cxtStarted=!0;var De={originalEvent:P,type:"cxttapstart",position:{x:Q[0],y:Q[1]}};te?(te.activate(),te.emit(De),e.hoverData.down=te):W.emit(De),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(P.which==1){te&&te.activate();{if(te!=null&&e.nodeIsGrabbable(te)){var Re=function(Ie){Ie.emit(he("grab"))};if(c(te),!te.selected())be=e.dragData.possibleDragElements=W.collection(),m(te,{addToList:be}),te.emit(he("grabon")).emit(he("grab"));else{be=e.dragData.possibleDragElements=W.collection();var we=W.$(function(Oe){return Oe.isNode()&&Oe.selected()&&e.nodeIsGrabbable(Oe)});b(we,{addToList:be}),te.emit(he("grabon")),we.forEach(Re)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=te,e.hoverData.downs=ve,e.hoverData.downTime=new Date().getTime()}a(te,["mousedown","tapstart","vmousedown"],P,{x:Q[0],y:Q[1]}),te==null?(ee[4]=1,e.data.bgActivePosistion={x:Q[0],y:Q[1]},e.redrawHint("select",!0),e.redraw()):te.pannable()&&(ee[4]=1),Ce()}ee[0]=ee[2]=Q[0],ee[1]=ee[3]=Q[1]}},!1);var T=n(e.container);e.registerBinding([r,T],"mousemove",function(P){var W=e.hoverData.capture;if(!(!W&&!k(P))){var Z=!1,Q=e.cy,ee=Q.zoom(),ve=[P.clientX,P.clientY],te=e.projectIntoViewport(ve[0],ve[1]),be=e.hoverData.mdownPos,he=e.hoverData.mdownGPos,Ce=e.selection,De=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(De=e.findNearestElement(te[0],te[1],!0,!1));var Re=e.hoverData.last,we=e.hoverData.down,Oe=[te[0]-Ce[2],te[1]-Ce[3]],Ie=e.dragData.possibleDragElements,yr;if(he){var ur=ve[0]-he[0],Zr=ur*ur,cr=ve[1]-he[1],Tr=cr*cr,br=Zr+Tr;e.hoverData.isOverThresholdDrag=yr=br>=e.desktopTapThreshold2}var Lr=i(P);yr&&(e.hoverData.tapholdCancelled=!0);var qn=function(){var At=e.hoverData.dragDelta=e.hoverData.dragDelta||[];At.length===0?(At.push(Oe[0]),At.push(Oe[1])):(At[0]+=Oe[0],At[1]+=Oe[1])};Z=!0,a(De,["mousemove","vmousemove","tapdrag"],P,{x:te[0],y:te[1]});var dr=function(At){return{originalEvent:P,type:At,position:{x:te[0],y:te[1]}}},gn=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||Q.emit(dr("boxstart")),Ce[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(yr){var mn=dr("cxtdrag");we?we.emit(mn):Q.emit(mn),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||De!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(dr("cxtdragout")),e.hoverData.cxtOver=De,De&&De.emit(dr("cxtdragover")))}}else if(e.hoverData.dragging){if(Z=!0,Q.panningEnabled()&&Q.userPanningEnabled()){var si;if(e.hoverData.justStartedPan){var fs=e.hoverData.mdownPos;si={x:(te[0]-fs[0])*ee,y:(te[1]-fs[1])*ee},e.hoverData.justStartedPan=!1}else si={x:Oe[0]*ee,y:Oe[1]*ee};Q.panBy(si),Q.emit(dr("dragpan")),e.hoverData.dragged=!0}te=e.projectIntoViewport(P.clientX,P.clientY)}else if(Ce[4]==1&&(we==null||we.pannable())){if(yr){if(!e.hoverData.dragging&&Q.boxSelectionEnabled()&&(Lr||!Q.panningEnabled()||!Q.userPanningEnabled()))gn();else if(!e.hoverData.selecting&&Q.panningEnabled()&&Q.userPanningEnabled()){var Aa=o(we,e.hoverData.downs);Aa&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,Ce[4]=0,e.data.bgActivePosistion=Oi(be),e.redrawHint("select",!0),e.redraw())}we&&we.pannable()&&we.active()&&we.unactivate()}}else{if(we&&we.pannable()&&we.active()&&we.unactivate(),(!we||!we.grabbed())&&De!=Re&&(Re&&a(Re,["mouseout","tapdragout"],P,{x:te[0],y:te[1]}),De&&a(De,["mouseover","tapdragover"],P,{x:te[0],y:te[1]}),e.hoverData.last=De),we)if(yr){if(Q.boxSelectionEnabled()&&Lr)we&&we.grabbed()&&(g(Ie),we.emit(dr("freeon")),Ie.emit(dr("free")),e.dragData.didDrag&&(we.emit(dr("dragfreeon")),Ie.emit(dr("dragfree")))),gn();else if(we&&we.grabbed()&&e.nodeIsDraggable(we)){var ut=!e.dragData.didDrag;ut&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||b(Ie,{inDragLayer:!0});var $r={x:0,y:0};if(oe(Oe[0])&&oe(Oe[1])&&($r.x+=Oe[0],$r.y+=Oe[1],ut)){var st=e.hoverData.dragDelta;st&&oe(st[0])&&oe(st[1])&&($r.x+=st[0],$r.y+=st[1])}e.hoverData.draggingEles=!0,Ie.silentShift($r).emit(dr("position")).emit(dr("drag")),e.redrawHint("drag",!0),e.redraw()}}else qn();Z=!0}if(Ce[2]=te[0],Ce[3]=te[1],Z)return P.stopPropagation&&P.stopPropagation(),P.preventDefault&&P.preventDefault(),!1}},!1);var A,R,I;e.registerBinding(r,"mouseup",function(P){if(!(e.hoverData.which===1&&P.which!==1&&e.hoverData.capture)){var W=e.hoverData.capture;if(W){e.hoverData.capture=!1;var Z=e.cy,Q=e.projectIntoViewport(P.clientX,P.clientY),ee=e.selection,ve=e.findNearestElement(Q[0],Q[1],!0,!1),te=e.dragData.possibleDragElements,be=e.hoverData.down,he=i(P);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,be&&be.unactivate();var Ce=function(ur){return{originalEvent:P,type:ur,position:{x:Q[0],y:Q[1]}}};if(e.hoverData.which===3){var De=Ce("cxttapend");if(be?be.emit(De):Z.emit(De),!e.hoverData.cxtDragged){var Re=Ce("cxttap");be?be.emit(Re):Z.emit(Re)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(a(ve,["mouseup","tapend","vmouseup"],P,{x:Q[0],y:Q[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(a(be,["click","tap","vclick"],P,{x:Q[0],y:Q[1]}),R=!1,P.timeStamp-I<=Z.multiClickDebounceTime()?(A&&clearTimeout(A),R=!0,I=null,a(be,["dblclick","dbltap","vdblclick"],P,{x:Q[0],y:Q[1]})):(A=setTimeout(function(){R||a(be,["oneclick","onetap","voneclick"],P,{x:Q[0],y:Q[1]})},Z.multiClickDebounceTime()),I=P.timeStamp)),be==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!i(P)&&(Z.$(t).unselect(["tapunselect"]),te.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=te=Z.collection()),ve==be&&!e.dragData.didDrag&&!e.hoverData.selecting&&ve!=null&&ve._private.selectable&&(e.hoverData.dragging||(Z.selectionType()==="additive"||he?ve.selected()?ve.unselect(["tapunselect"]):ve.select(["tapselect"]):he||(Z.$(t).unmerge(ve).unselect(["tapunselect"]),ve.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var we=Z.collection(e.getAllInBox(ee[0],ee[1],ee[2],ee[3]));e.redrawHint("select",!0),we.length>0&&e.redrawHint("eles",!0),Z.emit(Ce("boxend"));var Oe=function(ur){return ur.selectable()&&!ur.selected()};Z.selectionType()==="additive"||he||Z.$(t).unmerge(we).unselect(),we.emit(Ce("box")).stdFilter(Oe).select().emit(Ce("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!ee[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var Ie=be&&be.grabbed();g(te),Ie&&(be.emit(Ce("freeon")),te.emit(Ce("free")),e.dragData.didDrag&&(be.emit(Ce("dragfreeon")),te.emit(Ce("dragfree"))))}}ee[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var L=[],B=4,O,D=1e5,F=function(P,W){for(var Z=0;Z<P.length;Z++)if(P[Z]%W!==0)return!1;return!0},z=function(P){for(var W=Math.abs(P[0]),Z=1;Z<P.length;Z++)if(Math.abs(P[Z])!==W)return!1;return!0},q=function(P){var W=!1,Z=P.deltaY;if(Z==null&&(P.wheelDeltaY!=null?Z=P.wheelDeltaY/4:P.wheelDelta!=null&&(Z=P.wheelDelta/4)),Z!==0){if(O==null)if(L.length>=B){var Q=L;if(O=F(Q,5),!O){var ee=Math.abs(Q[0]);O=z(Q)&&ee>5}if(O)for(var ve=0;ve<Q.length;ve++)D=Math.min(Math.abs(Q[ve]),D)}else L.push(Z),W=!0;else O&&(D=Math.min(Math.abs(Z),D));if(!e.scrollingPage){var te=e.cy,be=te.zoom(),he=te.pan(),Ce=e.projectIntoViewport(P.clientX,P.clientY),De=[Ce[0]*be+he.x,Ce[1]*be+he.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||_()){P.preventDefault();return}if(te.panningEnabled()&&te.userPanningEnabled()&&te.zoomingEnabled()&&te.userZoomingEnabled()){P.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var Re;W&&Math.abs(Z)>5&&(Z=X1(Z)*5),Re=Z/-250,O&&(Re/=D,Re*=3),Re=Re*e.wheelSensitivity;var we=P.deltaMode===1;we&&(Re*=33);var Oe=te.zoom()*Math.pow(10,Re);P.type==="gesturechange"&&(Oe=e.gestureStartZoom*P.scale),te.zoom({level:Oe,renderedPosition:{x:De[0],y:De[1]}}),te.emit({type:P.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:P,position:{x:Ce[0],y:Ce[1]}})}}}};e.registerBinding(e.container,"wheel",q,!0),e.registerBinding(r,"scroll",function(P){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(P){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||P.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(J){e.hasTouchStarted||q(J)},!0),e.registerBinding(e.container,"mouseout",function(P){var W=e.projectIntoViewport(P.clientX,P.clientY);e.cy.emit({originalEvent:P,type:"mouseout",position:{x:W[0],y:W[1]}})},!1),e.registerBinding(e.container,"mouseover",function(P){var W=e.projectIntoViewport(P.clientX,P.clientY);e.cy.emit({originalEvent:P,type:"mouseover",position:{x:W[0],y:W[1]}})},!1);var $,Y,M,N,V,H,re,j,U,G,K,X,ne,ie=function(P,W,Z,Q){return Math.sqrt((Z-P)*(Z-P)+(Q-W)*(Q-W))},Ae=function(P,W,Z,Q){return(Z-P)*(Z-P)+(Q-W)*(Q-W)},ue;e.registerBinding(e.container,"touchstart",ue=function(P){if(e.hasTouchStarted=!0,!!k(P)){y(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var W=e.cy,Z=e.touchData.now,Q=e.touchData.earlier;if(P.touches[0]){var ee=e.projectIntoViewport(P.touches[0].clientX,P.touches[0].clientY);Z[0]=ee[0],Z[1]=ee[1]}if(P.touches[1]){var ee=e.projectIntoViewport(P.touches[1].clientX,P.touches[1].clientY);Z[2]=ee[0],Z[3]=ee[1]}if(P.touches[2]){var ee=e.projectIntoViewport(P.touches[2].clientX,P.touches[2].clientY);Z[4]=ee[0],Z[5]=ee[1]}var ve=function(Lr){return{originalEvent:P,type:Lr,position:{x:Z[0],y:Z[1]}}};if(P.touches[1]){e.touchData.singleTouchMoved=!0,g(e.dragData.touchDragEles);var te=e.findContainerClientCoords();U=te[0],G=te[1],K=te[2],X=te[3],$=P.touches[0].clientX-U,Y=P.touches[0].clientY-G,M=P.touches[1].clientX-U,N=P.touches[1].clientY-G,ne=0<=$&&$<=K&&0<=M&&M<=K&&0<=Y&&Y<=X&&0<=N&&N<=X;var be=W.pan(),he=W.zoom();V=ie($,Y,M,N),H=Ae($,Y,M,N),re=[($+M)/2,(Y+N)/2],j=[(re[0]-be.x)/he,(re[1]-be.y)/he];var Ce=200,De=Ce*Ce;if(H<De&&!P.touches[2]){var Re=e.findNearestElement(Z[0],Z[1],!0,!0),we=e.findNearestElement(Z[2],Z[3],!0,!0);Re&&Re.isNode()?(Re.activate().emit(ve("cxttapstart")),e.touchData.start=Re):we&&we.isNode()?(we.activate().emit(ve("cxttapstart")),e.touchData.start=we):W.emit(ve("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(P.touches[2])W.boxSelectionEnabled()&&P.preventDefault();else if(!P.touches[1]){if(P.touches[0]){var Oe=e.findNearestElements(Z[0],Z[1],!0,!0),Ie=Oe[0];if(Ie!=null&&(Ie.activate(),e.touchData.start=Ie,e.touchData.starts=Oe,e.nodeIsGrabbable(Ie))){var yr=e.dragData.touchDragEles=W.collection(),ur=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),Ie.selected()?(ur=W.$(function(br){return br.selected()&&e.nodeIsGrabbable(br)}),b(ur,{addToList:yr})):m(Ie,{addToList:yr}),c(Ie),Ie.emit(ve("grabon")),ur?ur.forEach(function(br){br.emit(ve("grab"))}):Ie.emit(ve("grab"))}a(Ie,["touchstart","tapstart","vmousedown"],P,{x:Z[0],y:Z[1]}),Ie==null&&(e.data.bgActivePosistion={x:ee[0],y:ee[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&a(e.touchData.start,["taphold"],P,{x:Z[0],y:Z[1]})},e.tapholdDuration)}}if(P.touches.length>=1){for(var Zr=e.touchData.startPosition=[null,null,null,null,null,null],cr=0;cr<Z.length;cr++)Zr[cr]=Q[cr]=Z[cr];var Tr=P.touches[0];e.touchData.startGPosition=[Tr.clientX,Tr.clientY]}}},!1);var xe;e.registerBinding(r,"touchmove",xe=function(P){var W=e.touchData.capture;if(!(!W&&!k(P))){var Z=e.selection,Q=e.cy,ee=e.touchData.now,ve=e.touchData.earlier,te=Q.zoom();if(P.touches[0]){var be=e.projectIntoViewport(P.touches[0].clientX,P.touches[0].clientY);ee[0]=be[0],ee[1]=be[1]}if(P.touches[1]){var be=e.projectIntoViewport(P.touches[1].clientX,P.touches[1].clientY);ee[2]=be[0],ee[3]=be[1]}if(P.touches[2]){var be=e.projectIntoViewport(P.touches[2].clientX,P.touches[2].clientY);ee[4]=be[0],ee[5]=be[1]}var he=function(fO){return{originalEvent:P,type:fO,position:{x:ee[0],y:ee[1]}}},Ce=e.touchData.startGPosition,De;if(W&&P.touches[0]&&Ce){for(var Re=[],we=0;we<ee.length;we++)Re[we]=ee[we]-ve[we];var Oe=P.touches[0].clientX-Ce[0],Ie=Oe*Oe,yr=P.touches[0].clientY-Ce[1],ur=yr*yr,Zr=Ie+ur;De=Zr>=e.touchTapThreshold2}if(W&&e.touchData.cxt){P.preventDefault();var cr=P.touches[0].clientX-U,Tr=P.touches[0].clientY-G,br=P.touches[1].clientX-U,Lr=P.touches[1].clientY-G,qn=Ae(cr,Tr,br,Lr),dr=qn/H,gn=150,mn=gn*gn,si=1.5,fs=si*si;if(dr>=fs||qn>=mn){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Aa=he("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(Aa),e.touchData.start=null):Q.emit(Aa)}}if(W&&e.touchData.cxt){var Aa=he("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(Aa):Q.emit(Aa),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var ut=e.findNearestElement(ee[0],ee[1],!0,!0);(!e.touchData.cxtOver||ut!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit(he("cxtdragout")),e.touchData.cxtOver=ut,ut&&ut.emit(he("cxtdragover")))}else if(W&&P.touches[2]&&Q.boxSelectionEnabled())P.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||Q.emit(he("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,Z[4]=1,!Z||Z.length===0||Z[0]===void 0?(Z[0]=(ee[0]+ee[2]+ee[4])/3,Z[1]=(ee[1]+ee[3]+ee[5])/3,Z[2]=(ee[0]+ee[2]+ee[4])/3+1,Z[3]=(ee[1]+ee[3]+ee[5])/3+1):(Z[2]=(ee[0]+ee[2]+ee[4])/3,Z[3]=(ee[1]+ee[3]+ee[5])/3),e.redrawHint("select",!0),e.redraw();else if(W&&P.touches[1]&&!e.touchData.didSelect&&Q.zoomingEnabled()&&Q.panningEnabled()&&Q.userZoomingEnabled()&&Q.userPanningEnabled()){P.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var $r=e.dragData.touchDragEles;if($r){e.redrawHint("drag",!0);for(var st=0;st<$r.length;st++){var xo=$r[st]._private;xo.grabbed=!1,xo.rscratch.inDragLayer=!1}}var At=e.touchData.start,cr=P.touches[0].clientX-U,Tr=P.touches[0].clientY-G,br=P.touches[1].clientX-U,Lr=P.touches[1].clientY-G,Nb=ie(cr,Tr,br,Lr),rO=Nb/V;if(ne){var tO=cr-$,nO=Tr-Y,aO=br-M,iO=Lr-N,oO=(tO+aO)/2,uO=(nO+iO)/2,Eo=Q.zoom(),ac=Eo*rO,cs=Q.pan(),qb=j[0]*Eo+cs.x,Fb=j[1]*Eo+cs.y,sO={x:-ac/Eo*(qb-cs.x-oO)+qb,y:-ac/Eo*(Fb-cs.y-uO)+Fb};if(At&&At.active()){var $r=e.dragData.touchDragEles;g($r),e.redrawHint("drag",!0),e.redrawHint("eles",!0),At.unactivate().emit(he("freeon")),$r.emit(he("free")),e.dragData.didDrag&&(At.emit(he("dragfreeon")),$r.emit(he("dragfree")))}Q.viewport({zoom:ac,pan:sO,cancelOnFailedZoom:!0}),Q.emit(he("pinchzoom")),V=Nb,$=cr,Y=Tr,M=br,N=Lr,e.pinching=!0}if(P.touches[0]){var be=e.projectIntoViewport(P.touches[0].clientX,P.touches[0].clientY);ee[0]=be[0],ee[1]=be[1]}if(P.touches[1]){var be=e.projectIntoViewport(P.touches[1].clientX,P.touches[1].clientY);ee[2]=be[0],ee[3]=be[1]}if(P.touches[2]){var be=e.projectIntoViewport(P.touches[2].clientX,P.touches[2].clientY);ee[4]=be[0],ee[5]=be[1]}}else if(P.touches[0]&&!e.touchData.didSelect){var zt=e.touchData.start,ic=e.touchData.last,ut;if(!e.hoverData.draggingEles&&!e.swipePanning&&(ut=e.findNearestElement(ee[0],ee[1],!0,!0)),W&&zt!=null&&P.preventDefault(),W&&zt!=null&&e.nodeIsDraggable(zt))if(De){var $r=e.dragData.touchDragEles,zb=!e.dragData.didDrag;zb&&b($r,{inDragLayer:!0}),e.dragData.didDrag=!0;var So={x:0,y:0};if(oe(Re[0])&&oe(Re[1])&&(So.x+=Re[0],So.y+=Re[1],zb)){e.redrawHint("eles",!0);var Vt=e.touchData.dragDelta;Vt&&oe(Vt[0])&&oe(Vt[1])&&(So.x+=Vt[0],So.y+=Vt[1])}e.hoverData.draggingEles=!0,$r.silentShift(So).emit(he("position")).emit(he("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==ve[0]&&e.touchData.startPosition[1]==ve[1]&&e.redrawHint("eles",!0),e.redraw()}else{var Vt=e.touchData.dragDelta=e.touchData.dragDelta||[];Vt.length===0?(Vt.push(Re[0]),Vt.push(Re[1])):(Vt[0]+=Re[0],Vt[1]+=Re[1])}if(a(zt||ut,["touchmove","tapdrag","vmousemove"],P,{x:ee[0],y:ee[1]}),(!zt||!zt.grabbed())&&ut!=ic&&(ic&&ic.emit(he("tapdragout")),ut&&ut.emit(he("tapdragover"))),e.touchData.last=ut,W)for(var st=0;st<ee.length;st++)ee[st]&&e.touchData.startPosition[st]&&De&&(e.touchData.singleTouchMoved=!0);if(W&&(zt==null||zt.pannable())&&Q.panningEnabled()&&Q.userPanningEnabled()){var lO=o(zt,e.touchData.starts);lO&&(P.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=Oi(e.touchData.startPosition)),e.swipePanning?(Q.panBy({x:Re[0]*te,y:Re[1]*te}),Q.emit(he("dragpan"))):De&&(e.swipePanning=!0,Q.panBy({x:Oe*te,y:yr*te}),Q.emit(he("dragpan")),zt&&(zt.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var be=e.projectIntoViewport(P.touches[0].clientX,P.touches[0].clientY);ee[0]=be[0],ee[1]=be[1]}}for(var we=0;we<ee.length;we++)ve[we]=ee[we];W&&P.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var me;e.registerBinding(r,"touchcancel",me=function(P){var W=e.touchData.start;e.touchData.capture=!1,W&&W.unactivate()});var se,pe,de,ge;if(e.registerBinding(r,"touchend",se=function(P){var W=e.touchData.start,Z=e.touchData.capture;if(Z)P.touches.length===0&&(e.touchData.capture=!1),P.preventDefault();else return;var Q=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var ee=e.cy,ve=ee.zoom(),te=e.touchData.now,be=e.touchData.earlier;if(P.touches[0]){var he=e.projectIntoViewport(P.touches[0].clientX,P.touches[0].clientY);te[0]=he[0],te[1]=he[1]}if(P.touches[1]){var he=e.projectIntoViewport(P.touches[1].clientX,P.touches[1].clientY);te[2]=he[0],te[3]=he[1]}if(P.touches[2]){var he=e.projectIntoViewport(P.touches[2].clientX,P.touches[2].clientY);te[4]=he[0],te[5]=he[1]}var Ce=function(mn){return{originalEvent:P,type:mn,position:{x:te[0],y:te[1]}}};W&&W.unactivate();var De;if(e.touchData.cxt){if(De=Ce("cxttapend"),W?W.emit(De):ee.emit(De),!e.touchData.cxtDragged){var Re=Ce("cxttap");W?W.emit(Re):ee.emit(Re)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!P.touches[2]&&ee.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var we=ee.collection(e.getAllInBox(Q[0],Q[1],Q[2],Q[3]));Q[0]=void 0,Q[1]=void 0,Q[2]=void 0,Q[3]=void 0,Q[4]=0,e.redrawHint("select",!0),ee.emit(Ce("boxend"));var Oe=function(mn){return mn.selectable()&&!mn.selected()};we.emit(Ce("box")).stdFilter(Oe).select().emit(Ce("boxselect")),we.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(W!=null&&W.unactivate(),P.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!P.touches[1]){if(!P.touches[0]){if(!P.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Ie=e.dragData.touchDragEles;if(W!=null){var yr=W._private.grabbed;g(Ie),e.redrawHint("drag",!0),e.redrawHint("eles",!0),yr&&(W.emit(Ce("freeon")),Ie.emit(Ce("free")),e.dragData.didDrag&&(W.emit(Ce("dragfreeon")),Ie.emit(Ce("dragfree")))),a(W,["touchend","tapend","vmouseup","tapdragout"],P,{x:te[0],y:te[1]}),W.unactivate(),e.touchData.start=null}else{var ur=e.findNearestElement(te[0],te[1],!0,!0);a(ur,["touchend","tapend","vmouseup","tapdragout"],P,{x:te[0],y:te[1]})}var Zr=e.touchData.startPosition[0]-te[0],cr=Zr*Zr,Tr=e.touchData.startPosition[1]-te[1],br=Tr*Tr,Lr=cr+br,qn=Lr*ve*ve;e.touchData.singleTouchMoved||(W||ee.$(":selected").unselect(["tapunselect"]),a(W,["tap","vclick"],P,{x:te[0],y:te[1]}),pe=!1,P.timeStamp-ge<=ee.multiClickDebounceTime()?(de&&clearTimeout(de),pe=!0,ge=null,a(W,["dbltap","vdblclick"],P,{x:te[0],y:te[1]})):(de=setTimeout(function(){pe||a(W,["onetap","voneclick"],P,{x:te[0],y:te[1]})},ee.multiClickDebounceTime()),ge=P.timeStamp)),W!=null&&!e.dragData.didDrag&&W._private.selectable&&qn<e.touchTapThreshold2&&!e.pinching&&(ee.selectionType()==="single"?(ee.$(t).unmerge(W).unselect(["tapunselect"]),W.select(["tapselect"])):W.selected()?W.unselect(["tapunselect"]):W.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var dr=0;dr<te.length;dr++)be[dr]=te[dr];e.dragData.didDrag=!1,P.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),P.touches.length<2&&(P.touches.length===1&&(e.touchData.startGPosition=[P.touches[0].clientX,P.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var ye=[],Te=function(P){return{clientX:P.clientX,clientY:P.clientY,force:1,identifier:P.pointerId,pageX:P.pageX,pageY:P.pageY,radiusX:P.width/2,radiusY:P.height/2,screenX:P.screenX,screenY:P.screenY,target:P.target}},Be=function(P){return{event:P,touch:Te(P)}},Ne=function(P){ye.push(Be(P))},Le=function(P){for(var W=0;W<ye.length;W++){var Z=ye[W];if(Z.event.pointerId===P.pointerId){ye.splice(W,1);return}}},qe=function(P){var W=ye.filter(function(Z){return Z.event.pointerId===P.pointerId})[0];W.event=P,W.touch=Te(P)},_e=function(P){P.touches=ye.map(function(W){return W.touch})},le=function(P){return P.pointerType==="mouse"||P.pointerType===4};e.registerBinding(e.container,"pointerdown",function(J){le(J)||(J.preventDefault(),Ne(J),_e(J),ue(J))}),e.registerBinding(e.container,"pointerup",function(J){le(J)||(Le(J),_e(J),se(J))}),e.registerBinding(e.container,"pointercancel",function(J){le(J)||(Le(J),_e(J),me(J))}),e.registerBinding(e.container,"pointermove",function(J){le(J)||(J.preventDefault(),qe(J),_e(J),xe(J))})}};var On={};On.generatePolygon=function(e,r){return this.nodeShapes[e]={renderer:this,name:e,points:r,draw:function(n,a,i,o,u,s){this.renderer.nodeShapeImpl("polygon",n,a,i,o,u,this.points)},intersectLine:function(n,a,i,o,u,s,l,f){return Iu(u,s,this.points,n,a,i/2,o/2,l)},checkPoint:function(n,a,i,o,u,s,l,f){return Dn(n,a,this.points,s,l,o,u,[0,-1],i)},hasMiterBounds:e!=="rectangle",miterBounds:function(n,a,i,o,u,s){return bq(this.points,n,a,i,o,u)}}};On.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(r,t,n,a,i,o){this.renderer.nodeShapeImpl(this.name,r,t,n,a,i)},intersectLine:function(r,t,n,a,i,o,u,s){return Tq(i,o,r,t,n/2+u,a/2+u)},checkPoint:function(r,t,n,a,i,o,u,s){return za(r,t,a,i,o,u,n)}}};On.generateRoundPolygon=function(e,r){return this.nodeShapes[e]={renderer:this,name:e,points:r,getOrCreateCorners:function(n,a,i,o,u,s,l){if(s[l]!==void 0&&s[l+"-cx"]===n&&s[l+"-cy"]===a)return s[l];s[l]=new Array(r.length/2),s[l+"-cx"]=n,s[l+"-cy"]=a;var f=i/2,c=o/2;u=u==="auto"?WP(i,o):u;for(var d=new Array(r.length/2),v=0;v<r.length/2;v++)d[v]={x:n+f*r[v*2],y:a+c*r[v*2+1]};var h,b,m,g,p=d.length;for(b=d[p-1],h=0;h<p;h++)m=d[h%p],g=d[(h+1)%p],s[l][h]=lb(b,m,g,u),b=m,m=g;return s[l]},draw:function(n,a,i,o,u,s,l){this.renderer.nodeShapeImpl("round-polygon",n,a,i,o,u,this.points,this.getOrCreateCorners(a,i,o,u,s,l,"drawCorners"))},intersectLine:function(n,a,i,o,u,s,l,f,c){return Rq(u,s,this.points,n,a,i,o,l,this.getOrCreateCorners(n,a,i,o,f,c,"corners"))},checkPoint:function(n,a,i,o,u,s,l,f,c){return _q(n,a,this.points,s,l,o,u,this.getOrCreateCorners(s,l,o,u,f,c,"corners"))}}};On.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Jr(4,0),draw:function(r,t,n,a,i,o){this.renderer.nodeShapeImpl(this.name,r,t,n,a,i,this.points,o)},intersectLine:function(r,t,n,a,i,o,u,s){return GP(i,o,r,t,n,a,u,s)},checkPoint:function(r,t,n,a,i,o,u,s){var l=a/2,f=i/2;s=s==="auto"?va(a,i):s,s=Math.min(l,f,s);var c=s*2;return!!(Dn(r,t,this.points,o,u,a,i-c,[0,-1],n)||Dn(r,t,this.points,o,u,a-c,i,[0,-1],n)||za(r,t,c,c,o-l+s,u-f+s,n)||za(r,t,c,c,o+l-s,u-f+s,n)||za(r,t,c,c,o+l-s,u+f-s,n)||za(r,t,c,c,o-l+s,u+f-s,n))}}};On.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Q1(),points:Jr(4,0),draw:function(r,t,n,a,i,o){this.renderer.nodeShapeImpl(this.name,r,t,n,a,i,null,o)},generateCutTrianglePts:function(r,t,n,a,i){var o=i==="auto"?this.cornerLength:i,u=t/2,s=r/2,l=n-s,f=n+s,c=a-u,d=a+u;return{topLeft:[l,c+o,l+o,c,l+o,c+o],topRight:[f-o,c,f,c+o,f-o,c+o],bottomRight:[f,d-o,f-o,d,f-o,d-o],bottomLeft:[l+o,d,l,d-o,l+o,d-o]}},intersectLine:function(r,t,n,a,i,o,u,s){var l=this.generateCutTrianglePts(n+2*u,a+2*u,r,t,s),f=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return Iu(i,o,f,r,t)},checkPoint:function(r,t,n,a,i,o,u,s){var l=s==="auto"?this.cornerLength:s;if(Dn(r,t,this.points,o,u,a,i-2*l,[0,-1],n)||Dn(r,t,this.points,o,u,a-2*l,i,[0,-1],n))return!0;var f=this.generateCutTrianglePts(a,i,o,u);return ct(r,t,f.topLeft)||ct(r,t,f.topRight)||ct(r,t,f.bottomRight)||ct(r,t,f.bottomLeft)}}};On.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Jr(4,0),draw:function(r,t,n,a,i,o){this.renderer.nodeShapeImpl(this.name,r,t,n,a,i)},intersectLine:function(r,t,n,a,i,o,u,s){var l=.15,f=.5,c=.85,d=this.generateBarrelBezierPts(n+2*u,a+2*u,r,t),v=function(m){var g=Hi({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},l),p=Hi({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},f),y=Hi({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},c);return[m[0],m[1],g.x,g.y,p.x,p.y,y.x,y.y,m[4],m[5]]},h=[].concat(v(d.topLeft),v(d.topRight),v(d.bottomRight),v(d.bottomLeft));return Iu(i,o,h,r,t)},generateBarrelBezierPts:function(r,t,n,a){var i=t/2,o=r/2,u=n-o,s=n+o,l=a-i,f=a+i,c=C0(r,t),d=c.heightOffset,v=c.widthOffset,h=c.ctrlPtOffsetPct*r,b={topLeft:[u,l+d,u+h,l,u+v,l],topRight:[s-v,l,s-h,l,s,l+d],bottomRight:[s,f-d,s-h,f,s-v,f],bottomLeft:[u+v,f,u+h,f,u,f-d]};return b.topLeft.isTop=!0,b.topRight.isTop=!0,b.bottomLeft.isBottom=!0,b.bottomRight.isBottom=!0,b},checkPoint:function(r,t,n,a,i,o,u,s){var l=C0(a,i),f=l.heightOffset,c=l.widthOffset;if(Dn(r,t,this.points,o,u,a,i-2*f,[0,-1],n)||Dn(r,t,this.points,o,u,a-2*c,i,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(a,i,o,u),v=function(C,_,k){var T=k[4],A=k[2],R=k[0],I=k[5],L=k[1],B=Math.min(T,R),O=Math.max(T,R),D=Math.min(I,L),F=Math.max(I,L);if(B<=C&&C<=O&&D<=_&&_<=F){var z=Pq(T,A,R),q=Eq(z[0],z[1],z[2],C),$=q.filter(function(Y){return 0<=Y&&Y<=1});if($.length>0)return $[0]}return null},h=Object.keys(d),b=0;b<h.length;b++){var m=h[b],g=d[m],p=v(r,t,g);if(p!=null){var y=g[5],w=g[3],E=g[1],S=Ar(y,w,E,p);if(g.isTop&&S<=t||g.isBottom&&t<=S)return!0}}return!1}}};On.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Jr(4,0),draw:function(r,t,n,a,i,o){this.renderer.nodeShapeImpl(this.name,r,t,n,a,i,this.points,o)},intersectLine:function(r,t,n,a,i,o,u,s){var l=r-(n/2+u),f=t-(a/2+u),c=f,d=r+(n/2+u),v=Zn(i,o,r,t,l,f,d,c,!1);return v.length>0?v:GP(i,o,r,t,n,a,u,s)},checkPoint:function(r,t,n,a,i,o,u,s){s=s==="auto"?va(a,i):s;var l=2*s;if(Dn(r,t,this.points,o,u,a,i-l,[0,-1],n)||Dn(r,t,this.points,o,u,a-l,i,[0,-1],n))return!0;var f=a/2+2*n,c=i/2+2*n,d=[o-f,u-c,o-f,u,o+f,u,o+f,u-c];return!!(ct(r,t,d)||za(r,t,l,l,o+a/2-s,u+i/2-s,n)||za(r,t,l,l,o-a/2+s,u+i/2-s,n))}}};On.registerNodeShapes=function(){var e=this.nodeShapes={},r=this;this.generateEllipse(),this.generatePolygon("triangle",Jr(3,0)),this.generateRoundPolygon("round-triangle",Jr(3,0)),this.generatePolygon("rectangle",Jr(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var t=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",t),this.generateRoundPolygon("round-diamond",t)}this.generatePolygon("pentagon",Jr(5,0)),this.generateRoundPolygon("round-pentagon",Jr(5,0)),this.generatePolygon("hexagon",Jr(6,0)),this.generateRoundPolygon("round-hexagon",Jr(6,0)),this.generatePolygon("heptagon",Jr(7,0)),this.generateRoundPolygon("round-heptagon",Jr(7,0)),this.generatePolygon("octagon",Jr(8,0)),this.generateRoundPolygon("round-octagon",Jr(8,0));var n=new Array(20);{var a=S0(5,0),i=S0(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var u=0;u<i.length/2;u++)i[u*2]*=o,i[u*2+1]*=o;for(var u=0;u<20/4;u++)n[u*4]=a[u*2],n[u*4+1]=a[u*2+1],n[u*4+2]=i[u*2],n[u*4+3]=i[u*2+1]}n=HP(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var s=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",s),this.generateRoundPolygon("round-tag",s)}e.makePolygon=function(l){var f=l.join("$"),c="polygon-"+f,d;return(d=this[c])?d:r.generatePolygon(c,l)}};var ns={};ns.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};ns.redraw=function(e){e=e||zP();var r=this;r.averageRedrawTime===void 0&&(r.averageRedrawTime=0),r.lastRedrawTime===void 0&&(r.lastRedrawTime=0),r.lastDrawTime===void 0&&(r.lastDrawTime=0),r.requestedFrame=!0,r.renderOptions=e};ns.beforeRender=function(e,r){if(!this.destroyed){r==null&&rr("Priority is not optional for beforeRender");var t=this.beforeRenderCallbacks;t.push({fn:e,priority:r}),t.sort(function(n,a){return a.priority-n.priority})}};var uE=function(r,t,n){for(var a=r.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(t,n)};ns.startRenderLoop=function(){var e=this,r=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var t=function(a){if(!e.destroyed){if(!r.batching())if(e.requestedFrame&&!e.skipFrame){uE(e,!0,a);var i=Pn();e.render(e.renderOptions);var o=e.lastDrawTime=Pn();e.averageRedrawTime===void 0&&(e.averageRedrawTime=o-i),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var u=o-i;e.redrawTotalTime+=u,e.lastRedrawTime=u,e.averageRedrawTime=e.averageRedrawTime/2+u/2,e.requestedFrame=!1}else uE(e,!1,a);e.skipFrame=!1,Vl(t)}};Vl(t)}};var W4=function(r){this.init(r)},WD=W4,po=WD.prototype;po.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];po.init=function(e){var r=this;r.options=e,r.cy=e.cy;var t=r.container=e.cy.container(),n=r.cy.window();if(n){var a=n.document,i=a.head,o="__________cytoscape_stylesheet",u="__________cytoscape_container",s=a.getElementById(o)!=null;if(t.className.indexOf(u)<0&&(t.className=(t.className||"")+" "+u),!s){var l=a.createElement("style");l.id=o,l.textContent="."+u+" { position: relative; }",i.insertBefore(l,i.children[0])}var f=n.getComputedStyle(t),c=f.getPropertyValue("position");c==="static"&&Ge("A Cytoscape container has style position:static and so can not use UI extensions properly")}r.selection=[void 0,void 0,void 0,void 0,0],r.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],r.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},r.dragData={possibleDragElements:[]},r.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},r.redraws=0,r.showFps=e.showFps,r.debug=e.debug,r.webgl=e.webgl,r.hideEdgesOnViewport=e.hideEdgesOnViewport,r.textureOnViewport=e.textureOnViewport,r.wheelSensitivity=e.wheelSensitivity,r.motionBlurEnabled=e.motionBlur,r.forcedPixelRatio=oe(e.pixelRatio)?e.pixelRatio:null,r.motionBlur=e.motionBlur,r.motionBlurOpacity=e.motionBlurOpacity,r.motionBlurTransparency=1-r.motionBlurOpacity,r.motionBlurPxRatio=1,r.mbPxRBlurry=1,r.minMbLowQualFrames=4,r.fullQualityMb=!1,r.clearedForMotionBlur=[],r.desktopTapThreshold=e.desktopTapThreshold,r.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,r.touchTapThreshold=e.touchTapThreshold,r.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,r.tapholdDuration=500,r.bindings=[],r.beforeRenderCallbacks=[],r.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},r.registerNodeShapes(),r.registerArrowShapes(),r.registerCalculationListeners()};po.notify=function(e,r){var t=this,n=t.cy;if(!this.destroyed){if(e==="init"){t.load();return}if(e==="destroy"){t.destroy();return}(e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&t.invalidateCachedZSortedEles(),e==="viewport"&&t.redrawHint("select",!0),e==="gc"&&t.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container)),t.redrawHint("eles",!0),t.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};po.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var r=0;r<e.bindings.length;r++){var t=e.bindings[r],n=t,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};po.isHeadless=function(){return!1};[sb,GD,HD,ho,On,ns].forEach(function(e){ke(po,e)});var rv=1e3/60,KD={setupDequeueing:function(r){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=Qu(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},r.deqRedrawThreshold),o=function(l,f){var c=Pn(),d=a.averageRedrawTime,v=a.lastRedrawTime,h=[],b=a.cy.extent(),m=a.getPixelRatio();for(l||a.flushRenderedStyleQueue();;){var g=Pn(),p=g-c,y=g-f;if(v<rv){var w=rv-(l?d:0);if(y>=r.deqFastCost*w)break}else if(l){if(p>=r.deqCost*v||p>=r.deqAvgCost*d)break}else if(y>=r.deqNoDrawCost*rv)break;var E=r.deq(n,m,b);if(E.length>0)for(var S=0;S<E.length;S++)h.push(E[S]);else break}h.length>0&&(r.onDeqd(n,h),!l&&r.shouldRedraw(n,h,m,b)&&i())},u=r.priority||K1;a.beforeRender(o,u(n))}}}},K4=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$l;Ea(this,e),this.idsByKey=new Cn,this.keyForId=new Cn,this.cachesByLvl=new Cn,this.lvls=[],this.getKey=r,this.doesEleInvalidateKey=t}return Sa(e,[{key:"getIdsFor",value:function(t){t==null&&rr("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(t);return a||(a=new lo,n.set(t,a)),a}},{key:"addIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).add(n)}},{key:"deleteIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).delete(n)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var n=t.id(),a=this.keyForId.get(n),i=this.getKey(t);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(t){var n=t.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(t){var n=t.id(),a=this.keyForId.get(n),i=this.getKey(t);return a!==i}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var n=this.cachesByLvl,a=this.lvls,i=n.get(t);return i||(i=new Cn,n.set(t,i),a.push(t)),i}},{key:"getCache",value:function(t,n){return this.getCachesAt(n).get(t)}},{key:"get",value:function(t,n){var a=this.getKey(t),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(t),i}},{key:"getForCachedKey",value:function(t,n){var a=this.keyForId.get(t.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(t,n){return this.getCachesAt(n).has(t)}},{key:"has",value:function(t,n){var a=this.getKey(t);return this.hasCache(a,n)}},{key:"setCache",value:function(t,n,a){a.key=t,this.getCachesAt(n).set(t,a)}},{key:"set",value:function(t,n,a){var i=this.getKey(t);this.setCache(i,n,a),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,n){this.getCachesAt(n).delete(t)}},{key:"delete",value:function(t,n){var a=this.getKey(t);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(t){var n=this;this.lvls.forEach(function(a){return n.deleteCache(t,a)})}},{key:"invalidate",value:function(t){var n=t.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(t);var i=this.doesEleInvalidateKey(t);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}])}(),sE=25,zs=50,vl=-4,N0=3,jD=7.99,j4=8,Y4=1024,X4=1024,Z4=1024,Q4=.2,J4=.8,e5=10,r5=.15,t5=.1,n5=.9,a5=.9,i5=100,o5=1,Bi={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},u5=zr({getKey:null,doesEleInvalidateKey:$l,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:NP,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),jo=function(r,t){var n=this;n.renderer=r,n.onDequeues=[];var a=u5(t);ke(n,a),n.lookup=new K4(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},_r=jo.prototype;_r.reasons=Bi;_r.getTextureQueue=function(e){var r=this;return r.eleImgCaches=r.eleImgCaches||{},r.eleImgCaches[e]=r.eleImgCaches[e]||[]};_r.getRetiredTextureQueue=function(e){var r=this,t=r.eleImgCaches.retired=r.eleImgCaches.retired||{},n=t[e]=t[e]||[];return n};_r.getElementQueue=function(){var e=this,r=e.eleCacheQueue=e.eleCacheQueue||new Ju(function(t,n){return n.reqs-t.reqs});return r};_r.getElementKeyToQueue=function(){var e=this,r=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return r};_r.getElement=function(e,r,t,n,a){var i=this,o=this.renderer,u=o.cy.zoom(),s=this.lookup;if(!r||r.w===0||r.h===0||isNaN(r.w)||isNaN(r.h)||!e.visible()||e.removed()||!i.allowEdgeTxrCaching&&e.isEdge()||!i.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(Y1(u*t))),n<vl)n=vl;else if(u>=jD||n>N0)return null;var l=Math.pow(2,n),f=r.h*l,c=r.w*l,d=o.eleTextBiggerThanMin(e,l);if(!this.isVisible(e,d))return null;var v=s.get(e,n);if(v&&v.invalidated&&(v.invalidated=!1,v.texture.invalidatedWidth-=v.width),v)return v;var h;if(f<=sE?h=sE:f<=zs?h=zs:h=Math.ceil(f/zs)*zs,f>Z4||c>X4)return null;var b=i.getTextureQueue(h),m=b[b.length-2],g=function(){return i.recycleTexture(h,c)||i.addTexture(h,c)};m||(m=b[b.length-1]),m||(m=g()),m.width-m.usedWidth<c&&(m=g());for(var p=function(B){return B&&B.scaledLabelShown===d},y=a&&a===Bi.dequeue,w=a&&a===Bi.highQuality,E=a&&a===Bi.downscale,S,x=n+1;x<=N0;x++){var C=s.get(e,x);if(C){S=C;break}}var _=S&&S.level===n+1?S:null,k=function(){m.context.drawImage(_.texture.canvas,_.x,0,_.width,_.height,m.usedWidth,0,c,f)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,c,h),p(_))k();else if(p(S))if(w){for(var T=S.level;T>n;T--)_=i.getElement(e,r,t,T,Bi.downscale);k()}else return i.queueElement(e,S.level-1),S;else{var A;if(!y&&!w&&!E)for(var R=n-1;R>=vl;R--){var I=s.get(e,R);if(I){A=I;break}}if(p(A))return i.queueElement(e,n),A;m.context.translate(m.usedWidth,0),m.context.scale(l,l),this.drawElement(m.context,e,r,d,!1),m.context.scale(1/l,1/l),m.context.translate(-m.usedWidth,0)}return v={x:m.usedWidth,texture:m,level:n,scale:l,width:c,height:f,scaledLabelShown:d},m.usedWidth+=Math.ceil(c+j4),m.eleCaches.push(v),s.set(e,n,v),i.checkTextureFullness(m),v};_r.invalidateElements=function(e){for(var r=0;r<e.length;r++)this.invalidateElement(e[r])};_r.invalidateElement=function(e){var r=this,t=r.lookup,n=[],a=t.isInvalid(e);if(a){for(var i=vl;i<=N0;i++){var o=t.getForCachedKey(e,i);o&&n.push(o)}var u=t.invalidate(e);if(u)for(var s=0;s<n.length;s++){var l=n[s],f=l.texture;f.invalidatedWidth+=l.width,l.invalidated=!0,r.checkTextureUtility(f)}r.removeFromQueue(e)}};_r.checkTextureUtility=function(e){e.invalidatedWidth>=Q4*e.width&&this.retireTexture(e)};_r.checkTextureFullness=function(e){var r=this,t=r.getTextureQueue(e.height);e.usedWidth/e.width>J4&&e.fullnessChecks>=e5?da(t,e):e.fullnessChecks++};_r.retireTexture=function(e){var r=this,t=e.height,n=r.getTextureQueue(t),a=this.lookup;da(n,e),e.retired=!0;for(var i=e.eleCaches,o=0;o<i.length;o++){var u=i[o];a.deleteCache(u.key,u.level)}j1(i);var s=r.getRetiredTextureQueue(t);s.push(e)};_r.addTexture=function(e,r){var t=this,n=t.getTextureQueue(e),a={};return n.push(a),a.eleCaches=[],a.height=e,a.width=Math.max(Y4,r),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=t.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};_r.recycleTexture=function(e,r){for(var t=this,n=t.getTextureQueue(e),a=t.getRetiredTextureQueue(e),i=0;i<a.length;i++){var o=a[i];if(o.width>=r)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,j1(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),da(a,o),n.push(o),o}};_r.queueElement=function(e,r){var t=this,n=t.getElementQueue(),a=t.getElementKeyToQueue(),i=this.getKey(e),o=a[i];if(o)o.level=Math.max(o.level,r),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var u={eles:e.spawn().merge(e),level:r,reqs:1,key:i};n.push(u),a[i]=u}};_r.dequeue=function(e){for(var r=this,t=r.getElementQueue(),n=r.getElementKeyToQueue(),a=[],i=r.lookup,o=0;o<o5&&t.size()>0;o++){var u=t.pop(),s=u.key,l=u.eles[0],f=i.hasCache(l,u.level);if(n[s]=null,f)continue;a.push(u);var c=r.getBoundingBox(l);r.getElement(l,c,e,u.level,Bi.dequeue)}return a};_r.removeFromQueue=function(e){var r=this,t=r.getElementQueue(),n=r.getElementKeyToQueue(),a=this.getKey(e),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=W1,t.updateItem(i),t.pop(),n[a]=null):i.eles.unmerge(e))};_r.onDequeue=function(e){this.onDequeues.push(e)};_r.offDequeue=function(e){da(this.onDequeues,e)};_r.setupDequeueing=KD.setupDequeueing({deqRedrawThreshold:i5,deqCost:r5,deqAvgCost:t5,deqNoDrawCost:n5,deqFastCost:a5,deq:function(r,t,n){return r.dequeue(t,n)},onDeqd:function(r,t){for(var n=0;n<r.onDequeues.length;n++){var a=r.onDequeues[n];a(t)}},shouldRedraw:function(r,t,n,a){for(var i=0;i<t.length;i++)for(var o=t[i].eles,u=0;u<o.length;u++){var s=o[u].boundingBox();if(Z1(s,a))return!0}return!1},priority:function(r){return r.renderer.beforeRenderPriorities.eleTxrDeq}});var s5=1,lu=-4,Xl=2,l5=3.99,f5=50,c5=50,d5=.15,v5=.1,h5=.9,p5=.9,g5=1,lE=250,m5=4e3*4e3,fE=32767,y5=!0,YD=function(r){var t=this,n=t.renderer=r,a=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=Pn()-2*lE,t.skipping=!1,t.eleTxrDeqs=a.collection(),t.scheduleElementRefinement=Qu(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},c5),n.beforeRender(function(o,u){u-t.lastInvalidationTime<=lE?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(u,s){return s.reqs-u.reqs};t.layersQueue=new Ju(i),t.setupDequeueing()},Vr=YD.prototype,cE=0,b5=Math.pow(2,53)-1;Vr.makeLayer=function(e,r){var t=Math.pow(2,r),n=Math.ceil(e.w*t),a=Math.ceil(e.h*t),i=this.renderer.makeOffscreenCanvas(n,a),o={id:cE=++cE%b5,bb:e,level:r,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=o.context,s=-o.bb.x1,l=-o.bb.y1;return u.scale(t,t),u.translate(s,l),o};Vr.getLayers=function(e,r,t){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),u=n.firstGet;if(n.firstGet=!1,t==null){if(t=Math.ceil(Y1(o*r)),t<lu)t=lu;else if(o>=l5||t>Xl)return null}n.validateLayersElesOrdering(t,e);var s=n.layersByLevel,l=Math.pow(2,t),f=s[t]=s[t]||[],c,d=n.levelIsComplete(t,e),v,h=function(){var k=function(L){if(n.validateLayersElesOrdering(L,e),n.levelIsComplete(L,e))return v=s[L],!0},T=function(L){if(!v)for(var B=t+L;lu<=B&&B<=Xl&&!k(B);B+=L);};T(1),T(-1);for(var A=f.length-1;A>=0;A--){var R=f[A];R.invalid&&da(f,R)}};if(!d)h();else return f;var b=function(){if(!c){c=nt();for(var k=0;k<e.length;k++)gq(c,e[k].boundingBox())}return c},m=function(k){k=k||{};var T=k.after;b();var A=Math.ceil(c.w*l),R=Math.ceil(c.h*l);if(A>fE||R>fE)return null;var I=A*R;if(I>m5)return null;var L=n.makeLayer(c,t);if(T!=null){var B=f.indexOf(T)+1;f.splice(B,0,L)}else(k.insert===void 0||k.insert)&&f.unshift(L);return L};if(n.skipping&&!u)return null;for(var g=null,p=e.length/s5,y=!u,w=0;w<e.length;w++){var E=e[w],S=E._private.rscratch,x=S.imgLayerCaches=S.imgLayerCaches||{},C=x[t];if(C){g=C;continue}if((!g||g.eles.length>=p||!UP(g.bb,E.boundingBox()))&&(g=m({insert:!0,after:g}),!g))return null;v||y?n.queueLayer(g,E):n.drawEleInLayer(g,E,t,r),g.eles.push(E),x[t]=g}return v||(y?null:f)};Vr.getEleLevelForLayerLevel=function(e,r){return e};Vr.drawEleInLayer=function(e,r,t,n){var a=this,i=this.renderer,o=e.context,u=r.boundingBox();u.w===0||u.h===0||!r.visible()||(t=a.getEleLevelForLayerLevel(t,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,r,null,null,t,y5),i.setImgSmoothing(o,!0))};Vr.levelIsComplete=function(e,r){var t=this,n=t.layersByLevel[e];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===r.length};Vr.validateLayersElesOrdering=function(e,r){var t=this.layersByLevel[e];if(t)for(var n=0;n<t.length;n++){for(var a=t[n],i=-1,o=0;o<r.length;o++)if(a.eles[0]===r[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var u=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==r[u+o]){this.invalidateLayer(a);break}}};Vr.updateElementsInLayers=function(e,r){for(var t=this,n=ju(e[0]),a=0;a<e.length;a++)for(var i=n?null:e[a],o=n?e[a]:e[a].ele,u=o._private.rscratch,s=u.imgLayerCaches=u.imgLayerCaches||{},l=lu;l<=Xl;l++){var f=s[l];f&&(i&&t.getEleLevelForLayerLevel(f.level)!==i.level||r(f,o,i))}};Vr.haveLayers=function(){for(var e=this,r=!1,t=lu;t<=Xl;t++){var n=e.layersByLevel[t];if(n&&n.length>0){r=!0;break}}return r};Vr.invalidateElements=function(e){var r=this;e.length!==0&&(r.lastInvalidationTime=Pn(),!(e.length===0||!r.haveLayers())&&r.updateElementsInLayers(e,function(n,a,i){r.invalidateLayer(n)}))};Vr.invalidateLayer=function(e){if(this.lastInvalidationTime=Pn(),!e.invalid){var r=e.level,t=e.eles,n=this.layersByLevel[r];da(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<t.length;a++){var i=t[a]._private.rscratch.imgLayerCaches;i&&(i[r]=null)}}};Vr.refineElementTextures=function(e){var r=this;r.updateElementsInLayers(e,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=r.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var u=0;u<o.eles.length;u++)r.queueLayer(o,o.eles[u])})};Vr.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};Vr.queueLayer=function(e,r){var t=this,n=t.layersQueue,a=e.elesQueue,i=a.hasId=a.hasId||{};if(!e.replacement){if(r){if(i[r.id()])return;a.push(r),i[r.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}};Vr.dequeue=function(e){for(var r=this,t=r.layersQueue,n=[],a=0;a<g5&&t.size()!==0;){var i=t.peek();if(i.replacement){t.pop();continue}if(i.replaces&&i!==i.replaces.replacement){t.pop();continue}if(i.invalid){t.pop();continue}var o=i.elesQueue.shift();o&&(r.drawEleInLayer(i,o,i.level,e),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(t.pop(),i.reqs=0,i.replaces&&r.applyLayerReplacement(i),r.requestRedraw())}return n};Vr.applyLayerReplacement=function(e){var r=this,t=r.layersByLevel[e.level],n=e.replaces,a=t.indexOf(n);if(!(a<0||n.invalid)){t[a]=e;for(var i=0;i<e.eles.length;i++){var o=e.eles[i]._private,u=o.imgLayerCaches=o.imgLayerCaches||{};u&&(u[e.level]=e)}r.requestRedraw()}};Vr.requestRedraw=Qu(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);Vr.setupDequeueing=KD.setupDequeueing({deqRedrawThreshold:f5,deqCost:d5,deqAvgCost:v5,deqNoDrawCost:h5,deqFastCost:p5,deq:function(r,t){return r.dequeue(t)},onDeqd:K1,shouldRedraw:NP,priority:function(r){return r.renderer.beforeRenderPriorities.lyrTxrDeq}});var XD={},dE;function w5(e,r){for(var t=0;t<r.length;t++){var n=r[t];e.lineTo(n.x,n.y)}}function x5(e,r,t){for(var n,a=0;a<r.length;a++){var i=r[a];a===0&&(n=i),e.lineTo(i.x,i.y)}e.quadraticCurveTo(t.x,t.y,n.x,n.y)}function vE(e,r,t){e.beginPath&&e.beginPath();for(var n=r,a=0;a<n.length;a++){var i=n[a];e.lineTo(i.x,i.y)}var o=t,u=t[0];e.moveTo(u.x,u.y);for(var a=1;a<o.length;a++){var i=o[a];e.lineTo(i.x,i.y)}e.closePath&&e.closePath()}function E5(e,r,t,n,a){e.beginPath&&e.beginPath(),e.arc(t,n,a,0,Math.PI*2,!1);var i=r,o=i[0];e.moveTo(o.x,o.y);for(var u=0;u<i.length;u++){var s=i[u];e.lineTo(s.x,s.y)}e.closePath&&e.closePath()}function S5(e,r,t,n){e.arc(r,t,n,0,Math.PI*2,!1)}XD.arrowShapeImpl=function(e){return(dE||(dE={polygon:w5,"triangle-backcurve":x5,"triangle-tee":vE,"circle-triangle":E5,"triangle-cross":vE,circle:S5}))[e]};var hn={};hn.drawElement=function(e,r,t,n,a,i){var o=this;r.isNode()?o.drawNode(e,r,t,n,a,i):o.drawEdge(e,r,t,n,a,i)};hn.drawElementOverlay=function(e,r){var t=this;r.isNode()?t.drawNodeOverlay(e,r):t.drawEdgeOverlay(e,r)};hn.drawElementUnderlay=function(e,r){var t=this;r.isNode()?t.drawNodeUnderlay(e,r):t.drawEdgeUnderlay(e,r)};hn.drawCachedElementPortion=function(e,r,t,n,a,i,o,u){var s=this,l=t.getBoundingBox(r);if(!(l.w===0||l.h===0)){var f=t.getElement(r,l,n,a,i);if(f!=null){var c=u(s,r);if(c===0)return;var d=o(s,r),v=l.x1,h=l.y1,b=l.w,m=l.h,g,p,y,w,E;if(d!==0){var S=t.getRotationPoint(r);y=S.x,w=S.y,e.translate(y,w),e.rotate(d),E=s.getImgSmoothing(e),E||s.setImgSmoothing(e,!0);var x=t.getRotationOffset(r);g=x.x,p=x.y}else g=v,p=h;var C;c!==1&&(C=e.globalAlpha,e.globalAlpha=C*c),e.drawImage(f.texture.canvas,f.x,0,f.width,f.height,g,p,b,m),c!==1&&(e.globalAlpha=C),d!==0&&(e.rotate(-d),e.translate(-y,-w),E||s.setImgSmoothing(e,!1))}else t.drawElement(e,r)}};var C5=function(){return 0},k5=function(r,t){return r.getTextAngle(t,null)},_5=function(r,t){return r.getTextAngle(t,"source")},T5=function(r,t){return r.getTextAngle(t,"target")},A5=function(r,t){return t.effectiveOpacity()},tv=function(r,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};hn.drawCachedElement=function(e,r,t,n,a,i){var o=this,u=o.data,s=u.eleTxrCache,l=u.lblTxrCache,f=u.slbTxrCache,c=u.tlbTxrCache,d=r.boundingBox(),v=i===!0?s.reasons.highQuality:null;if(!(d.w===0||d.h===0||!r.visible())&&(!n||Z1(d,n))){var h=r.isEdge(),b=r.element()._private.rscratch.badLine;o.drawElementUnderlay(e,r),o.drawCachedElementPortion(e,r,s,t,a,v,C5,A5),(!h||!b)&&o.drawCachedElementPortion(e,r,l,t,a,v,k5,tv),h&&!b&&(o.drawCachedElementPortion(e,r,f,t,a,v,_5,tv),o.drawCachedElementPortion(e,r,c,t,a,v,T5,tv)),o.drawElementOverlay(e,r)}};hn.drawElements=function(e,r){for(var t=this,n=0;n<r.length;n++){var a=r[n];t.drawElement(e,a)}};hn.drawCachedElements=function(e,r,t,n){for(var a=this,i=0;i<r.length;i++){var o=r[i];a.drawCachedElement(e,o,t,n)}};hn.drawCachedNodes=function(e,r,t,n){for(var a=this,i=0;i<r.length;i++){var o=r[i];o.isNode()&&a.drawCachedElement(e,o,t,n)}};hn.drawLayeredElements=function(e,r,t,n){var a=this,i=a.data.lyrTxrCache.getLayers(r,t);if(i)for(var o=0;o<i.length;o++){var u=i[o],s=u.bb;s.w===0||s.h===0||e.drawImage(u.canvas,s.x1,s.y1,s.w,s.h)}else a.drawCachedElements(e,r,t,n)};var Mn={};Mn.drawEdge=function(e,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,u=r._private.rscratch;if(!(i&&!r.visible())&&!(u.badLine||u.allpts==null||isNaN(u.allpts[0]))){var s;t&&(s=t,e.translate(-s.x1,-s.y1));var l=i?r.pstyle("opacity").value:1,f=i?r.pstyle("line-opacity").value:1,c=r.pstyle("curve-style").value,d=r.pstyle("line-style").value,v=r.pstyle("width").pfValue,h=r.pstyle("line-cap").value,b=r.pstyle("line-outline-width").value,m=r.pstyle("line-outline-color").value,g=l*f,p=l*f,y=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;c==="straight-triangle"?(o.eleStrokeStyle(e,r,L),o.drawEdgeTrianglePath(r,e,u.allpts)):(e.lineWidth=v,e.lineCap=h,o.eleStrokeStyle(e,r,L),o.drawEdgePath(r,e,u.allpts,d),e.lineCap="butt")},w=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;if(e.lineWidth=v+b,e.lineCap=h,b>0)o.colorStrokeStyle(e,m[0],m[1],m[2],L);else{e.lineCap="butt";return}c==="straight-triangle"?o.drawEdgeTrianglePath(r,e,u.allpts):(o.drawEdgePath(r,e,u.allpts,d),e.lineCap="butt")},E=function(){a&&o.drawEdgeOverlay(e,r)},S=function(){a&&o.drawEdgeUnderlay(e,r)},x=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p;o.drawArrowheads(e,r,L)},C=function(){o.drawElementText(e,r,null,n)};e.lineJoin="round";var _=r.pstyle("ghost").value==="yes";if(_){var k=r.pstyle("ghost-offset-x").pfValue,T=r.pstyle("ghost-offset-y").pfValue,A=r.pstyle("ghost-opacity").value,R=g*A;e.translate(k,T),y(R),x(R),e.translate(-k,-T)}else w();S(),y(),x(),E(),C(),t&&e.translate(s.x1,s.y1)}};var ZD=function(r){if(!["overlay","underlay"].includes(r))throw new Error("Invalid state");return function(t,n){if(n.visible()){var a=n.pstyle("".concat(r,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),u=n._private.rscratch,s=n.pstyle("".concat(r,"-padding")).pfValue,l=2*s,f=n.pstyle("".concat(r,"-color")).value;t.lineWidth=l,u.edgeType==="self"&&!o?t.lineCap="butt":t.lineCap="round",i.colorStrokeStyle(t,f[0],f[1],f[2],a),i.drawEdgePath(n,t,u.allpts,"solid")}}}};Mn.drawEdgeOverlay=ZD("overlay");Mn.drawEdgeUnderlay=ZD("underlay");Mn.drawEdgePath=function(e,r,t,n){var a=e._private.rscratch,i=r,o,u=!1,s=this.usePaths(),l=e.pstyle("line-dash-pattern").pfValue,f=e.pstyle("line-dash-offset").pfValue;if(s){var c=t.join("$"),d=a.pathCacheKey&&a.pathCacheKey===c;d?(o=r=a.pathCache,u=!0):(o=r=new Path2D,a.pathCacheKey=c,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(l),i.lineDashOffset=f;break;case"solid":i.setLineDash([]);break}if(!u&&!a.badLine)switch(r.beginPath&&r.beginPath(),r.moveTo(t[0],t[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var v=2;v+3<t.length;v+=4)r.quadraticCurveTo(t[v],t[v+1],t[v+2],t[v+3]);break;case"straight":case"haystack":for(var h=2;h+1<t.length;h+=2)r.lineTo(t[h],t[h+1]);break;case"segments":if(a.isRound){var b=vt(a.roundCorners),m;try{for(b.s();!(m=b.n()).done;){var g=m.value;FD(r,g)}}catch(y){b.e(y)}finally{b.f()}r.lineTo(t[t.length-2],t[t.length-1])}else for(var p=2;p+1<t.length;p+=2)r.lineTo(t[p],t[p+1]);break}r=i,s?r.stroke(o):r.stroke(),r.setLineDash&&r.setLineDash([])};Mn.drawEdgeTrianglePath=function(e,r,t){r.fillStyle=r.strokeStyle;for(var n=e.pstyle("width").pfValue,a=0;a+1<t.length;a+=2){var i=[t[a+2]-t[a],t[a+3]-t[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),u=[i[1]/o,-i[0]/o],s=[u[0]*n/2,u[1]*n/2];r.beginPath(),r.moveTo(t[a]-s[0],t[a+1]-s[1]),r.lineTo(t[a]+s[0],t[a+1]+s[1]),r.lineTo(t[a+2],t[a+3]),r.closePath(),r.fill()}};Mn.drawArrowheads=function(e,r,t){var n=r._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(e,r,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,t),this.drawArrowhead(e,r,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,t),this.drawArrowhead(e,r,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,t),a||this.drawArrowhead(e,r,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,t)};Mn.drawArrowhead=function(e,r,t,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var u=this,s=r.pstyle(t+"-arrow-shape").value;if(s!=="none"){var l=r.pstyle(t+"-arrow-fill").value==="hollow"?"both":"filled",f=r.pstyle(t+"-arrow-fill").value,c=r.pstyle("width").pfValue,d=r.pstyle(t+"-arrow-width"),v=d.value==="match-line"?c:d.pfValue;d.units==="%"&&(v*=c);var h=r.pstyle("opacity").value;o===void 0&&(o=h);var b=e.globalCompositeOperation;(o!==1||f==="hollow")&&(e.globalCompositeOperation="destination-out",u.colorFillStyle(e,255,255,255,1),u.colorStrokeStyle(e,255,255,255,1),u.drawArrowShape(r,e,l,c,s,v,n,a,i),e.globalCompositeOperation=b);var m=r.pstyle(t+"-arrow-color").value;u.colorFillStyle(e,m[0],m[1],m[2],o),u.colorStrokeStyle(e,m[0],m[1],m[2],o),u.drawArrowShape(r,e,f,c,s,v,n,a,i)}}};Mn.drawArrowShape=function(e,r,t,n,a,i,o,u,s){var l=this,f=this.usePaths()&&a!=="triangle-cross",c=!1,d,v=r,h={x:o,y:u},b=e.pstyle("arrow-scale").value,m=this.getArrowWidth(n,b),g=l.arrowShapes[a];if(f){var p=l.arrowPathCache=l.arrowPathCache||[],y=Ya(a),w=p[y];w!=null?(d=r=w,c=!0):(d=r=new Path2D,p[y]=d)}c||(r.beginPath&&r.beginPath(),f?g.draw(r,1,0,{x:0,y:0},1):g.draw(r,m,s,h,n),r.closePath&&r.closePath()),r=v,f&&(r.translate(o,u),r.rotate(s),r.scale(m,m)),(t==="filled"||t==="both")&&(f?r.fill(d):r.fill()),(t==="hollow"||t==="both")&&(r.lineWidth=i/(f?m:1),r.lineJoin="miter",f?r.stroke(d):r.stroke()),f&&(r.scale(1/m,1/m),r.rotate(-s),r.translate(-o,-u))};var cb={};cb.safeDrawImage=function(e,r,t,n,a,i,o,u,s,l){if(!(a<=0||i<=0||s<=0||l<=0))try{e.drawImage(r,t,n,a,i,o,u,s,l)}catch(f){Ge(f)}};cb.drawInscribedImage=function(e,r,t,n,a){var i=this,o=t.position(),u=o.x,s=o.y,l=t.cy().style(),f=l.getIndexedStyle.bind(l),c=f(t,"background-fit","value",n),d=f(t,"background-repeat","value",n),v=t.width(),h=t.height(),b=t.padding()*2,m=v+(f(t,"background-width-relative-to","value",n)==="inner"?0:b),g=h+(f(t,"background-height-relative-to","value",n)==="inner"?0:b),p=t._private.rscratch,y=f(t,"background-clip","value",n),w=y==="node",E=f(t,"background-image-opacity","value",n)*a,S=f(t,"background-image-smoothing","value",n),x=t.pstyle("corner-radius").value;x!=="auto"&&(x=t.pstyle("corner-radius").pfValue);var C=r.width||r.cachedW,_=r.height||r.cachedH;(C==null||_==null)&&(document.body.appendChild(r),C=r.cachedW=r.width||r.offsetWidth,_=r.cachedH=r.height||r.offsetHeight,document.body.removeChild(r));var k=C,T=_;if(f(t,"background-width","value",n)!=="auto"&&(f(t,"background-width","units",n)==="%"?k=f(t,"background-width","pfValue",n)*m:k=f(t,"background-width","pfValue",n)),f(t,"background-height","value",n)!=="auto"&&(f(t,"background-height","units",n)==="%"?T=f(t,"background-height","pfValue",n)*g:T=f(t,"background-height","pfValue",n)),!(k===0||T===0)){if(c==="contain"){var A=Math.min(m/k,g/T);k*=A,T*=A}else if(c==="cover"){var A=Math.max(m/k,g/T);k*=A,T*=A}var R=u-m/2,I=f(t,"background-position-x","units",n),L=f(t,"background-position-x","pfValue",n);I==="%"?R+=(m-k)*L:R+=L;var B=f(t,"background-offset-x","units",n),O=f(t,"background-offset-x","pfValue",n);B==="%"?R+=(m-k)*O:R+=O;var D=s-g/2,F=f(t,"background-position-y","units",n),z=f(t,"background-position-y","pfValue",n);F==="%"?D+=(g-T)*z:D+=z;var q=f(t,"background-offset-y","units",n),$=f(t,"background-offset-y","pfValue",n);q==="%"?D+=(g-T)*$:D+=$,p.pathCache&&(R-=u,D-=s,u=0,s=0);var Y=e.globalAlpha;e.globalAlpha=E;var M=i.getImgSmoothing(e),N=!1;if(S==="no"&&M?(i.setImgSmoothing(e,!1),N=!0):S==="yes"&&!M&&(i.setImgSmoothing(e,!0),N=!0),d==="no-repeat")w&&(e.save(),p.pathCache?e.clip(p.pathCache):(i.nodeShapes[i.getNodeShape(t)].draw(e,u,s,m,g,x,p),e.clip())),i.safeDrawImage(e,r,0,0,C,_,R,D,k,T),w&&e.restore();else{var V=e.createPattern(r,d);e.fillStyle=V,i.nodeShapes[i.getNodeShape(t)].draw(e,u,s,m,g,x,p),e.translate(R,D),e.fill(),e.translate(-R,-D)}e.globalAlpha=Y,N&&i.setImgSmoothing(e,M)}};var ni={};ni.eleTextBiggerThanMin=function(e,r){if(!r){var t=e.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(Y1(t*n));r=Math.pow(2,a)}var i=e.pstyle("font-size").pfValue*r,o=e.pstyle("min-zoomed-font-size").pfValue;return!(i<o)};ni.drawElementText=function(e,r,t,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(r))return}else if(n===!1)return;if(r.isNode()){var u=r.pstyle("label");if(!u||!u.value)return;var s=o.getLabelJustification(r);e.textAlign=s,e.textBaseline="bottom"}else{var l=r.element()._private.rscratch.badLine,f=r.pstyle("label"),c=r.pstyle("source-label"),d=r.pstyle("target-label");if(l||(!f||!f.value)&&(!c||!c.value)&&(!d||!d.value))return;e.textAlign="center",e.textBaseline="bottom"}var v=!t,h;t&&(h=t,e.translate(-h.x1,-h.y1)),a==null?(o.drawText(e,r,null,v,i),r.isEdge()&&(o.drawText(e,r,"source",v,i),o.drawText(e,r,"target",v,i))):o.drawText(e,r,a,v,i),t&&e.translate(h.x1,h.y1)};ni.getFontCache=function(e){var r;this.fontCaches=this.fontCaches||[];for(var t=0;t<this.fontCaches.length;t++)if(r=this.fontCaches[t],r.context===e)return r;return r={context:e},this.fontCaches.push(r),r};ni.setupTextStyle=function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=r.pstyle("font-style").strValue,a=r.pstyle("font-size").pfValue+"px",i=r.pstyle("font-family").strValue,o=r.pstyle("font-weight").strValue,u=t?r.effectiveOpacity()*r.pstyle("text-opacity").value:1,s=r.pstyle("text-outline-opacity").value*u,l=r.pstyle("color").value,f=r.pstyle("text-outline-color").value;e.font=n+" "+o+" "+a+" "+i,e.lineJoin="round",this.colorFillStyle(e,l[0],l[1],l[2],u),this.colorStrokeStyle(e,f[0],f[1],f[2],s)};function R5(e,r,t,n,a){var i=Math.min(n,a),o=i/2,u=r+n/2,s=t+a/2;e.beginPath(),e.arc(u,s,o,0,Math.PI*2),e.closePath()}function hE(e,r,t,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=Math.min(i,n/2,a/2);e.beginPath(),e.moveTo(r+o,t),e.lineTo(r+n-o,t),e.quadraticCurveTo(r+n,t,r+n,t+o),e.lineTo(r+n,t+a-o),e.quadraticCurveTo(r+n,t+a,r+n-o,t+a),e.lineTo(r+o,t+a),e.quadraticCurveTo(r,t+a,r,t+a-o),e.lineTo(r,t+o),e.quadraticCurveTo(r,t,r+o,t),e.closePath()}ni.getTextAngle=function(e,r){var t,n=e._private,a=n.rscratch,i=r?r+"-":"",o=e.pstyle(i+"text-rotation");if(o.strValue==="autorotate"){var u=ft(a,"labelAngle",r);t=e.isEdge()?u:0}else o.strValue==="none"?t=0:t=o.pfValue;return t};ni.drawText=function(e,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=r._private,o=i.rscratch,u=a?r.effectiveOpacity():1;if(!(a&&(u===0||r.pstyle("text-opacity").value===0))){t==="main"&&(t=null);var s=ft(o,"labelX",t),l=ft(o,"labelY",t),f,c,d=this.getLabelText(r,t);if(d!=null&&d!==""&&!isNaN(s)&&!isNaN(l)){this.setupTextStyle(e,r,a);var v=t?t+"-":"",h=ft(o,"labelWidth",t),b=ft(o,"labelHeight",t),m=r.pstyle(v+"text-margin-x").pfValue,g=r.pstyle(v+"text-margin-y").pfValue,p=r.isEdge(),y=r.pstyle("text-halign").value,w=r.pstyle("text-valign").value;p&&(y="center",w="center"),s+=m,l+=g;var E;switch(n?E=this.getTextAngle(r,t):E=0,E!==0&&(f=s,c=l,e.translate(f,c),e.rotate(E),s=0,l=0),w){case"top":break;case"center":l+=b/2;break;case"bottom":l+=b;break}var S=r.pstyle("text-background-opacity").value,x=r.pstyle("text-border-opacity").value,C=r.pstyle("text-border-width").pfValue,_=r.pstyle("text-background-padding").pfValue,k=r.pstyle("text-background-shape").strValue,T=k==="round-rectangle"||k==="roundrectangle",A=k==="circle",R=2;if(S>0||C>0&&x>0){var I=e.fillStyle,L=e.strokeStyle,B=e.lineWidth,O=r.pstyle("text-background-color").value,D=r.pstyle("text-border-color").value,F=r.pstyle("text-border-style").value,z=S>0,q=C>0&&x>0,$=s-_;switch(y){case"left":$-=h;break;case"center":$-=h/2;break}var Y=l-b-_,M=h+2*_,N=b+2*_;if(z&&(e.fillStyle="rgba(".concat(O[0],",").concat(O[1],",").concat(O[2],",").concat(S*u,")")),q&&(e.strokeStyle="rgba(".concat(D[0],",").concat(D[1],",").concat(D[2],",").concat(x*u,")"),e.lineWidth=C,e.setLineDash))switch(F){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=C/4,e.setLineDash([]);break;case"solid":default:e.setLineDash([]);break}if(T?(e.beginPath(),hE(e,$,Y,M,N,R)):A?(e.beginPath(),R5(e,$,Y,M,N)):(e.beginPath(),e.rect($,Y,M,N)),z&&e.fill(),q&&e.stroke(),q&&F==="double"){var V=C/2;e.beginPath(),T?hE(e,$+V,Y+V,M-2*V,N-2*V,R):e.rect($+V,Y+V,M-2*V,N-2*V),e.stroke()}e.fillStyle=I,e.strokeStyle=L,e.lineWidth=B,e.setLineDash&&e.setLineDash([])}var H=2*r.pstyle("text-outline-width").pfValue;if(H>0&&(e.lineWidth=H),r.pstyle("text-wrap").value==="wrap"){var re=ft(o,"labelWrapCachedLines",t),j=ft(o,"labelLineHeight",t),U=h/2,G=this.getLabelJustification(r);switch(G==="auto"||(y==="left"?G==="left"?s+=-h:G==="center"&&(s+=-U):y==="center"?G==="left"?s+=-U:G==="right"&&(s+=U):y==="right"&&(G==="center"?s+=U:G==="right"&&(s+=h))),w){case"top":l-=(re.length-1)*j;break;case"center":case"bottom":l-=(re.length-1)*j;break}for(var K=0;K<re.length;K++)H>0&&e.strokeText(re[K],s,l),e.fillText(re[K],s,l),l+=j}else H>0&&e.strokeText(d,s,l),e.fillText(d,s,l);E!==0&&(e.rotate(-E),e.translate(-f,-c))}}};var ka={};ka.drawNode=function(e,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,u,s,l=r._private,f=l.rscratch,c=r.position();if(!(!oe(c.x)||!oe(c.y))&&!(i&&!r.visible())){var d=i?r.effectiveOpacity():1,v=o.usePaths(),h,b=!1,m=r.padding();u=r.width()+2*m,s=r.height()+2*m;var g;t&&(g=t,e.translate(-g.x1,-g.y1));for(var p=r.pstyle("background-image"),y=p.value,w=new Array(y.length),E=new Array(y.length),S=0,x=0;x<y.length;x++){var C=y[x],_=w[x]=C!=null&&C!=="none";if(_){var k=r.cy().style().getIndexedStyle(r,"background-image-crossorigin","value",x);S++,E[x]=o.getCachedImage(C,k,function(){l.backgroundTimestamp=Date.now(),r.emitAndNotify("background")})}}var T=r.pstyle("background-blacken").value,A=r.pstyle("border-width").pfValue,R=r.pstyle("background-opacity").value*d,I=r.pstyle("border-color").value,L=r.pstyle("border-style").value,B=r.pstyle("border-join").value,O=r.pstyle("border-cap").value,D=r.pstyle("border-position").value,F=r.pstyle("border-dash-pattern").pfValue,z=r.pstyle("border-dash-offset").pfValue,q=r.pstyle("border-opacity").value*d,$=r.pstyle("outline-width").pfValue,Y=r.pstyle("outline-color").value,M=r.pstyle("outline-style").value,N=r.pstyle("outline-opacity").value*d,V=r.pstyle("outline-offset").value,H=r.pstyle("corner-radius").value;H!=="auto"&&(H=r.pstyle("corner-radius").pfValue);var re=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R;o.eleFillStyle(e,r,le)},j=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q;o.colorStrokeStyle(e,I[0],I[1],I[2],le)},U=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N;o.colorStrokeStyle(e,Y[0],Y[1],Y[2],le)},G=function(le,J,P,W){var Z=o.nodePathCache=o.nodePathCache||[],Q=BP(P==="polygon"?P+","+W.join(","):P,""+J,""+le,""+H),ee=Z[Q],ve,te=!1;return ee!=null?(ve=ee,te=!0,f.pathCache=ve):(ve=new Path2D,Z[Q]=f.pathCache=ve),{path:ve,cacheHit:te}},K=r.pstyle("shape").strValue,X=r.pstyle("shape-polygon-points").pfValue;if(v){e.translate(c.x,c.y);var ne=G(u,s,K,X);h=ne.path,b=ne.cacheHit}var ie=function(){if(!b){var le=c;v&&(le={x:0,y:0}),o.nodeShapes[o.getNodeShape(r)].draw(h||e,le.x,le.y,u,s,H,f)}v?e.fill(h):e.fill()},Ae=function(){for(var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,P=l.backgrounding,W=0,Z=0;Z<E.length;Z++){var Q=r.cy().style().getIndexedStyle(r,"background-image-containment","value",Z);if(J&&Q==="over"||!J&&Q==="inside"){W++;continue}w[Z]&&E[Z].complete&&!E[Z].error&&(W++,o.drawInscribedImage(e,E[Z],r,Z,le))}l.backgrounding=W!==S,P!==l.backgrounding&&r.updateStyle(!1)},ue=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;o.hasPie(r)&&(o.drawPie(e,r,J),le&&(v||o.nodeShapes[o.getNodeShape(r)].draw(e,c.x,c.y,u,s,H,f)))},xe=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;o.hasStripe(r)&&(e.save(),v?e.clip(f.pathCache):(o.nodeShapes[o.getNodeShape(r)].draw(e,c.x,c.y,u,s,H,f),e.clip()),o.drawStripe(e,r,J),e.restore(),le&&(v||o.nodeShapes[o.getNodeShape(r)].draw(e,c.x,c.y,u,s,H,f)))},me=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,J=(T>0?T:-T)*le,P=T>0?0:255;T!==0&&(o.colorFillStyle(e,P,P,P,J),v?e.fill(h):e.fill())},se=function(){if(A>0){if(e.lineWidth=A,e.lineCap=O,e.lineJoin=B,e.setLineDash)switch(L){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(F),e.lineDashOffset=z;break;case"solid":case"double":e.setLineDash([]);break}if(D!=="center"){if(e.save(),e.lineWidth*=2,D==="inside")v?e.clip(h):e.clip();else{var le=new Path2D;le.rect(-u/2-A,-s/2-A,u+2*A,s+2*A),le.addPath(h),e.clip(le,"evenodd")}v?e.stroke(h):e.stroke(),e.restore()}else v?e.stroke(h):e.stroke();if(L==="double"){e.lineWidth=A/3;var J=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",v?e.stroke(h):e.stroke(),e.globalCompositeOperation=J}e.setLineDash&&e.setLineDash([])}},pe=function(){if($>0){if(e.lineWidth=$,e.lineCap="butt",e.setLineDash)switch(M){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var le=c;v&&(le={x:0,y:0});var J=o.getNodeShape(r),P=A;D==="inside"&&(P=0),D==="outside"&&(P*=2);var W=(u+P+($+V))/u,Z=(s+P+($+V))/s,Q=u*W,ee=s*Z,ve=o.nodeShapes[J].points,te;if(v){var be=G(Q,ee,J,ve);te=be.path}if(J==="ellipse")o.drawEllipsePath(te||e,le.x,le.y,Q,ee);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(J)){var he=0,Ce=0,De=0;J==="round-diamond"?he=(P+V+$)*1.4:J==="round-heptagon"?(he=(P+V+$)*1.075,De=-(P/2+V+$)/35):J==="round-hexagon"?he=(P+V+$)*1.12:J==="round-pentagon"?(he=(P+V+$)*1.13,De=-(P/2+V+$)/15):J==="round-tag"?(he=(P+V+$)*1.12,Ce=(P/2+$+V)*.07):J==="round-triangle"&&(he=(P+V+$)*(Math.PI/2),De=-(P+V/2+$)/Math.PI),he!==0&&(W=(u+he)/u,Q=u*W,["round-hexagon","round-tag"].includes(J)||(Z=(s+he)/s,ee=s*Z)),H=H==="auto"?WP(Q,ee):H;for(var Re=Q/2,we=ee/2,Oe=H+(P+$+V)/2,Ie=new Array(ve.length/2),yr=new Array(ve.length/2),ur=0;ur<ve.length/2;ur++)Ie[ur]={x:le.x+Ce+Re*ve[ur*2],y:le.y+De+we*ve[ur*2+1]};var Zr,cr,Tr,br,Lr=Ie.length;for(cr=Ie[Lr-1],Zr=0;Zr<Lr;Zr++)Tr=Ie[Zr%Lr],br=Ie[(Zr+1)%Lr],yr[Zr]=lb(cr,Tr,br,Oe),cr=Tr,Tr=br;o.drawRoundPolygonPath(te||e,le.x+Ce,le.y+De,u*W,s*Z,ve,yr)}else if(["roundrectangle","round-rectangle"].includes(J))H=H==="auto"?va(Q,ee):H,o.drawRoundRectanglePath(te||e,le.x,le.y,Q,ee,H+(P+$+V)/2);else if(["cutrectangle","cut-rectangle"].includes(J))H=H==="auto"?Q1():H,o.drawCutRectanglePath(te||e,le.x,le.y,Q,ee,null,H+(P+$+V)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(J))H=H==="auto"?va(Q,ee):H,o.drawBottomRoundRectanglePath(te||e,le.x,le.y,Q,ee,H+(P+$+V)/2);else if(J==="barrel")o.drawBarrelPath(te||e,le.x,le.y,Q,ee);else if(J.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(J)){var qn=(P+$+V)/u;ve=Ul(Gl(ve,qn)),o.drawPolygonPath(te||e,le.x,le.y,u,s,ve)}else{var dr=(P+$+V)/u;ve=Ul(Gl(ve,-dr)),o.drawPolygonPath(te||e,le.x,le.y,u,s,ve)}if(v?e.stroke(te):e.stroke(),M==="double"){e.lineWidth=P/3;var gn=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",v?e.stroke(te):e.stroke(),e.globalCompositeOperation=gn}e.setLineDash&&e.setLineDash([])}},de=function(){a&&o.drawNodeOverlay(e,r,c,u,s)},ge=function(){a&&o.drawNodeUnderlay(e,r,c,u,s)},ye=function(){o.drawElementText(e,r,null,n)},Te=r.pstyle("ghost").value==="yes";if(Te){var Be=r.pstyle("ghost-offset-x").pfValue,Ne=r.pstyle("ghost-offset-y").pfValue,Le=r.pstyle("ghost-opacity").value,qe=Le*d;e.translate(Be,Ne),U(),pe(),re(Le*R),ie(),Ae(qe,!0),j(Le*q),se(),ue(T!==0||A!==0),xe(T!==0||A!==0),Ae(qe,!1),me(qe),e.translate(-Be,-Ne)}v&&e.translate(-c.x,-c.y),ge(),v&&e.translate(c.x,c.y),U(),pe(),re(),ie(),Ae(d,!0),j(),se(),ue(T!==0||A!==0),xe(T!==0||A!==0),Ae(d,!1),me(),v&&e.translate(-c.x,-c.y),ye(),de(),t&&e.translate(g.x1,g.y1)}};var QD=function(r){if(!["overlay","underlay"].includes(r))throw new Error("Invalid state");return function(t,n,a,i,o){var u=this;if(n.visible()){var s=n.pstyle("".concat(r,"-padding")).pfValue,l=n.pstyle("".concat(r,"-opacity")).value,f=n.pstyle("".concat(r,"-color")).value,c=n.pstyle("".concat(r,"-shape")).value,d=n.pstyle("".concat(r,"-corner-radius")).value;if(l>0){if(a=a||n.position(),i==null||o==null){var v=n.padding();i=n.width()+2*v,o=n.height()+2*v}u.colorFillStyle(t,f[0],f[1],f[2],l),u.nodeShapes[c].draw(t,a.x,a.y,i+s*2,o+s*2,d),t.fill()}}}};ka.drawNodeOverlay=QD("overlay");ka.drawNodeUnderlay=QD("underlay");ka.hasPie=function(e){return e=e[0],e._private.hasPie};ka.hasStripe=function(e){return e=e[0],e._private.hasStripe};ka.drawPie=function(e,r,t,n){r=r[0],n=n||r.position();var a=r.cy().style(),i=r.pstyle("pie-size"),o=r.pstyle("pie-hole"),u=r.pstyle("pie-start-angle").pfValue,s=n.x,l=n.y,f=r.width(),c=r.height(),d=Math.min(f,c)/2,v,h=0,b=this.usePaths();if(b&&(s=0,l=0),i.units==="%"?d=d*i.pfValue:i.pfValue!==void 0&&(d=i.pfValue/2),o.units==="%"?v=d*o.pfValue:o.pfValue!==void 0&&(v=o.pfValue/2),!(v>=d))for(var m=1;m<=a.pieBackgroundN;m++){var g=r.pstyle("pie-"+m+"-background-size").value,p=r.pstyle("pie-"+m+"-background-color").value,y=r.pstyle("pie-"+m+"-background-opacity").value*t,w=g/100;w+h>1&&(w=1-h);var E=1.5*Math.PI+2*Math.PI*h;E+=u;var S=2*Math.PI*w,x=E+S;g===0||h>=1||h+w>1||(v===0?(e.beginPath(),e.moveTo(s,l),e.arc(s,l,d,E,x),e.closePath()):(e.beginPath(),e.arc(s,l,d,E,x),e.arc(s,l,v,x,E,!0),e.closePath()),this.colorFillStyle(e,p[0],p[1],p[2],y),e.fill(),h+=w)}};ka.drawStripe=function(e,r,t,n){r=r[0],n=n||r.position();var a=r.cy().style(),i=n.x,o=n.y,u=r.width(),s=r.height(),l=0,f=this.usePaths();e.save();var c=r.pstyle("stripe-direction").value,d=r.pstyle("stripe-size");switch(c){case"vertical":break;case"righward":e.rotate(-Math.PI/2);break}var v=u,h=s;d.units==="%"?(v=v*d.pfValue,h=h*d.pfValue):d.pfValue!==void 0&&(v=d.pfValue,h=d.pfValue),f&&(i=0,o=0),o-=v/2,i-=h/2;for(var b=1;b<=a.stripeBackgroundN;b++){var m=r.pstyle("stripe-"+b+"-background-size").value,g=r.pstyle("stripe-"+b+"-background-color").value,p=r.pstyle("stripe-"+b+"-background-opacity").value*t,y=m/100;y+l>1&&(y=1-l),!(m===0||l>=1||l+y>1)&&(e.beginPath(),e.rect(i,o+h*l,v,h*y),e.closePath(),this.colorFillStyle(e,g[0],g[1],g[2],p),e.fill(),l+=y)}e.restore()};var ot={},P5=100;ot.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var r=this.cy.window(),t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(r.devicePixelRatio||1)/t};ot.paintCache=function(e){for(var r=this.paintCaches=this.paintCaches||[],t=!0,n,a=0;a<r.length;a++)if(n=r[a],n.context===e){t=!1;break}return t&&(n={context:e},r.push(n)),n};ot.createGradientStyleFor=function(e,r,t,n,a){var i,o=this.usePaths(),u=t.pstyle(r+"-gradient-stop-colors").value,s=t.pstyle(r+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(t.isEdge()){var l=t.sourceEndpoint(),f=t.targetEndpoint(),c=t.midpoint(),d=Xa(l,c),v=Xa(f,c);i=e.createRadialGradient(c.x,c.y,0,c.x,c.y,Math.max(d,v))}else{var h=o?{x:0,y:0}:t.position(),b=t.paddedWidth(),m=t.paddedHeight();i=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(b,m))}else if(t.isEdge()){var g=t.sourceEndpoint(),p=t.targetEndpoint();i=e.createLinearGradient(g.x,g.y,p.x,p.y)}else{var y=o?{x:0,y:0}:t.position(),w=t.paddedWidth(),E=t.paddedHeight(),S=w/2,x=E/2,C=t.pstyle("background-gradient-direction").value;switch(C){case"to-bottom":i=e.createLinearGradient(y.x,y.y-x,y.x,y.y+x);break;case"to-top":i=e.createLinearGradient(y.x,y.y+x,y.x,y.y-x);break;case"to-left":i=e.createLinearGradient(y.x+S,y.y,y.x-S,y.y);break;case"to-right":i=e.createLinearGradient(y.x-S,y.y,y.x+S,y.y);break;case"to-bottom-right":case"to-right-bottom":i=e.createLinearGradient(y.x-S,y.y-x,y.x+S,y.y+x);break;case"to-top-right":case"to-right-top":i=e.createLinearGradient(y.x-S,y.y+x,y.x+S,y.y-x);break;case"to-bottom-left":case"to-left-bottom":i=e.createLinearGradient(y.x+S,y.y-x,y.x-S,y.y+x);break;case"to-top-left":case"to-left-top":i=e.createLinearGradient(y.x+S,y.y+x,y.x-S,y.y-x);break}}if(!i)return null;for(var _=s.length===u.length,k=u.length,T=0;T<k;T++)i.addColorStop(_?s[T]:T/(k-1),"rgba("+u[T][0]+","+u[T][1]+","+u[T][2]+","+a+")");return i};ot.gradientFillStyle=function(e,r,t,n){var a=this.createGradientStyleFor(e,"background",r,t,n);if(!a)return null;e.fillStyle=a};ot.colorFillStyle=function(e,r,t,n,a){e.fillStyle="rgba("+r+","+t+","+n+","+a+")"};ot.eleFillStyle=function(e,r,t){var n=r.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,r,n,t);else{var a=r.pstyle("background-color").value;this.colorFillStyle(e,a[0],a[1],a[2],t)}};ot.gradientStrokeStyle=function(e,r,t,n){var a=this.createGradientStyleFor(e,"line",r,t,n);if(!a)return null;e.strokeStyle=a};ot.colorStrokeStyle=function(e,r,t,n,a){e.strokeStyle="rgba("+r+","+t+","+n+","+a+")"};ot.eleStrokeStyle=function(e,r,t){var n=r.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,r,n,t);else{var a=r.pstyle("line-color").value;this.colorStrokeStyle(e,a[0],a[1],a[2],t)}};ot.matchCanvasSize=function(e){var r=this,t=r.data,n=r.findContainerClientCoords(),a=n[2],i=n[3],o=r.getPixelRatio(),u=r.motionBlurPxRatio;(e===r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE]||e===r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG])&&(o=u);var s=a*o,l=i*o,f;if(!(s===r.canvasWidth&&l===r.canvasHeight)){r.fontCaches=null;var c=t.canvasContainer;c.style.width=a+"px",c.style.height=i+"px";for(var d=0;d<r.CANVAS_LAYERS;d++)f=t.canvases[d],f.width=s,f.height=l,f.style.width=a+"px",f.style.height=i+"px";for(var d=0;d<r.BUFFER_COUNT;d++)f=t.bufferCanvases[d],f.width=s,f.height=l,f.style.width=a+"px",f.style.height=i+"px";r.textureMult=1,o<=1&&(f=t.bufferCanvases[r.TEXTURE_BUFFER],r.textureMult=2,f.width=s*r.textureMult,f.height=l*r.textureMult),r.canvasWidth=s,r.canvasHeight=l,r.pixelRatio=o}};ot.renderTo=function(e,r,t,n){this.render({forcedContext:e,forcedZoom:r,forcedPan:t,drawAllLayers:!0,forcedPxRatio:n})};ot.clearCanvas=function(){var e=this,r=e.data;function t(n){n.clearRect(0,0,e.canvasWidth,e.canvasHeight)}t(r.contexts[e.NODE]),t(r.contexts[e.DRAG])};ot.render=function(e){var r=this;e=e||zP();var t=r.cy,n=e.forcedContext,a=e.drawAllLayers,i=e.drawOnlyNodeLayer,o=e.forcedZoom,u=e.forcedPan,s=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,l=r.data,f=l.canvasNeedsRedraw,c=r.textureOnViewport&&!n&&(r.pinching||r.hoverData.dragging||r.swipePanning||r.data.wheelZooming),d=e.motionBlur!==void 0?e.motionBlur:r.motionBlur,v=r.motionBlurPxRatio,h=t.hasCompoundNodes(),b=r.hoverData.draggingEles,m=!!(r.hoverData.selecting||r.touchData.selecting);d=d&&!n&&r.motionBlurEnabled&&!m;var g=d;n||(r.prevPxRatio!==s&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container),r.redrawHint("eles",!0),r.redrawHint("drag",!0)),r.prevPxRatio=s),!n&&r.motionBlurTimeout&&clearTimeout(r.motionBlurTimeout),d&&(r.mbFrames==null&&(r.mbFrames=0),r.mbFrames++,r.mbFrames<3&&(g=!1),r.mbFrames>r.minMbLowQualFrames&&(r.motionBlurPxRatio=r.mbPxRBlurry)),r.clearingMotionBlur&&(r.motionBlurPxRatio=1),r.textureDrawLastFrame&&!c&&(f[r.NODE]=!0,f[r.SELECT_BOX]=!0);var p=t.style(),y=t.zoom(),w=o!==void 0?o:y,E=t.pan(),S={x:E.x,y:E.y},x={zoom:y,pan:{x:E.x,y:E.y}},C=r.prevViewport,_=C===void 0||x.zoom!==C.zoom||x.pan.x!==C.pan.x||x.pan.y!==C.pan.y;!_&&!(b&&!h)&&(r.motionBlurPxRatio=1),u&&(S=u),w*=s,S.x*=s,S.y*=s;var k=r.getCachedZSortedEles();function T(j,U,G,K,X){var ne=j.globalCompositeOperation;j.globalCompositeOperation="destination-out",r.colorFillStyle(j,255,255,255,r.motionBlurTransparency),j.fillRect(U,G,K,X),j.globalCompositeOperation=ne}function A(j,U){var G,K,X,ne;!r.clearingMotionBlur&&(j===l.bufferContexts[r.MOTIONBLUR_BUFFER_NODE]||j===l.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG])?(G={x:E.x*v,y:E.y*v},K=y*v,X=r.canvasWidth*v,ne=r.canvasHeight*v):(G=S,K=w,X=r.canvasWidth,ne=r.canvasHeight),j.setTransform(1,0,0,1,0,0),U==="motionBlur"?T(j,0,0,X,ne):!n&&(U===void 0||U)&&j.clearRect(0,0,X,ne),a||(j.translate(G.x,G.y),j.scale(K,K)),u&&j.translate(u.x,u.y),o&&j.scale(o,o)}if(c||(r.textureDrawLastFrame=!1),c){if(r.textureDrawLastFrame=!0,!r.textureCache){r.textureCache={},r.textureCache.bb=t.mutableElements().boundingBox(),r.textureCache.texture=r.data.bufferCanvases[r.TEXTURE_BUFFER];var R=r.data.bufferContexts[r.TEXTURE_BUFFER];R.setTransform(1,0,0,1,0,0),R.clearRect(0,0,r.canvasWidth*r.textureMult,r.canvasHeight*r.textureMult),r.render({forcedContext:R,drawOnlyNodeLayer:!0,forcedPxRatio:s*r.textureMult});var x=r.textureCache.viewport={zoom:t.zoom(),pan:t.pan(),width:r.canvasWidth,height:r.canvasHeight};x.mpan={x:(0-x.pan.x)/x.zoom,y:(0-x.pan.y)/x.zoom}}f[r.DRAG]=!1,f[r.NODE]=!1;var I=l.contexts[r.NODE],L=r.textureCache.texture,x=r.textureCache.viewport;I.setTransform(1,0,0,1,0,0),d?T(I,0,0,x.width,x.height):I.clearRect(0,0,x.width,x.height);var B=p.core("outside-texture-bg-color").value,O=p.core("outside-texture-bg-opacity").value;r.colorFillStyle(I,B[0],B[1],B[2],O),I.fillRect(0,0,x.width,x.height);var y=t.zoom();A(I,!1),I.clearRect(x.mpan.x,x.mpan.y,x.width/x.zoom/s,x.height/x.zoom/s),I.drawImage(L,x.mpan.x,x.mpan.y,x.width/x.zoom/s,x.height/x.zoom/s)}else r.textureOnViewport&&!n&&(r.textureCache=null);var D=t.extent(),F=r.pinching||r.hoverData.dragging||r.swipePanning||r.data.wheelZooming||r.hoverData.draggingEles||r.cy.animated(),z=r.hideEdgesOnViewport&&F,q=[];if(q[r.NODE]=!f[r.NODE]&&d&&!r.clearedForMotionBlur[r.NODE]||r.clearingMotionBlur,q[r.NODE]&&(r.clearedForMotionBlur[r.NODE]=!0),q[r.DRAG]=!f[r.DRAG]&&d&&!r.clearedForMotionBlur[r.DRAG]||r.clearingMotionBlur,q[r.DRAG]&&(r.clearedForMotionBlur[r.DRAG]=!0),f[r.NODE]||a||i||q[r.NODE]){var $=d&&!q[r.NODE]&&v!==1,I=n||($?r.data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE]:l.contexts[r.NODE]),Y=d&&!$?"motionBlur":void 0;A(I,Y),z?r.drawCachedNodes(I,k.nondrag,s,D):r.drawLayeredElements(I,k.nondrag,s,D),r.debug&&r.drawDebugPoints(I,k.nondrag),!a&&!d&&(f[r.NODE]=!1)}if(!i&&(f[r.DRAG]||a||q[r.DRAG])){var $=d&&!q[r.DRAG]&&v!==1,I=n||($?r.data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG]:l.contexts[r.DRAG]);A(I,d&&!$?"motionBlur":void 0),z?r.drawCachedNodes(I,k.drag,s,D):r.drawCachedElements(I,k.drag,s,D),r.debug&&r.drawDebugPoints(I,k.drag),!a&&!d&&(f[r.DRAG]=!1)}if(this.drawSelectionRectangle(e,A),d&&v!==1){var M=l.contexts[r.NODE],N=r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE],V=l.contexts[r.DRAG],H=r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG],re=function(U,G,K){U.setTransform(1,0,0,1,0,0),K||!g?U.clearRect(0,0,r.canvasWidth,r.canvasHeight):T(U,0,0,r.canvasWidth,r.canvasHeight);var X=v;U.drawImage(G,0,0,r.canvasWidth*X,r.canvasHeight*X,0,0,r.canvasWidth,r.canvasHeight)};(f[r.NODE]||q[r.NODE])&&(re(M,N,q[r.NODE]),f[r.NODE]=!1),(f[r.DRAG]||q[r.DRAG])&&(re(V,H,q[r.DRAG]),f[r.DRAG]=!1)}r.prevViewport=x,r.clearingMotionBlur&&(r.clearingMotionBlur=!1,r.motionBlurCleared=!0,r.motionBlur=!0),d&&(r.motionBlurTimeout=setTimeout(function(){r.motionBlurTimeout=null,r.clearedForMotionBlur[r.NODE]=!1,r.clearedForMotionBlur[r.DRAG]=!1,r.motionBlur=!1,r.clearingMotionBlur=!c,r.mbFrames=0,f[r.NODE]=!0,f[r.DRAG]=!0,r.redraw()},P5)),n||t.emit("render")};var Bo;ot.drawSelectionRectangle=function(e,r){var t=this,n=t.cy,a=t.data,i=n.style(),o=e.drawOnlyNodeLayer,u=e.drawAllLayers,s=a.canvasNeedsRedraw,l=e.forcedContext;if(t.showFps||!o&&s[t.SELECT_BOX]&&!u){var f=l||a.contexts[t.SELECT_BOX];if(r(f),t.selection[4]==1&&(t.hoverData.selecting||t.touchData.selecting)){var c=t.cy.zoom(),d=i.core("selection-box-border-width").value/c;f.lineWidth=d,f.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",f.fillRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]),d>0&&(f.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",f.strokeRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]))}if(a.bgActivePosistion&&!t.hoverData.selecting){var c=t.cy.zoom(),v=a.bgActivePosistion;f.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",f.beginPath(),f.arc(v.x,v.y,i.core("active-bg-size").pfValue/c,0,2*Math.PI),f.fill()}var h=t.lastRedrawTime;if(t.showFps&&h){h=Math.round(h);var b=Math.round(1e3/h),m="1 frame = "+h+" ms = "+b+" fps";if(f.setTransform(1,0,0,1,0,0),f.fillStyle="rgba(255, 0, 0, 0.75)",f.strokeStyle="rgba(255, 0, 0, 0.75)",f.font="30px Arial",!Bo){var g=f.measureText(m);Bo=g.actualBoundingBoxAscent}f.fillText(m,0,Bo);var p=60;f.strokeRect(0,Bo+10,250,20),f.fillRect(0,Bo+10,250*Math.min(b/p,1),20)}u||(s[t.SELECT_BOX]=!1)}};function pE(e,r,t){var n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(n));return n}function D5(e,r,t){var n=pE(e,e.VERTEX_SHADER,r),a=pE(e,e.FRAGMENT_SHADER,t),i=e.createProgram();if(e.attachShader(i,n),e.attachShader(i,a),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw new Error("Could not initialize shaders");return i}function I5(e,r,t){t===void 0&&(t=r);var n=e.makeOffscreenCanvas(r,t),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function db(e){var r=e.pixelRatio,t=e.cy.zoom(),n=e.cy.pan();return{zoom:t*r,pan:{x:n.x*r,y:n.y*r}}}function L5(e){var r=e.pixelRatio,t=e.cy.zoom();return t*r}function O5(e,r,t,n,a){var i=n*t+r.x,o=a*t+r.y;return o=Math.round(e.canvasHeight-o),[i,o]}function M5(e){return e.pstyle("background-fill").value!=="solid"||e.pstyle("background-image").strValue!=="none"?!1:e.pstyle("border-width").value===0||e.pstyle("border-opacity").value===0?!0:e.pstyle("border-style").value==="solid"}function B5(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function Pa(e,r,t){var n=e[0]/255,a=e[1]/255,i=e[2]/255,o=r,u=t||new Array(4);return u[0]=n*o,u[1]=a*o,u[2]=i*o,u[3]=o,u}function pi(e,r){var t=r||new Array(4);return t[0]=(e>>0&255)/255,t[1]=(e>>8&255)/255,t[2]=(e>>16&255)/255,t[3]=(e>>24&255)/255,t}function N5(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function q5(e,r){var t=e.createTexture();return t.buffer=function(n){e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},t.deleteTexture=function(){e.deleteTexture(t)},t}function JD(e,r){switch(r){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function eI(e,r,t){switch(r){case e.FLOAT:return new Float32Array(t);case e.INT:return new Int32Array(t)}}function F5(e,r,t,n,a,i){switch(r){case e.FLOAT:return new Float32Array(t.buffer,i*n,a);case e.INT:return new Int32Array(t.buffer,i*n,a)}}function z5(e,r,t,n){var a=JD(e,r),i=hr(a,2),o=i[0],u=i[1],s=eI(e,u,n),l=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW),u===e.FLOAT?e.vertexAttribPointer(t,o,u,!1,0,0):u===e.INT&&e.vertexAttribIPointer(t,o,u,0,0),e.enableVertexAttribArray(t),e.bindBuffer(e.ARRAY_BUFFER,null),l}function nn(e,r,t,n){var a=JD(e,t),i=hr(a,3),o=i[0],u=i[1],s=i[2],l=eI(e,u,r*o),f=o*s,c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,r*f,e.DYNAMIC_DRAW),e.enableVertexAttribArray(n),u===e.FLOAT?e.vertexAttribPointer(n,o,u,!1,f,0):u===e.INT&&e.vertexAttribIPointer(n,o,u,f,0),e.vertexAttribDivisor(n,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var d=new Array(r),v=0;v<r;v++)d[v]=F5(e,u,l,f,o,v);return c.dataArray=l,c.stride=f,c.size=o,c.getView=function(h){return d[h]},c.setPoint=function(h,b,m){var g=d[h];g[0]=b,g[1]=m},c.bufferSubData=function(h){e.bindBuffer(e.ARRAY_BUFFER,c),h?e.bufferSubData(e.ARRAY_BUFFER,0,l,0,h*o):e.bufferSubData(e.ARRAY_BUFFER,0,l)},c}function V5(e,r,t){for(var n=9,a=new Float32Array(r*n),i=new Array(r),o=0;o<r;o++){var u=o*n*4;i[o]=new Float32Array(a.buffer,u,n)}var s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,a.byteLength,e.DYNAMIC_DRAW);for(var l=0;l<3;l++){var f=t+l;e.enableVertexAttribArray(f),e.vertexAttribPointer(f,3,e.FLOAT,!1,3*12,l*12),e.vertexAttribDivisor(f,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),s.getMatrixView=function(c){return i[c]},s.setData=function(c,d){i[d].set(c,0)},s.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferSubData(e.ARRAY_BUFFER,0,a)},s}function $5(e){var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r);var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.bindFramebuffer(e.FRAMEBUFFER,null),r.setFramebufferAttachmentSizes=function(n,a){e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,a,0,e.RGBA,e.UNSIGNED_BYTE,null)},r}var gE=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,r=arguments.length;r--;)e+=arguments[r]*arguments[r];return Math.sqrt(e)});function nv(){var e=new gE(9);return gE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function mE(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function U5(e,r,t){var n=r[0],a=r[1],i=r[2],o=r[3],u=r[4],s=r[5],l=r[6],f=r[7],c=r[8],d=t[0],v=t[1],h=t[2],b=t[3],m=t[4],g=t[5],p=t[6],y=t[7],w=t[8];return e[0]=d*n+v*o+h*l,e[1]=d*a+v*u+h*f,e[2]=d*i+v*s+h*c,e[3]=b*n+m*o+g*l,e[4]=b*a+m*u+g*f,e[5]=b*i+m*s+g*c,e[6]=p*n+y*o+w*l,e[7]=p*a+y*u+w*f,e[8]=p*i+y*s+w*c,e}function hl(e,r,t){var n=r[0],a=r[1],i=r[2],o=r[3],u=r[4],s=r[5],l=r[6],f=r[7],c=r[8],d=t[0],v=t[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=u,e[5]=s,e[6]=d*n+v*o+l,e[7]=d*a+v*u+f,e[8]=d*i+v*s+c,e}function yE(e,r,t){var n=r[0],a=r[1],i=r[2],o=r[3],u=r[4],s=r[5],l=r[6],f=r[7],c=r[8],d=Math.sin(t),v=Math.cos(t);return e[0]=v*n+d*o,e[1]=v*a+d*u,e[2]=v*i+d*s,e[3]=v*o-d*n,e[4]=v*u-d*a,e[5]=v*s-d*i,e[6]=l,e[7]=f,e[8]=c,e}function q0(e,r,t){var n=t[0],a=t[1];return e[0]=n*r[0],e[1]=n*r[1],e[2]=n*r[2],e[3]=a*r[3],e[4]=a*r[4],e[5]=a*r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e}function G5(e,r,t){return e[0]=2/r,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/t,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}var H5=function(){function e(r,t,n,a){Ea(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=r,this.texSize=t,this.texRows=n,this.texHeight=Math.floor(t/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=a(r,t,t),this.scratch=a(r,t,this.texHeight,"scratch")}return Sa(e,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(t){var n=t.w,a=t.h,i=this.texHeight,o=this.texSize,u=i/a,s=n*u,l=a*u;return s>o&&(u=o/n,s=n*u,l=a*u),{scale:u,texW:s,texH:l}}},{key:"draw",value:function(t,n,a){var i=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,u=this.texRows,s=this.texHeight,l=this.getScale(n),f=l.scale,c=l.texW,d=l.texH,v=function(y,w){if(a&&w){var E=w.context,S=y.x,x=y.row,C=S,_=s*x;E.save(),E.translate(C,_),E.scale(f,f),a(E,n),E.restore()}},h=[null,null],b=function(){v(i.freePointer,i.canvas),h[0]={x:i.freePointer.x,y:i.freePointer.row*s,w:c,h:d},h[1]={x:i.freePointer.x+c,y:i.freePointer.row*s,w:0,h:d},i.freePointer.x+=c,i.freePointer.x==o&&(i.freePointer.x=0,i.freePointer.row++)},m=function(){var y=i.scratch,w=i.canvas;y.clear(),v({x:0,row:0},y);var E=o-i.freePointer.x,S=c-E,x=s;{var C=i.freePointer.x,_=i.freePointer.row*s,k=E;w.context.drawImage(y,0,0,k,x,C,_,k,x),h[0]={x:C,y:_,w:k,h:d}}{var T=E,A=(i.freePointer.row+1)*s,R=S;w&&w.context.drawImage(y,T,0,R,x,0,A,R,x),h[1]={x:0,y:A,w:R,h:d}}i.freePointer.x=S,i.freePointer.row++},g=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+c<=o)b();else{if(this.freePointer.row>=u-1)return!1;this.freePointer.x===o?(g(),b()):this.enableWrapping?m():(g(),b())}return this.keyToLocation.set(t,h),this.needsBuffer=!0,h}},{key:"getOffsets",value:function(t){return this.keyToLocation.get(t)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(t){if(this.locked)return!1;var n=this.texSize,a=this.texRows,i=this.getScale(t),o=i.texW;return this.freePointer.x+o>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(t){this.texture||(this.texture=q5(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),W5=function(){function e(r,t,n,a){Ea(this,e),this.r=r,this.texSize=t,this.texRows=n,this.createTextureCanvas=a,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Sa(e,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var t=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas;return new H5(t,n,a,i)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var t=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas,o=Math.floor(n/a);this.scratch=i(t,n,o,"scratch")}return this.scratch}},{key:"draw",value:function(t,n,a){var i=this.styleKeyToAtlas.get(t);return i||(i=this.atlases[this.atlases.length-1],(!i||!i.canFit(n))&&(i&&i.lock(),i=this._createAtlas(),this.atlases.push(i)),i.draw(t,n,a),this.styleKeyToAtlas.set(t,i)),i}},{key:"getAtlas",value:function(t){return this.styleKeyToAtlas.get(t)}},{key:"hasAtlas",value:function(t){return this.styleKeyToAtlas.has(t)}},{key:"markKeyForGC",value:function(t){this.markedKeys.add(t)}},{key:"gc",value:function(){var t=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var a=[],i=new Map,o=null,u=vt(this.atlases),s;try{var l=function(){var c=s.value,d=c.getKeys(),v=K5(n,d);if(v.size===0)return a.push(c),d.forEach(function(E){return i.set(E,c)}),1;o||(o=t._createAtlas(),a.push(o));var h=vt(d),b;try{for(h.s();!(b=h.n()).done;){var m=b.value;if(!v.has(m)){var g=c.getOffsets(m),p=hr(g,2),y=p[0],w=p[1];o.canFit({w:y.w+w.w,h:y.h})||(o.lock(),o=t._createAtlas(),a.push(o)),c.canvas&&(t._copyTextureToNewAtlas(m,c,o),i.set(m,o))}}}catch(E){h.e(E)}finally{h.f()}c.dispose()};for(u.s();!(s=u.n()).done;)l()}catch(f){u.e(f)}finally{u.f()}this.atlases=a,this.styleKeyToAtlas=i,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(t,n,a){var i=n.getOffsets(t),o=hr(i,2),u=o[0],s=o[1];if(s.w===0)a.draw(t,u,function(d){d.drawImage(n.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h)});else{var l=this._getScratchCanvas();l.clear(),l.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h),l.context.drawImage(n.canvas,s.x,s.y,s.w,s.h,u.w,0,s.w,s.h);var f=u.w+s.w,c=u.h;a.draw(t,{w:f,h:c},function(d){d.drawImage(l,0,0,f,c,0,0,f,c)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function K5(e,r){return e.intersection?e.intersection(r):new Set(Fl(e).filter(function(t){return r.has(t)}))}var j5=function(){function e(r,t){Ea(this,e),this.r=r,this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Sa(e,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(t,n){var a=this.globalOptions,i=a.webglTexSize,o=a.createTextureCanvas,u=n.texRows,s=this._cacheScratchCanvas(o),l=new W5(this.r,i,u,s);this.collections.set(t,l)}},{key:"addRenderType",value:function(t,n){var a=n.collection;if(!this.collections.has(a))throw new Error("invalid atlas collection name '".concat(a,"'"));var i=this.collections.get(a),o=ke({type:t,atlasCollection:i},n);this.renderTypes.set(t,o)}},{key:"getRenderTypeOpts",value:function(t){return this.renderTypes.get(t)}},{key:"getAtlasCollection",value:function(t){return this.collections.get(t)}},{key:"_cacheScratchCanvas",value:function(t){var n=-1,a=-1,i=null;return function(o,u,s,l){return l?((!i||u!=n||s!=a)&&(n=u,a=s,i=t(o,u,s)),i):t(o,u,s)}}},{key:"_key",value:function(t,n){return"".concat(t,"-").concat(n)}},{key:"invalidate",value:function(t){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.forceRedraw,o=i===void 0?!1:i,u=a.filterEle,s=u===void 0?function(){return!0}:u,l=a.filterType,f=l===void 0?function(){return!0}:l,c=!1,d=!1,v=vt(t),h;try{for(v.s();!(h=v.n()).done;){var b=h.value;if(s(b)){var m=vt(this.renderTypes.values()),g;try{var p=function(){var w=g.value,E=w.type;if(f(E)){var S=n.collections.get(w.collection),x=w.getKey(b),C=Array.isArray(x)?x:[x];if(o)C.forEach(function(A){return S.markKeyForGC(A)}),d=!0;else{var _=w.getID?w.getID(b):b.id(),k=n._key(E,_),T=n.typeAndIdToKey.get(k);T!==void 0&&!B5(C,T)&&(c=!0,n.typeAndIdToKey.delete(k),T.forEach(function(A){return S.markKeyForGC(A)}))}}};for(m.s();!(g=m.n()).done;)p()}catch(y){m.e(y)}finally{m.f()}}}}catch(y){v.e(y)}finally{v.f()}return d&&(this.gc(),c=!1),c}},{key:"gc",value:function(){var t=vt(this.collections.values()),n;try{for(t.s();!(n=t.n()).done;){var a=n.value;a.gc()}}catch(i){t.e(i)}finally{t.f()}}},{key:"getOrCreateAtlas",value:function(t,n,a,i){var o=this.renderTypes.get(n),u=this.collections.get(o.collection),s=!1,l=u.draw(i,a,function(d){o.drawClipped?(d.save(),d.beginPath(),d.rect(0,0,a.w,a.h),d.clip(),o.drawElement(d,t,a,!0,!0),d.restore()):o.drawElement(d,t,a,!0,!0),s=!0});if(s){var f=o.getID?o.getID(t):t.id(),c=this._key(n,f);this.typeAndIdToKey.has(c)?this.typeAndIdToKey.get(c).push(i):this.typeAndIdToKey.set(c,[i])}return l}},{key:"getAtlasInfo",value:function(t,n){var a=this,i=this.renderTypes.get(n),o=i.getKey(t),u=Array.isArray(o)?o:[o];return u.map(function(s){var l=i.getBoundingBox(t,s),f=a.getOrCreateAtlas(t,n,l,s),c=f.getOffsets(s),d=hr(c,2),v=d[0],h=d[1];return{atlas:f,tex:v,tex1:v,tex2:h,bb:l}})}},{key:"getDebugInfo",value:function(){var t=[],n=vt(this.collections),a;try{for(n.s();!(a=n.n()).done;){var i=hr(a.value,2),o=i[0],u=i[1],s=u.getCounts(),l=s.keyCount,f=s.atlasCount;t.push({type:o,keyCount:l,atlasCount:f})}}catch(c){n.e(c)}finally{n.f()}return t}}])}(),Y5=function(){function e(r){Ea(this,e),this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.batchAtlases=[]}return Sa(e,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(t,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(t){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(t):!0}},{key:"getAtlasIndexForBatch",value:function(t){var n=this.batchAtlases.indexOf(t);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(t),n=this.batchAtlases.length-1}return n}}])}(),X5=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,Z5=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,Q5=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,J5=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,fu={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Zl={IGNORE:1,USE_BB:2},av=0,bE=1,wE=2,iv=3,gi=4,Vs=5,No=6,qo=7,e3=function(){function e(r,t,n){Ea(this,e),this.r=r,this.gl=t,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=I5,this.atlasManager=new j5(r,n),this.batchManager=new Y5(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(fu.SCREEN),this.pickingProgram=this._createShaderProgram(fu.PICKING),this.vao=this._createVAO()}return Sa(e,[{key:"addAtlasCollection",value:function(t,n){this.atlasManager.addAtlasCollection(t,n)}},{key:"addTextureAtlasRenderType",value:function(t,n){this.atlasManager.addRenderType(t,n)}},{key:"addSimpleShapeRenderType",value:function(t,n){this.simpleShapeOptions.set(t,n)}},{key:"invalidate",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,i=this.atlasManager;return a?i.invalidate(t,{filterType:function(u){return u===a},forceRedraw:!0}):i.invalidate(t)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(t){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(av,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(gi," || aVertType == ").concat(qo,` 
             || aVertType == `).concat(Vs," || aVertType == ").concat(No,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(bE,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(wE,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(iv,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),i=this.batchManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(i.map(function(l){return"uniform sampler2D uTexture".concat(l,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(X5,`
      `).concat(Z5,`
      `).concat(Q5,`
      `).concat(J5,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(av,`) {
          // look up the texel from the texture unit
          `).concat(i.map(function(l){return"if(vAtlasId == ".concat(l,") outColor = texture(uTexture").concat(l,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(iv,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(gi,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(gi," || vVertType == ").concat(qo,` 
          || vVertType == `).concat(Vs," || vVertType == ").concat(No,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(gi,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(qo,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(qo,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),u=D5(n,a,o);u.aPosition=n.getAttribLocation(u,"aPosition"),u.aIndex=n.getAttribLocation(u,"aIndex"),u.aVertType=n.getAttribLocation(u,"aVertType"),u.aTransform=n.getAttribLocation(u,"aTransform"),u.aAtlasId=n.getAttribLocation(u,"aAtlasId"),u.aTex=n.getAttribLocation(u,"aTex"),u.aPointAPointB=n.getAttribLocation(u,"aPointAPointB"),u.aPointCPointD=n.getAttribLocation(u,"aPointCPointD"),u.aLineWidth=n.getAttribLocation(u,"aLineWidth"),u.aColor=n.getAttribLocation(u,"aColor"),u.aCornerRadius=n.getAttribLocation(u,"aCornerRadius"),u.aBorderColor=n.getAttribLocation(u,"aBorderColor"),u.uPanZoomMatrix=n.getUniformLocation(u,"uPanZoomMatrix"),u.uAtlasSize=n.getUniformLocation(u,"uAtlasSize"),u.uBGColor=n.getUniformLocation(u,"uBGColor"),u.uZoom=n.getUniformLocation(u,"uZoom"),u.uTextures=[];for(var s=0;s<this.batchManager.getMaxAtlasesPerBatch();s++)u.uTextures.push(n.getUniformLocation(u,"uTexture".concat(s)));return u}},{key:"_createVAO",value:function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=t.length/2;var n=this.maxInstances,a=this.gl,i=this.program,o=a.createVertexArray();return a.bindVertexArray(o),z5(a,"vec2",i.aPosition,t),this.transformBuffer=V5(a,n,i.aTransform),this.indexBuffer=nn(a,n,"vec4",i.aIndex),this.vertTypeBuffer=nn(a,n,"int",i.aVertType),this.atlasIdBuffer=nn(a,n,"int",i.aAtlasId),this.texBuffer=nn(a,n,"vec4",i.aTex),this.pointAPointBBuffer=nn(a,n,"vec4",i.aPointAPointB),this.pointCPointDBuffer=nn(a,n,"vec4",i.aPointCPointD),this.lineWidthBuffer=nn(a,n,"vec2",i.aLineWidth),this.colorBuffer=nn(a,n,"vec4",i.aColor),this.cornerRadiusBuffer=nn(a,n,"vec4",i.aCornerRadius),this.borderColorBuffer=nn(a,n,"vec4",i.aBorderColor),a.bindVertexArray(null),o}},{key:"buffers",get:function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return Yn(n,"Buffer")}).map(function(n){return t[n]})),this._buffers}},{key:"startFrame",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fu.SCREEN;this.panZoomMatrix=t,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(t,n){return t.visible()?n&&n.isVisible?n.isVisible(t):!0:!1}},{key:"drawTexture",value:function(t,n,a){var i=this.atlasManager,o=this.batchManager,u=i.getRenderTypeOpts(a);if(this._isVisible(t,u)&&!(t.isEdge()&&!this._isValidEdge(t))){if(this.renderTarget.picking&&u.getTexPickingMode){var s=u.getTexPickingMode(t);if(s===Zl.IGNORE)return;if(s==Zl.USE_BB){this.drawPickingRectangle(t,n,a);return}}var l=i.getAtlasInfo(t,a),f=vt(l),c;try{for(f.s();!(c=f.n()).done;){var d=c.value,v=d.atlas,h=d.tex1,b=d.tex2;o.canAddToCurrentBatch(v)||this.endBatch();for(var m=o.getAtlasIndexForBatch(v),g=0,p=[[h,!0],[b,!1]];g<p.length;g++){var y=hr(p[g],2),w=y[0],E=y[1];if(w.w!=0){var S=this.instanceCount;this.vertTypeBuffer.getView(S)[0]=av;var x=this.indexBuffer.getView(S);pi(n,x);var C=this.atlasIdBuffer.getView(S);C[0]=m;var _=this.texBuffer.getView(S);_[0]=w.x,_[1]=w.y,_[2]=w.w,_[3]=w.h;var k=this.transformBuffer.getMatrixView(S);this.setTransformMatrix(t,k,u,d,E),this.instanceCount++,E||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(T){f.e(T)}finally{f.f()}}}},{key:"setTransformMatrix",value:function(t,n,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=0;if(a.shapeProps&&a.shapeProps.padding&&(u=t.pstyle(a.shapeProps.padding).pfValue),i){var s=i.bb,l=i.tex1,f=i.tex2,c=l.w/(l.w+f.w);o||(c=1-c);var d=this._getAdjustedBB(s,u,o,c);this._applyTransformMatrix(n,d,a,t)}else{var v=a.getBoundingBox(t),h=this._getAdjustedBB(v,u,!0,1);this._applyTransformMatrix(n,h,a,t)}}},{key:"_applyTransformMatrix",value:function(t,n,a,i){var o,u;mE(t);var s=a.getRotation?a.getRotation(i):0;if(s!==0){var l=a.getRotationPoint(i),f=l.x,c=l.y;hl(t,t,[f,c]),yE(t,t,s);var d=a.getRotationOffset(i);o=d.x+(n.xOffset||0),u=d.y+(n.yOffset||0)}else o=n.x1,u=n.y1;hl(t,t,[o,u]),q0(t,t,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(t,n,a,i){var o=t.x1,u=t.y1,s=t.w,l=t.h,f=t.yOffset;n&&(o-=n,u-=n,s+=2*n,l+=2*n);var c=0,d=s*i;return a&&i<1?s=d:!a&&i<1&&(c=s-d,o+=c,s=d),{x1:o,y1:u,w:s,h:l,xOffset:c,yOffset:f}}},{key:"drawPickingRectangle",value:function(t,n,a){var i=this.atlasManager.getRenderTypeOpts(a),o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=gi;var u=this.indexBuffer.getView(o);pi(n,u);var s=this.colorBuffer.getView(o);Pa([0,0,0],1,s);var l=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(t,l,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(t,n,a){var i=this.simpleShapeOptions.get(a);if(this._isVisible(t,i)){var o=i.shapeProps,u=this._getVertTypeForShape(t,o.shape);if(u===void 0||i.isSimple&&!i.isSimple(t)){this.drawTexture(t,n,a);return}var s=this.instanceCount;if(this.vertTypeBuffer.getView(s)[0]=u,u===Vs||u===No){var l=i.getBoundingBox(t),f=this._getCornerRadius(t,o.radius,l),c=this.cornerRadiusBuffer.getView(s);c[0]=f,c[1]=f,c[2]=f,c[3]=f,u===No&&(c[0]=0,c[2]=0)}var d=this.indexBuffer.getView(s);pi(n,d);var v=t.pstyle(o.color).value,h=t.pstyle(o.opacity).value,b=this.colorBuffer.getView(s);Pa(v,h,b);var m=this.lineWidthBuffer.getView(s);if(m[0]=0,m[1]=0,o.border){var g=t.pstyle("border-width").value;if(g>0){var p=t.pstyle("border-color").value,y=t.pstyle("border-opacity").value,w=this.borderColorBuffer.getView(s);Pa(p,y,w);var E=t.pstyle("border-position").value;if(E==="inside")m[0]=0,m[1]=-g;else if(E==="outside")m[0]=g,m[1]=0;else{var S=g/2;m[0]=S,m[1]=-S}}}var x=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(t,x,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(t,n){var a=t.pstyle(n).value;switch(a){case"rectangle":return gi;case"ellipse":return qo;case"roundrectangle":case"round-rectangle":return Vs;case"bottom-round-rectangle":return No;default:return}}},{key:"_getCornerRadius",value:function(t,n,a){var i=a.w,o=a.h;if(t.pstyle(n).value==="auto")return va(i,o);var u=t.pstyle(n).pfValue,s=i/2,l=o/2;return Math.min(u,l,s)}},{key:"drawEdgeArrow",value:function(t,n,a){if(t.visible()){var i=t._private.rscratch,o,u,s;if(a==="source"?(o=i.arrowStartX,u=i.arrowStartY,s=i.srcArrowAngle):(o=i.arrowEndX,u=i.arrowEndY,s=i.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(u)||u==null||isNaN(s)||s==null)){var l=t.pstyle(a+"-arrow-shape").value;if(l!=="none"){var f=t.pstyle(a+"-arrow-color").value,c=t.pstyle("opacity").value,d=t.pstyle("line-opacity").value,v=c*d,h=t.pstyle("width").pfValue,b=t.pstyle("arrow-scale").value,m=this.r.getArrowWidth(h,b),g=this.instanceCount,p=this.transformBuffer.getMatrixView(g);mE(p),hl(p,p,[o,u]),q0(p,p,[m,m]),yE(p,p,s),this.vertTypeBuffer.getView(g)[0]=iv;var y=this.indexBuffer.getView(g);pi(n,y);var w=this.colorBuffer.getView(g);Pa(f,v,w),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(t,n){if(t.visible()){var a=this._getEdgePoints(t);if(a){var i=t.pstyle("opacity").value,o=t.pstyle("line-opacity").value,u=t.pstyle("width").pfValue,s=t.pstyle("line-color").value,l=i*o;if(a.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),a.length==4){var f=this.instanceCount;this.vertTypeBuffer.getView(f)[0]=bE;var c=this.indexBuffer.getView(f);pi(n,c);var d=this.colorBuffer.getView(f);Pa(s,l,d);var v=this.lineWidthBuffer.getView(f);v[0]=u;var h=this.pointAPointBBuffer.getView(f);h[0]=a[0],h[1]=a[1],h[2]=a[2],h[3]=a[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var b=0;b<a.length-2;b+=2){var m=this.instanceCount;this.vertTypeBuffer.getView(m)[0]=wE;var g=this.indexBuffer.getView(m);pi(n,g);var p=this.colorBuffer.getView(m);Pa(s,l,p);var y=this.lineWidthBuffer.getView(m);y[0]=u;var w=a[b-2],E=a[b-1],S=a[b],x=a[b+1],C=a[b+2],_=a[b+3],k=a[b+4],T=a[b+5];b==0&&(w=2*S-C+.001,E=2*x-_+.001),b==a.length-4&&(k=2*C-S+.001,T=2*_-x+.001);var A=this.pointAPointBBuffer.getView(m);A[0]=w,A[1]=E,A[2]=S,A[3]=x;var R=this.pointCPointDBuffer.getView(m);R[0]=C,R[1]=_,R[2]=k,R[3]=T,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(t){var n=t._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(t){var n=t._private.rscratch;if(this._isValidEdge(t)){var a=n.allpts;if(a.length==4)return a;var i=this._getNumSegments(t);return this._getCurveSegmentPoints(a,i)}}},{key:"_getNumSegments",value:function(t){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(t,n){if(t.length==4)return t;for(var a=Array((n+1)*2),i=0;i<=n;i++)if(i==0)a[0]=t[0],a[1]=t[1];else if(i==n)a[i*2]=t[t.length-2],a[i*2+1]=t[t.length-1];else{var o=i/n;this._setCurvePoint(t,o,a,i*2)}return a}},{key:"_setCurvePoint",value:function(t,n,a,i){if(t.length<=2)a[i]=t[0],a[i+1]=t[1];else{for(var o=Array(t.length-2),u=0;u<o.length;u+=2){var s=(1-n)*t[u]+n*t[u+2],l=(1-n)*t[u+1]+n*t[u+3];o[u]=s,o[u+1]=l}return this._setCurvePoint(o,n,a,i)}}},{key:"endBatch",value:function(){var t=this.gl,n=this.vao,a=this.vertexCount,i=this.instanceCount;if(i!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(o),t.bindVertexArray(n);var u=vt(this.buffers),s;try{for(u.s();!(s=u.n()).done;){var l=s.value;l.bufferSubData(i)}}catch(h){u.e(h)}finally{u.f()}for(var f=this.batchManager.getAtlases(),c=0;c<f.length;c++)f[c].bufferIfNeeded(t);for(var d=0;d<f.length;d++)t.activeTexture(t.TEXTURE0+d),t.bindTexture(t.TEXTURE_2D,f[d].texture),t.uniform1i(o.uTextures[d],d);t.uniform1f(o.uZoom,L5(this.r)),t.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(o.uAtlasSize,this.batchManager.getAtlasSize());var v=Pa(this.bgColor,1);t.uniform4fv(o.uBGColor,v),t.drawArraysInstanced(t.TRIANGLES,0,a,i),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:i,atlasCount:f.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var t=this.atlasManager.getDebugInfo(),n=t.reduce(function(o,u){return o+u.atlasCount},0),a=this.batchDebugInfo,i=a.reduce(function(o,u){return o+u.count},0);return{atlasInfo:t,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:a.length,batchInfo:a,totalInstances:i}}}])}(),rI={};rI.initWebgl=function(e,r){var t=this,n=t.data.contexts[t.WEBGL];e.bgColor=r3(t),e.webglTexSize=Math.min(e.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),t.webglDebug=e.webglDebug,t.webglDebugShowAtlases=e.webglDebugShowAtlases,t.pickingFrameBuffer=$5(n),t.pickingFrameBuffer.needsDraw=!0,t.drawing=new e3(t,n,e);var a=function(c){return function(d){return t.getTextAngle(d,c)}},i=function(c){return function(d){var v=d.pstyle(c);return v&&v.value}},o=function(c){return function(d){return d.pstyle("".concat(c,"-opacity")).value>0}},u=function(c){var d=c.pstyle("text-events").strValue==="yes";return d?Zl.USE_BB:Zl.IGNORE},s=function(c){var d=c.position(),v=d.x,h=d.y,b=c.outerWidth(),m=c.outerHeight();return{w:b,h:m,x1:v-b/2,y1:h-m/2}};t.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),t.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),t.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:r.getStyleKey,getBoundingBox:r.getElementBox,drawElement:r.drawElement}),t.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:s,isSimple:M5,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),t.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:s,isVisible:o("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),t.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:s,isVisible:o("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),t.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:u,getKey:ov(r.getLabelKey,null),getBoundingBox:uv(r.getLabelBox,null),drawClipped:!0,drawElement:r.drawLabel,getRotation:a(null),getRotationPoint:r.getLabelRotationPoint,getRotationOffset:r.getLabelRotationOffset,isVisible:i("label")}),t.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:u,getKey:ov(r.getSourceLabelKey,"source"),getBoundingBox:uv(r.getSourceLabelBox,"source"),drawClipped:!0,drawElement:r.drawSourceLabel,getRotation:a("source"),getRotationPoint:r.getSourceLabelRotationPoint,getRotationOffset:r.getSourceLabelRotationOffset,isVisible:i("source-label")}),t.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:u,getKey:ov(r.getTargetLabelKey,"target"),getBoundingBox:uv(r.getTargetLabelBox,"target"),drawClipped:!0,drawElement:r.drawTargetLabel,getRotation:a("target"),getRotationPoint:r.getTargetLabelRotationPoint,getRotationOffset:r.getTargetLabelRotationOffset,isVisible:i("target-label")});var l=Qu(function(){console.log("garbage collect flag set"),t.data.gc=!0},1e4);t.onUpdateEleCalcs(function(f,c){var d=!1;c&&c.length>0&&(d|=t.drawing.invalidate(c)),d&&l()}),t3(t)};function r3(e){var r=e.cy.container(),t=r&&r.style&&r.style.backgroundColor||"white";return RP(t)}function tI(e,r){var t=e._private.rscratch;return ft(t,"labelWrapCachedLines",r)||[]}var ov=function(r,t){return function(n){var a=r(n),i=tI(n,t);return i.length>1?i.map(function(o,u){return"".concat(a,"_").concat(u)}):a}},uv=function(r,t){return function(n,a){var i=r(n);if(typeof a=="string"){var o=a.indexOf("_");if(o>0){var u=Number(a.substring(o+1)),s=tI(n,t),l=i.h/s.length,f=l*u,c=i.y1+f;return{x1:i.x1,w:i.w,y1:c,h:l,yOffset:f}}}return i}};function t3(e){{var r=e.render;e.render=function(i){i=i||{};var o=e.cy;e.webgl&&(o.zoom()>jD?(n3(e),r.call(e,i)):(a3(e),aI(e,i,fu.SCREEN)))}}{var t=e.matchCanvasSize;e.matchCanvasSize=function(i){t.call(e,i),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(i,o,u,s){return f3(e,i,o)};{var n=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){n.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var a=e.notify;e.notify=function(i,o){a.call(e,i,o),i==="viewport"||i==="bounds"?e.pickingFrameBuffer.needsDraw=!0:i==="background"&&e.drawing.invalidate(o,{type:"node-body"})}}}function n3(e){var r=e.data.contexts[e.WEBGL];r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT)}function a3(e){var r=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.canvasWidth,e.canvasHeight),n.restore()};r(e.data.contexts[e.NODE]),r(e.data.contexts[e.DRAG])}function i3(e){var r=e.canvasWidth,t=e.canvasHeight,n=db(e),a=n.pan,i=n.zoom,o=nv();hl(o,o,[a.x,a.y]),q0(o,o,[i,i]);var u=nv();G5(u,r,t);var s=nv();return U5(s,u,o),s}function nI(e,r){var t=e.canvasWidth,n=e.canvasHeight,a=db(e),i=a.pan,o=a.zoom;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t,n),r.translate(i.x,i.y),r.scale(o,o)}function o3(e,r){e.drawSelectionRectangle(r,function(t){return nI(e,t)})}function u3(e){var r=e.data.contexts[e.NODE];r.save(),nI(e,r),r.strokeStyle="rgba(0, 0, 0, 0.3)",r.beginPath(),r.moveTo(-1e3,0),r.lineTo(1e3,0),r.stroke(),r.beginPath(),r.moveTo(0,-1e3),r.lineTo(0,1e3),r.stroke(),r.restore()}function s3(e){var r=function(a,i,o){for(var u=a.atlasManager.getAtlasCollection(i),s=e.data.contexts[e.NODE],l=u.atlases,f=0;f<l.length;f++){var c=l[f],d=c.canvas;if(d){var v=d.width,h=d.height,b=v*f,m=d.height*o,g=.4;s.save(),s.scale(g,g),s.drawImage(d,b,m),s.strokeStyle="black",s.rect(b,m,v,h),s.stroke(),s.restore()}}},t=0;r(e.drawing,"node",t++),r(e.drawing,"label",t++)}function l3(e,r,t,n,a){var i,o,u,s,l=db(e),f=l.pan,c=l.zoom;{var d=O5(e,f,c,r,t),v=hr(d,2),h=v[0],b=v[1],m=6;i=h-m/2,o=b-m/2,u=m,s=m}if(u===0||s===0)return[];var g=e.data.contexts[e.WEBGL];g.bindFramebuffer(g.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(g.viewport(0,0,g.canvas.width,g.canvas.height),aI(e,null,fu.PICKING),e.pickingFrameBuffer.needsDraw=!1);var p=u*s,y=new Uint8Array(p*4);g.readPixels(i,o,u,s,g.RGBA,g.UNSIGNED_BYTE,y),g.bindFramebuffer(g.FRAMEBUFFER,null);for(var w=new Set,E=0;E<p;E++){var S=y.slice(E*4,E*4+4),x=N5(S)-1;x>=0&&w.add(x)}return w}function f3(e,r,t){var n=l3(e,r,t),a=e.getCachedZSortedEles(),i,o,u=vt(n),s;try{for(u.s();!(s=u.n()).done;){var l=s.value,f=a[l];if(!i&&f.isNode()&&(i=f),!o&&f.isEdge()&&(o=f),i&&o)break}}catch(c){u.e(c)}finally{u.f()}return[i,o].filter(Boolean)}function sv(e,r,t){var n=e.drawing;r+=1,t.isNode()?(n.drawNode(t,r,"node-underlay"),n.drawNode(t,r,"node-body"),n.drawTexture(t,r,"label"),n.drawNode(t,r,"node-overlay")):(n.drawEdgeLine(t,r),n.drawEdgeArrow(t,r,"source"),n.drawEdgeArrow(t,r,"target"),n.drawTexture(t,r,"label"),n.drawTexture(t,r,"edge-source-label"),n.drawTexture(t,r,"edge-target-label"))}function aI(e,r,t){var n;e.webglDebug&&(n=performance.now());var a=e.drawing,i=0;if(t.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&o3(e,r),e.data.canvasNeedsRedraw[e.NODE]||t.picking){var o=e.data.contexts[e.WEBGL];t.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var u=i3(e),s=e.getCachedZSortedEles();if(i=s.length,a.startFrame(u,t),t.screen){for(var l=0;l<s.nondrag.length;l++)sv(e,l,s.nondrag[l]);for(var f=0;f<s.drag.length;f++)sv(e,f,s.drag[f])}else if(t.picking)for(var c=0;c<s.length;c++)sv(e,c,s[c]);a.endFrame(),t.screen&&e.webglDebugShowAtlases&&(u3(e),s3(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var d=performance.now(),v=!1,h=Math.ceil(d-n),b=a.getDebugInfo(),m=["".concat(i," elements"),"".concat(b.totalInstances," instances"),"".concat(b.batchCount," batches"),"".concat(b.totalAtlases," atlases"),"".concat(b.wrappedCount," wrapped textures"),"".concat(b.simpleCount," simple shapes")].join(", ");if(v)console.log("WebGL (".concat(t.name,") - time ").concat(h,"ms, ").concat(m));else{console.log("WebGL (".concat(t.name,") - frame time ").concat(h,"ms")),console.log("Totals:"),console.log("  ".concat(m)),console.log("Texture Atlases Used:");var g=b.atlasInfo,p=vt(g),y;try{for(p.s();!(y=p.n()).done;){var w=y.value;console.log("  ".concat(w.type,": ").concat(w.keyCount," keys, ").concat(w.atlasCount," atlases"))}}catch(E){p.e(E)}finally{p.f()}console.log("")}}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,a.gc())}var _a={};_a.drawPolygonPath=function(e,r,t,n,a,i){var o=n/2,u=a/2;e.beginPath&&e.beginPath(),e.moveTo(r+o*i[0],t+u*i[1]);for(var s=1;s<i.length/2;s++)e.lineTo(r+o*i[s*2],t+u*i[s*2+1]);e.closePath()};_a.drawRoundPolygonPath=function(e,r,t,n,a,i,o){o.forEach(function(u){return FD(e,u)}),e.closePath()};_a.drawRoundRectanglePath=function(e,r,t,n,a,i){var o=n/2,u=a/2,s=i==="auto"?va(n,a):Math.min(i,u,o);e.beginPath&&e.beginPath(),e.moveTo(r,t-u),e.arcTo(r+o,t-u,r+o,t,s),e.arcTo(r+o,t+u,r,t+u,s),e.arcTo(r-o,t+u,r-o,t,s),e.arcTo(r-o,t-u,r,t-u,s),e.lineTo(r,t-u),e.closePath()};_a.drawBottomRoundRectanglePath=function(e,r,t,n,a,i){var o=n/2,u=a/2,s=i==="auto"?va(n,a):i;e.beginPath&&e.beginPath(),e.moveTo(r,t-u),e.lineTo(r+o,t-u),e.lineTo(r+o,t),e.arcTo(r+o,t+u,r,t+u,s),e.arcTo(r-o,t+u,r-o,t,s),e.lineTo(r-o,t-u),e.lineTo(r,t-u),e.closePath()};_a.drawCutRectanglePath=function(e,r,t,n,a,i,o){var u=n/2,s=a/2,l=o==="auto"?Q1():o;e.beginPath&&e.beginPath(),e.moveTo(r-u+l,t-s),e.lineTo(r+u-l,t-s),e.lineTo(r+u,t-s+l),e.lineTo(r+u,t+s-l),e.lineTo(r+u-l,t+s),e.lineTo(r-u+l,t+s),e.lineTo(r-u,t+s-l),e.lineTo(r-u,t-s+l),e.closePath()};_a.drawBarrelPath=function(e,r,t,n,a){var i=n/2,o=a/2,u=r-i,s=r+i,l=t-o,f=t+o,c=C0(n,a),d=c.widthOffset,v=c.heightOffset,h=c.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(u,l+v),e.lineTo(u,f-v),e.quadraticCurveTo(u+h,f,u+d,f),e.lineTo(s-d,f),e.quadraticCurveTo(s-h,f,s,f-v),e.lineTo(s,l+v),e.quadraticCurveTo(s-h,l,s-d,l),e.lineTo(u+d,l),e.quadraticCurveTo(u+h,l,u,l+v),e.closePath()};var xE=Math.sin(0),EE=Math.cos(0),F0={},z0={},iI=Math.PI/40;for(var mi=0*Math.PI;mi<2*Math.PI;mi+=iI)F0[mi]=Math.sin(mi),z0[mi]=Math.cos(mi);_a.drawEllipsePath=function(e,r,t,n,a){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(r,t,n/2,a/2,0,0,2*Math.PI);else for(var i,o,u=n/2,s=a/2,l=0*Math.PI;l<2*Math.PI;l+=iI)i=r-u*F0[l]*xE+u*z0[l]*EE,o=t+s*z0[l]*xE+s*F0[l]*EE,l===0?e.moveTo(i,o):e.lineTo(i,o);e.closePath()};var as={};as.createBuffer=function(e,r){var t=document.createElement("canvas");return t.width=e,t.height=r,[t,t.getContext("2d")]};as.bufferCanvasImage=function(e){var r=this.cy,t=r.mutableElements(),n=t.boundingBox(),a=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):a[2],o=e.full?Math.ceil(n.h):a[3],u=oe(e.maxWidth)||oe(e.maxHeight),s=this.getPixelRatio(),l=1;if(e.scale!==void 0)i*=e.scale,o*=e.scale,l=e.scale;else if(u){var f=1/0,c=1/0;oe(e.maxWidth)&&(f=l*e.maxWidth/i),oe(e.maxHeight)&&(c=l*e.maxHeight/o),l=Math.min(f,c),i*=l,o*=l}u||(i*=s,o*=s,l*=s);var d=document.createElement("canvas");d.width=i,d.height=o,d.style.width=i+"px",d.style.height=o+"px";var v=d.getContext("2d");if(i>0&&o>0){v.clearRect(0,0,i,o),v.globalCompositeOperation="source-over";var h=this.getCachedZSortedEles();if(e.full)v.translate(-n.x1*l,-n.y1*l),v.scale(l,l),this.drawElements(v,h),v.scale(1/l,1/l),v.translate(n.x1*l,n.y1*l);else{var b=r.pan(),m={x:b.x*l,y:b.y*l};l*=r.zoom(),v.translate(m.x,m.y),v.scale(l,l),this.drawElements(v,h),v.scale(1/l,1/l),v.translate(-m.x,-m.y)}e.bg&&(v.globalCompositeOperation="destination-over",v.fillStyle=e.bg,v.rect(0,0,i,o),v.fill())}return d};function c3(e,r){for(var t=atob(e),n=new ArrayBuffer(t.length),a=new Uint8Array(n),i=0;i<t.length;i++)a[i]=t.charCodeAt(i);return new Blob([n],{type:r})}function SE(e){var r=e.indexOf(",");return e.substr(r+1)}function oI(e,r,t){var n=function(){return r.toDataURL(t,e.quality)};switch(e.output){case"blob-promise":return new fo(function(a,i){try{r.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},t,e.quality)}catch(o){i(o)}});case"blob":return c3(SE(n()),t);case"base64":return SE(n());case"base64uri":default:return n()}}as.png=function(e){return oI(e,this.bufferCanvasImage(e),"image/png")};as.jpg=function(e){return oI(e,this.bufferCanvasImage(e),"image/jpeg")};var uI={};uI.nodeShapeImpl=function(e,r,t,n,a,i,o,u){switch(e){case"ellipse":return this.drawEllipsePath(r,t,n,a,i);case"polygon":return this.drawPolygonPath(r,t,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(r,t,n,a,i,o,u);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(r,t,n,a,i,u);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(r,t,n,a,i,o,u);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(r,t,n,a,i,u);case"barrel":return this.drawBarrelPath(r,t,n,a,i)}};var d3=sI,Pe=sI.prototype;Pe.CANVAS_LAYERS=3;Pe.SELECT_BOX=0;Pe.DRAG=1;Pe.NODE=2;Pe.WEBGL=3;Pe.CANVAS_TYPES=["2d","2d","2d","webgl2"];Pe.BUFFER_COUNT=3;Pe.TEXTURE_BUFFER=0;Pe.MOTIONBLUR_BUFFER_NODE=1;Pe.MOTIONBLUR_BUFFER_DRAG=2;function sI(e){var r=this,t=r.cy.window(),n=t.document;e.webgl&&(Pe.CANVAS_LAYERS=r.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),r.data={canvases:new Array(Pe.CANVAS_LAYERS),contexts:new Array(Pe.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Pe.CANVAS_LAYERS),bufferCanvases:new Array(Pe.BUFFER_COUNT),bufferContexts:new Array(Pe.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";r.data.canvasContainer=n.createElement("div");var o=r.data.canvasContainer.style;r.data.canvasContainer.style[a]=i,o.position="relative",o.zIndex="0",o.overflow="hidden";var u=e.cy.container();u.appendChild(r.data.canvasContainer),u.style[a]=i;var s={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};oN()&&(s["-ms-touch-action"]="none",s["touch-action"]="none");for(var l=0;l<Pe.CANVAS_LAYERS;l++){var f=r.data.canvases[l]=n.createElement("canvas"),c=Pe.CANVAS_TYPES[l];r.data.contexts[l]=f.getContext(c),r.data.contexts[l]||rr("Could not create canvas of type "+c),Object.keys(s).forEach(function(j){f.style[j]=s[j]}),f.style.position="absolute",f.setAttribute("data-id","layer"+l),f.style.zIndex=String(Pe.CANVAS_LAYERS-l),r.data.canvasContainer.appendChild(f),r.data.canvasNeedsRedraw[l]=!1}r.data.topCanvas=r.data.canvases[0],r.data.canvases[Pe.NODE].setAttribute("data-id","layer"+Pe.NODE+"-node"),r.data.canvases[Pe.SELECT_BOX].setAttribute("data-id","layer"+Pe.SELECT_BOX+"-selectbox"),r.data.canvases[Pe.DRAG].setAttribute("data-id","layer"+Pe.DRAG+"-drag"),r.data.canvases[Pe.WEBGL]&&r.data.canvases[Pe.WEBGL].setAttribute("data-id","layer"+Pe.WEBGL+"-webgl");for(var l=0;l<Pe.BUFFER_COUNT;l++)r.data.bufferCanvases[l]=n.createElement("canvas"),r.data.bufferContexts[l]=r.data.bufferCanvases[l].getContext("2d"),r.data.bufferCanvases[l].style.position="absolute",r.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),r.data.bufferCanvases[l].style.zIndex=String(-l-1),r.data.bufferCanvases[l].style.visibility="hidden";r.pathsEnabled=!0;var d=nt(),v=function(U){return{x:(U.x1+U.x2)/2,y:(U.y1+U.y2)/2}},h=function(U){return{x:-U.w/2,y:-U.h/2}},b=function(U){var G=U[0]._private,K=G.oldBackgroundTimestamp===G.backgroundTimestamp;return!K},m=function(U){return U[0]._private.nodeKey},g=function(U){return U[0]._private.labelStyleKey},p=function(U){return U[0]._private.sourceLabelStyleKey},y=function(U){return U[0]._private.targetLabelStyleKey},w=function(U,G,K,X,ne){return r.drawElement(U,G,K,!1,!1,ne)},E=function(U,G,K,X,ne){return r.drawElementText(U,G,K,X,"main",ne)},S=function(U,G,K,X,ne){return r.drawElementText(U,G,K,X,"source",ne)},x=function(U,G,K,X,ne){return r.drawElementText(U,G,K,X,"target",ne)},C=function(U){return U.boundingBox(),U[0]._private.bodyBounds},_=function(U){return U.boundingBox(),U[0]._private.labelBounds.main||d},k=function(U){return U.boundingBox(),U[0]._private.labelBounds.source||d},T=function(U){return U.boundingBox(),U[0]._private.labelBounds.target||d},A=function(U,G){return G},R=function(U){return v(C(U))},I=function(U,G,K){var X=U?U+"-":"";return{x:G.x+K.pstyle(X+"text-margin-x").pfValue,y:G.y+K.pstyle(X+"text-margin-y").pfValue}},L=function(U,G,K){var X=U[0]._private.rscratch;return{x:X[G],y:X[K]}},B=function(U){return I("",L(U,"labelX","labelY"),U)},O=function(U){return I("source",L(U,"sourceLabelX","sourceLabelY"),U)},D=function(U){return I("target",L(U,"targetLabelX","targetLabelY"),U)},F=function(U){return h(C(U))},z=function(U){return h(k(U))},q=function(U){return h(T(U))},$=function(U){var G=_(U),K=h(_(U));if(U.isNode()){switch(U.pstyle("text-halign").value){case"left":K.x=-G.w-(G.leftPad||0);break;case"right":K.x=-(G.rightPad||0);break}switch(U.pstyle("text-valign").value){case"top":K.y=-G.h-(G.topPad||0);break;case"bottom":K.y=-(G.botPad||0);break}}return K},Y=r.data.eleTxrCache=new jo(r,{getKey:m,doesEleInvalidateKey:b,drawElement:w,getBoundingBox:C,getRotationPoint:R,getRotationOffset:F,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),M=r.data.lblTxrCache=new jo(r,{getKey:g,drawElement:E,getBoundingBox:_,getRotationPoint:B,getRotationOffset:$,isVisible:A}),N=r.data.slbTxrCache=new jo(r,{getKey:p,drawElement:S,getBoundingBox:k,getRotationPoint:O,getRotationOffset:z,isVisible:A}),V=r.data.tlbTxrCache=new jo(r,{getKey:y,drawElement:x,getBoundingBox:T,getRotationPoint:D,getRotationOffset:q,isVisible:A}),H=r.data.lyrTxrCache=new YD(r);r.onUpdateEleCalcs(function(U,G){Y.invalidateElements(G),M.invalidateElements(G),N.invalidateElements(G),V.invalidateElements(G),H.invalidateElements(G);for(var K=0;K<G.length;K++){var X=G[K]._private;X.oldBackgroundTimestamp=X.backgroundTimestamp}});var re=function(U){for(var G=0;G<U.length;G++)H.enqueueElementRefinement(U[G].ele)};Y.onDequeue(re),M.onDequeue(re),N.onDequeue(re),V.onDequeue(re),e.webgl&&r.initWebgl(e,{getStyleKey:m,getLabelKey:g,getSourceLabelKey:p,getTargetLabelKey:y,drawElement:w,drawLabel:E,drawSourceLabel:S,drawTargetLabel:x,getElementBox:C,getLabelBox:_,getSourceLabelBox:k,getTargetLabelBox:T,getElementRotationPoint:R,getElementRotationOffset:F,getLabelRotationPoint:B,getSourceLabelRotationPoint:O,getTargetLabelRotationPoint:D,getLabelRotationOffset:$,getSourceLabelRotationOffset:z,getTargetLabelRotationOffset:q})}Pe.redrawHint=function(e,r){var t=this;switch(e){case"eles":t.data.canvasNeedsRedraw[Pe.NODE]=r;break;case"drag":t.data.canvasNeedsRedraw[Pe.DRAG]=r;break;case"select":t.data.canvasNeedsRedraw[Pe.SELECT_BOX]=r;break;case"gc":t.data.gc=!0;break}};var v3=typeof Path2D<"u";Pe.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};Pe.usePaths=function(){return v3&&this.pathsEnabled};Pe.setImgSmoothing=function(e,r){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=r:(e.webkitImageSmoothingEnabled=r,e.mozImageSmoothingEnabled=r,e.msImageSmoothingEnabled=r)};Pe.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};Pe.makeOffscreenCanvas=function(e,r){var t;if((typeof OffscreenCanvas>"u"?"undefined":kr(OffscreenCanvas))!=="undefined")t=new OffscreenCanvas(e,r);else{var n=this.cy.window(),a=n.document;t=a.createElement("canvas"),t.width=e,t.height=r}return t};[XD,hn,Mn,cb,ni,ka,ot,rI,_a,as,uI].forEach(function(e){ke(Pe,e)});var h3=[{name:"null",impl:BD},{name:"base",impl:WD},{name:"canvas",impl:d3}],p3=[{type:"layout",extensions:z4},{type:"renderer",extensions:h3}],lI={},fI={};function cI(e,r,t){var n=t,a=function(C){Ge("Can not register `"+r+"` for `"+e+"` since `"+C+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(Bu.prototype[r])return a(r);Bu.prototype[r]=t}else if(e==="collection"){if(Nr.prototype[r])return a(r);Nr.prototype[r]=t}else if(e==="layout"){for(var i=function(C){this.options=C,t.call(this,C),Ve(this._private)||(this._private={}),this._private.cy=C.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(t.prototype),u=[],s=0;s<u.length;s++){var l=u[s];o[l]=o[l]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var f=t.prototype.stop;o.stop=function(){var x=this.options;if(x&&x.animate){var C=this.animations;if(C)for(var _=0;_<C.length;_++)C[_].stop()}return f?f.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var c=function(C){return C._private.cy},d={addEventFields:function(C,_){_.layout=C,_.cy=c(C),_.target=C},bubble:function(){return!0},parent:function(C){return c(C)}};ke(o,{createEmitter:function(){return this._private.emitter=new If(d,this),this},emitter:function(){return this._private.emitter},on:function(C,_){return this.emitter().on(C,_),this},one:function(C,_){return this.emitter().one(C,_),this},once:function(C,_){return this.emitter().one(C,_),this},removeListener:function(C,_){return this.emitter().removeListener(C,_),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(C,_){return this.emitter().emit(C,_),this}}),Ue.eventAliasesOn(o),n=i}else if(e==="renderer"&&r!=="null"&&r!=="base"){var v=dI("renderer","base"),h=v.prototype,b=t,m=t.prototype,g=function(){v.apply(this,arguments),b.apply(this,arguments)},p=g.prototype;for(var y in h){var w=h[y],E=m[y]!=null;if(E)return a(y);p[y]=w}for(var S in m)p[S]=m[S];h.clientFunctions.forEach(function(x){p[x]=p[x]||function(){rr("Renderer does not implement `renderer."+x+"()` on its prototype")}}),n=g}else if(e==="__proto__"||e==="constructor"||e==="prototype")return rr(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return PP({map:lI,keys:[e,r],value:n})}function dI(e,r){return DP({map:lI,keys:[e,r]})}function g3(e,r,t,n,a){return PP({map:fI,keys:[e,r,t,n],value:a})}function m3(e,r,t,n){return DP({map:fI,keys:[e,r,t,n]})}var V0=function(){if(arguments.length===2)return dI.apply(null,arguments);if(arguments.length===3)return cI.apply(null,arguments);if(arguments.length===4)return m3.apply(null,arguments);if(arguments.length===5)return g3.apply(null,arguments);rr("Invalid extension access syntax")};Bu.prototype.extension=V0;p3.forEach(function(e){e.extensions.forEach(function(r){cI(e.type,r.name,r.impl)})});var Ql=function(){if(!(this instanceof Ql))return new Ql;this.length=0},Ja=Ql.prototype;Ja.instanceString=function(){return"stylesheet"};Ja.selector=function(e){var r=this.length++;return this[r]={selector:e,properties:[]},this};Ja.css=function(e,r){var t=this.length-1;if(Se(e))this[t].properties.push({name:e,value:r});else if(Ve(e))for(var n=e,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],u=n[o];if(u!=null){var s=Dr.properties[o]||Dr.properties[Ef(o)];if(s!=null){var l=s.name,f=u;this[t].properties.push({name:l,value:f})}}}return this};Ja.style=Ja.css;Ja.generateStyle=function(e){var r=new Dr(e);return this.appendToStyle(r)};Ja.appendToStyle=function(e){for(var r=0;r<this.length;r++){var t=this[r],n=t.selector,a=t.properties;e.selector(n);for(var i=0;i<a.length;i++){var o=a[i];e.css(o.name,o.value)}}return e};var y3="3.33.1",ma=function(r){if(r===void 0&&(r={}),Ve(r))return new Bu(r);if(Se(r))return V0.apply(V0,arguments)};ma.use=function(e){var r=Array.prototype.slice.call(arguments,1);return r.unshift(ma),e.apply(null,r),this};ma.warnings=function(e){return qP(e)};ma.version=y3;ma.stylesheet=ma.Stylesheet=Ql;const{string:$s,array:CE,object:Us,number:Fo,bool:bt,oneOfType:yi,any:Gs,func:zo}=$B,b3={id:$s,className:$s,style:yi([$s,Us]),elements:yi([CE,Gs]),stylesheet:yi([CE,Gs]),layout:yi([Us,Gs]),pan:yi([Us,Gs]),zoom:Fo,panningEnabled:bt,userPanningEnabled:bt,minZoom:Fo,maxZoom:Fo,zoomingEnabled:bt,userZoomingEnabled:bt,boxSelectionEnabled:bt,autoungrabify:bt,autolock:bt,autounselectify:bt,get:zo,toJson:zo,diff:zo,forEach:zo,cy:zo,headless:bt,styleEnabled:bt,hideEdgesOnViewport:bt,textureOnViewport:bt,motionBlur:bt,motionBlurOpacity:Fo,wheelSensitivity:Fo,pixelRatio:yi([$s,Us])},vI=(e,r)=>{if(((i,o)=>i==null||o==null)(e,r)&&(e!=null||r!=null))return!0;if(e===r)return!1;if(typeof e!="object"||typeof r!="object")return e!==r;const t=Object.keys(e),n=Object.keys(r),a=i=>e[i]!==r[i];return t.length!==n.length||!(!t.some(a)&&!n.some(a))},Gt=(e,r)=>e!=null?e[r]:null,w3={diff:vI,get:Gt,toJson:e=>e,forEach:(e,r)=>e.forEach(r),elements:[{data:{id:"a",label:"Example node A"}},{data:{id:"b",label:"Example node B"}},{data:{id:"e",source:"a",target:"b"}}],stylesheet:[{selector:"node",style:{label:"data(label)"}}],zoom:1,pan:{x:0,y:0}},Hs=(e,r,t,n)=>t(Gt(e,n),Gt(r,n)),x3=(e,r,t,n,a,i,o)=>{e.batch(()=>{(n===vI||Hs(r,t,n,"elements"))&&k3(e,Gt(r,"elements"),Gt(t,"elements"),a,i,o,n),Hs(r,t,n,"stylesheet")&&C3(e,Gt(r,"stylesheet"),Gt(t,"stylesheet"),a),["zoom","minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","pan","panningEnabled","userPanningEnabled","boxSelectionEnabled","autoungrabify","autolock","autounselectify"].forEach(u=>{Hs(r,t,n,u)&&E3(e,u,Gt(r,u),Gt(t,u),a)})}),Hs(r,t,n,"layout")&&S3(e,Gt(r,"layout"),Gt(t,"layout"),a)},E3=(e,r,t,n,a)=>{e[r](a(n))},S3=(e,r,t,n)=>{const a=n(t);a!=null&&e.layout(a).run()},C3=(e,r,t,n)=>{const a=e.style();a!=null&&a.fromJson(n(t)).update()},k3=(e,r,t,n,a,i,o)=>{const u=[],s=e.collection(),l=[],f={},c={},d=v=>a(a(v,"data"),"id");i(t,v=>{const h=d(v);c[h]=v}),r!=null&&i(r,v=>{const h=d(v);f[h]=v,(b=>c[b]!=null)(h)||s.merge(e.getElementById(h))}),i(t,v=>{const h=d(v),b=(m=>f[m])(h);(m=>f[m]!=null)(h)?l.push({ele1:b,ele2:v}):u.push(n(v))}),s.length>0&&e.remove(s),u.length>0&&e.add(u),l.forEach(({ele1:v,ele2:h})=>_3(e,v,h,n,a,o))},_3=(e,r,t,n,a,i)=>{const o=a(a(t,"data"),"id"),u=e.getElementById(o),s={};["data","position","selected","selectable","locked","grabbable","classes"].forEach(f=>{const c=a(t,f);i(c,a(r,f))&&(s[f]=n(c))});const l=a(t,"scratch");i(l,a(r,"scratch"))&&u.scratch(n(l)),Object.keys(s).length>0&&u.json(s)};class T3 extends uc.Component{static get propTypes(){return b3}static get defaultProps(){return w3}static normalizeElements(r){if(r.length!=null)return r;{let{nodes:t,edges:n}=r;return t==null&&(t=[]),n==null&&(n=[]),t.concat(n)}}constructor(r){super(r),this.displayName="CytoscapeComponent",this.containerRef=uc.createRef()}componentDidMount(){const r=this.containerRef.current,{global:t,headless:n,styleEnabled:a,hideEdgesOnViewport:i,textureOnViewport:o,motionBlur:u,motionBlurOpacity:s,wheelSensitivity:l,pixelRatio:f}=this.props,c=this._cy=new ma({container:r,headless:n,styleEnabled:a,hideEdgesOnViewport:i,textureOnViewport:o,motionBlur:u,motionBlurOpacity:s,wheelSensitivity:l,pixelRatio:f});t&&(window[t]=c),this.updateCytoscape(null,this.props)}updateCytoscape(r,t){const n=this._cy,{diff:a,toJson:i,get:o,forEach:u}=t;x3(n,r,t,a,i,o,u),t.cy!=null&&t.cy(n)}componentDidUpdate(r){this.updateCytoscape(r,this.props)}componentWillUnmount(){this._cy.destroy()}render(){const{id:r,className:t,style:n}=this.props;return uc.createElement("div",{ref:this.containerRef,id:r,className:t,style:n})}}var hI={exports:{}};function vb(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lv,kE;function A3(){if(kE)return lv;kE=1;function e(){this.__data__=[],this.size=0}return lv=e,lv}var fv,_E;function go(){if(_E)return fv;_E=1;function e(r,t){return r===t||r!==r&&t!==t}return fv=e,fv}var cv,TE;function zf(){if(TE)return cv;TE=1;var e=go();function r(t,n){for(var a=t.length;a--;)if(e(t[a][0],n))return a;return-1}return cv=r,cv}var dv,AE;function R3(){if(AE)return dv;AE=1;var e=zf(),r=Array.prototype,t=r.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var u=i.length-1;return o==u?i.pop():t.call(i,o,1),--this.size,!0}return dv=n,dv}var vv,RE;function P3(){if(RE)return vv;RE=1;var e=zf();function r(t){var n=this.__data__,a=e(n,t);return a<0?void 0:n[a][1]}return vv=r,vv}var hv,PE;function D3(){if(PE)return hv;PE=1;var e=zf();function r(t){return e(this.__data__,t)>-1}return hv=r,hv}var pv,DE;function I3(){if(DE)return pv;DE=1;var e=zf();function r(t,n){var a=this.__data__,i=e(a,t);return i<0?(++this.size,a.push([t,n])):a[i][1]=n,this}return pv=r,pv}var gv,IE;function Vf(){if(IE)return gv;IE=1;var e=A3(),r=R3(),t=P3(),n=D3(),a=I3();function i(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var l=o[u];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=t,i.prototype.has=n,i.prototype.set=a,gv=i,gv}var mv,LE;function L3(){if(LE)return mv;LE=1;var e=Vf();function r(){this.__data__=new e,this.size=0}return mv=r,mv}var yv,OE;function O3(){if(OE)return yv;OE=1;function e(r){var t=this.__data__,n=t.delete(r);return this.size=t.size,n}return yv=e,yv}var bv,ME;function M3(){if(ME)return bv;ME=1;function e(r){return this.__data__.get(r)}return bv=e,bv}var wv,BE;function B3(){if(BE)return wv;BE=1;function e(r){return this.__data__.has(r)}return wv=e,wv}var xv,NE;function pI(){if(NE)return xv;NE=1;var e=typeof Vo=="object"&&Vo&&Vo.Object===Object&&Vo;return xv=e,xv}var Ev,qE;function en(){if(qE)return Ev;qE=1;var e=pI(),r=typeof self=="object"&&self&&self.Object===Object&&self,t=e||r||Function("return this")();return Ev=t,Ev}var Sv,FE;function mo(){if(FE)return Sv;FE=1;var e=en(),r=e.Symbol;return Sv=r,Sv}var Cv,zE;function N3(){if(zE)return Cv;zE=1;var e=mo(),r=Object.prototype,t=r.hasOwnProperty,n=r.toString,a=e?e.toStringTag:void 0;function i(o){var u=t.call(o,a),s=o[a];try{o[a]=void 0;var l=!0}catch{}var f=n.call(o);return l&&(u?o[a]=s:delete o[a]),f}return Cv=i,Cv}var kv,VE;function q3(){if(VE)return kv;VE=1;var e=Object.prototype,r=e.toString;function t(n){return r.call(n)}return kv=t,kv}var _v,$E;function ai(){if($E)return _v;$E=1;var e=mo(),r=N3(),t=q3(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(u){return u==null?u===void 0?a:n:i&&i in Object(u)?r(u):t(u)}return _v=o,_v}var Tv,UE;function qt(){if(UE)return Tv;UE=1;function e(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}return Tv=e,Tv}var Av,GE;function is(){if(GE)return Av;GE=1;var e=ai(),r=qt(),t="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(u){if(!r(u))return!1;var s=e(u);return s==n||s==a||s==t||s==i}return Av=o,Av}var Rv,HE;function F3(){if(HE)return Rv;HE=1;var e=en(),r=e["__core-js_shared__"];return Rv=r,Rv}var Pv,WE;function z3(){if(WE)return Pv;WE=1;var e=F3(),r=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!r&&r in n}return Pv=t,Pv}var Dv,KE;function gI(){if(KE)return Dv;KE=1;var e=Function.prototype,r=e.toString;function t(n){if(n!=null){try{return r.call(n)}catch{}try{return n+""}catch{}}return""}return Dv=t,Dv}var Iv,jE;function V3(){if(jE)return Iv;jE=1;var e=is(),r=z3(),t=qt(),n=gI(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,s=o.toString,l=u.hasOwnProperty,f=RegExp("^"+s.call(l).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function c(d){if(!t(d)||r(d))return!1;var v=e(d)?f:i;return v.test(n(d))}return Iv=c,Iv}var Lv,YE;function $3(){if(YE)return Lv;YE=1;function e(r,t){return r==null?void 0:r[t]}return Lv=e,Lv}var Ov,XE;function ii(){if(XE)return Ov;XE=1;var e=V3(),r=$3();function t(n,a){var i=r(n,a);return e(i)?i:void 0}return Ov=t,Ov}var Mv,ZE;function hb(){if(ZE)return Mv;ZE=1;var e=ii(),r=en(),t=e(r,"Map");return Mv=t,Mv}var Bv,QE;function $f(){if(QE)return Bv;QE=1;var e=ii(),r=e(Object,"create");return Bv=r,Bv}var Nv,JE;function U3(){if(JE)return Nv;JE=1;var e=$f();function r(){this.__data__=e?e(null):{},this.size=0}return Nv=r,Nv}var qv,eS;function G3(){if(eS)return qv;eS=1;function e(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}return qv=e,qv}var Fv,rS;function H3(){if(rS)return Fv;rS=1;var e=$f(),r="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function a(i){var o=this.__data__;if(e){var u=o[i];return u===r?void 0:u}return n.call(o,i)?o[i]:void 0}return Fv=a,Fv}var zv,tS;function W3(){if(tS)return zv;tS=1;var e=$f(),r=Object.prototype,t=r.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:t.call(i,a)}return zv=n,zv}var Vv,nS;function K3(){if(nS)return Vv;nS=1;var e=$f(),r="__lodash_hash_undefined__";function t(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?r:a,this}return Vv=t,Vv}var $v,aS;function j3(){if(aS)return $v;aS=1;var e=U3(),r=G3(),t=H3(),n=W3(),a=K3();function i(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var l=o[u];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=t,i.prototype.has=n,i.prototype.set=a,$v=i,$v}var Uv,iS;function Y3(){if(iS)return Uv;iS=1;var e=j3(),r=Vf(),t=hb();function n(){this.size=0,this.__data__={hash:new e,map:new(t||r),string:new e}}return Uv=n,Uv}var Gv,oS;function X3(){if(oS)return Gv;oS=1;function e(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}return Gv=e,Gv}var Hv,uS;function Uf(){if(uS)return Hv;uS=1;var e=X3();function r(t,n){var a=t.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Hv=r,Hv}var Wv,sS;function Z3(){if(sS)return Wv;sS=1;var e=Uf();function r(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}return Wv=r,Wv}var Kv,lS;function Q3(){if(lS)return Kv;lS=1;var e=Uf();function r(t){return e(this,t).get(t)}return Kv=r,Kv}var jv,fS;function J3(){if(fS)return jv;fS=1;var e=Uf();function r(t){return e(this,t).has(t)}return jv=r,jv}var Yv,cS;function e8(){if(cS)return Yv;cS=1;var e=Uf();function r(t,n){var a=e(this,t),i=a.size;return a.set(t,n),this.size+=a.size==i?0:1,this}return Yv=r,Yv}var Xv,dS;function pb(){if(dS)return Xv;dS=1;var e=Y3(),r=Z3(),t=Q3(),n=J3(),a=e8();function i(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var l=o[u];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=t,i.prototype.has=n,i.prototype.set=a,Xv=i,Xv}var Zv,vS;function r8(){if(vS)return Zv;vS=1;var e=Vf(),r=hb(),t=pb(),n=200;function a(i,o){var u=this.__data__;if(u instanceof e){var s=u.__data__;if(!r||s.length<n-1)return s.push([i,o]),this.size=++u.size,this;u=this.__data__=new t(s)}return u.set(i,o),this.size=u.size,this}return Zv=a,Zv}var Qv,hS;function Gf(){if(hS)return Qv;hS=1;var e=Vf(),r=L3(),t=O3(),n=M3(),a=B3(),i=r8();function o(u){var s=this.__data__=new e(u);this.size=s.size}return o.prototype.clear=r,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,Qv=o,Qv}var Jv,pS;function gb(){if(pS)return Jv;pS=1;function e(r,t){for(var n=-1,a=r==null?0:r.length;++n<a&&t(r[n],n,r)!==!1;);return r}return Jv=e,Jv}var eh,gS;function mI(){if(gS)return eh;gS=1;var e=ii(),r=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch{}}();return eh=r,eh}var rh,mS;function Hf(){if(mS)return rh;mS=1;var e=mI();function r(t,n,a){n=="__proto__"&&e?e(t,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[n]=a}return rh=r,rh}var th,yS;function Wf(){if(yS)return th;yS=1;var e=Hf(),r=go(),t=Object.prototype,n=t.hasOwnProperty;function a(i,o,u){var s=i[o];(!(n.call(i,o)&&r(s,u))||u===void 0&&!(o in i))&&e(i,o,u)}return th=a,th}var nh,bS;function os(){if(bS)return nh;bS=1;var e=Wf(),r=Hf();function t(n,a,i,o){var u=!i;i||(i={});for(var s=-1,l=a.length;++s<l;){var f=a[s],c=o?o(i[f],n[f],f,i,n):void 0;c===void 0&&(c=n[f]),u?r(i,f,c):e(i,f,c)}return i}return nh=t,nh}var ah,wS;function t8(){if(wS)return ah;wS=1;function e(r,t){for(var n=-1,a=Array(r);++n<r;)a[n]=t(n);return a}return ah=e,ah}var ih,xS;function pn(){if(xS)return ih;xS=1;function e(r){return r!=null&&typeof r=="object"}return ih=e,ih}var oh,ES;function n8(){if(ES)return oh;ES=1;var e=ai(),r=pn(),t="[object Arguments]";function n(a){return r(a)&&e(a)==t}return oh=n,oh}var uh,SS;function us(){if(SS)return uh;SS=1;var e=n8(),r=pn(),t=Object.prototype,n=t.hasOwnProperty,a=t.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(o){return r(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return uh=i,uh}var sh,CS;function mr(){if(CS)return sh;CS=1;var e=Array.isArray;return sh=e,sh}var Yo={exports:{}},lh,kS;function a8(){if(kS)return lh;kS=1;function e(){return!1}return lh=e,lh}Yo.exports;var _S;function yo(){return _S||(_S=1,function(e,r){var t=en(),n=a8(),a=r&&!r.nodeType&&r,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,u=o?t.Buffer:void 0,s=u?u.isBuffer:void 0,l=s||n;e.exports=l}(Yo,Yo.exports)),Yo.exports}var fh,TS;function Kf(){if(TS)return fh;TS=1;var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function t(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&r.test(n))&&n>-1&&n%1==0&&n<a}return fh=t,fh}var ch,AS;function mb(){if(AS)return ch;AS=1;var e=9007199254740991;function r(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=e}return ch=r,ch}var dh,RS;function i8(){if(RS)return dh;RS=1;var e=ai(),r=mb(),t=pn(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",u="[object Error]",s="[object Function]",l="[object Map]",f="[object Number]",c="[object Object]",d="[object RegExp]",v="[object Set]",h="[object String]",b="[object WeakMap]",m="[object ArrayBuffer]",g="[object DataView]",p="[object Float32Array]",y="[object Float64Array]",w="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",x="[object Uint8Array]",C="[object Uint8ClampedArray]",_="[object Uint16Array]",k="[object Uint32Array]",T={};T[p]=T[y]=T[w]=T[E]=T[S]=T[x]=T[C]=T[_]=T[k]=!0,T[n]=T[a]=T[m]=T[i]=T[g]=T[o]=T[u]=T[s]=T[l]=T[f]=T[c]=T[d]=T[v]=T[h]=T[b]=!1;function A(R){return t(R)&&r(R.length)&&!!T[e(R)]}return dh=A,dh}var vh,PS;function jf(){if(PS)return vh;PS=1;function e(r){return function(t){return r(t)}}return vh=e,vh}var Xo={exports:{}};Xo.exports;var DS;function yb(){return DS||(DS=1,function(e,r){var t=pI(),n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&t.process,u=function(){try{var s=a&&a.require&&a.require("util").types;return s||o&&o.binding&&o.binding("util")}catch{}}();e.exports=u}(Xo,Xo.exports)),Xo.exports}var hh,IS;function ss(){if(IS)return hh;IS=1;var e=i8(),r=jf(),t=yb(),n=t&&t.isTypedArray,a=n?r(n):e;return hh=a,hh}var ph,LS;function yI(){if(LS)return ph;LS=1;var e=t8(),r=us(),t=mr(),n=yo(),a=Kf(),i=ss(),o=Object.prototype,u=o.hasOwnProperty;function s(l,f){var c=t(l),d=!c&&r(l),v=!c&&!d&&n(l),h=!c&&!d&&!v&&i(l),b=c||d||v||h,m=b?e(l.length,String):[],g=m.length;for(var p in l)(f||u.call(l,p))&&!(b&&(p=="length"||v&&(p=="offset"||p=="parent")||h&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||a(p,g)))&&m.push(p);return m}return ph=s,ph}var gh,OS;function Yf(){if(OS)return gh;OS=1;var e=Object.prototype;function r(t){var n=t&&t.constructor,a=typeof n=="function"&&n.prototype||e;return t===a}return gh=r,gh}var mh,MS;function bI(){if(MS)return mh;MS=1;function e(r,t){return function(n){return r(t(n))}}return mh=e,mh}var yh,BS;function o8(){if(BS)return yh;BS=1;var e=bI(),r=e(Object.keys,Object);return yh=r,yh}var bh,NS;function bb(){if(NS)return bh;NS=1;var e=Yf(),r=o8(),t=Object.prototype,n=t.hasOwnProperty;function a(i){if(!e(i))return r(i);var o=[];for(var u in Object(i))n.call(i,u)&&u!="constructor"&&o.push(u);return o}return bh=a,bh}var wh,qS;function Bn(){if(qS)return wh;qS=1;var e=is(),r=mb();function t(n){return n!=null&&r(n.length)&&!e(n)}return wh=t,wh}var xh,FS;function Ta(){if(FS)return xh;FS=1;var e=yI(),r=bb(),t=Bn();function n(a){return t(a)?e(a):r(a)}return xh=n,xh}var Eh,zS;function u8(){if(zS)return Eh;zS=1;var e=os(),r=Ta();function t(n,a){return n&&e(a,r(a),n)}return Eh=t,Eh}var Sh,VS;function s8(){if(VS)return Sh;VS=1;function e(r){var t=[];if(r!=null)for(var n in Object(r))t.push(n);return t}return Sh=e,Sh}var Ch,$S;function l8(){if($S)return Ch;$S=1;var e=qt(),r=Yf(),t=s8(),n=Object.prototype,a=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var u=r(o),s=[];for(var l in o)l=="constructor"&&(u||!a.call(o,l))||s.push(l);return s}return Ch=i,Ch}var kh,US;function oi(){if(US)return kh;US=1;var e=yI(),r=l8(),t=Bn();function n(a){return t(a)?e(a,!0):r(a)}return kh=n,kh}var _h,GS;function f8(){if(GS)return _h;GS=1;var e=os(),r=oi();function t(n,a){return n&&e(a,r(a),n)}return _h=t,_h}var Zo={exports:{}};Zo.exports;var HS;function wI(){return HS||(HS=1,function(e,r){var t=en(),n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i?t.Buffer:void 0,u=o?o.allocUnsafe:void 0;function s(l,f){if(f)return l.slice();var c=l.length,d=u?u(c):new l.constructor(c);return l.copy(d),d}e.exports=s}(Zo,Zo.exports)),Zo.exports}var Th,WS;function xI(){if(WS)return Th;WS=1;function e(r,t){var n=-1,a=r.length;for(t||(t=Array(a));++n<a;)t[n]=r[n];return t}return Th=e,Th}var Ah,KS;function EI(){if(KS)return Ah;KS=1;function e(r,t){for(var n=-1,a=r==null?0:r.length,i=0,o=[];++n<a;){var u=r[n];t(u,n,r)&&(o[i++]=u)}return o}return Ah=e,Ah}var Rh,jS;function SI(){if(jS)return Rh;jS=1;function e(){return[]}return Rh=e,Rh}var Ph,YS;function wb(){if(YS)return Ph;YS=1;var e=EI(),r=SI(),t=Object.prototype,n=t.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(u){return n.call(o,u)}))}:r;return Ph=i,Ph}var Dh,XS;function c8(){if(XS)return Dh;XS=1;var e=os(),r=wb();function t(n,a){return e(n,r(n),a)}return Dh=t,Dh}var Ih,ZS;function xb(){if(ZS)return Ih;ZS=1;function e(r,t){for(var n=-1,a=t.length,i=r.length;++n<a;)r[i+n]=t[n];return r}return Ih=e,Ih}var Lh,QS;function Xf(){if(QS)return Lh;QS=1;var e=bI(),r=e(Object.getPrototypeOf,Object);return Lh=r,Lh}var Oh,JS;function CI(){if(JS)return Oh;JS=1;var e=xb(),r=Xf(),t=wb(),n=SI(),a=Object.getOwnPropertySymbols,i=a?function(o){for(var u=[];o;)e(u,t(o)),o=r(o);return u}:n;return Oh=i,Oh}var Mh,eC;function d8(){if(eC)return Mh;eC=1;var e=os(),r=CI();function t(n,a){return e(n,r(n),a)}return Mh=t,Mh}var Bh,rC;function kI(){if(rC)return Bh;rC=1;var e=xb(),r=mr();function t(n,a,i){var o=a(n);return r(n)?o:e(o,i(n))}return Bh=t,Bh}var Nh,tC;function _I(){if(tC)return Nh;tC=1;var e=kI(),r=wb(),t=Ta();function n(a){return e(a,t,r)}return Nh=n,Nh}var qh,nC;function v8(){if(nC)return qh;nC=1;var e=kI(),r=CI(),t=oi();function n(a){return e(a,t,r)}return qh=n,qh}var Fh,aC;function h8(){if(aC)return Fh;aC=1;var e=ii(),r=en(),t=e(r,"DataView");return Fh=t,Fh}var zh,iC;function p8(){if(iC)return zh;iC=1;var e=ii(),r=en(),t=e(r,"Promise");return zh=t,zh}var Vh,oC;function TI(){if(oC)return Vh;oC=1;var e=ii(),r=en(),t=e(r,"Set");return Vh=t,Vh}var $h,uC;function g8(){if(uC)return $h;uC=1;var e=ii(),r=en(),t=e(r,"WeakMap");return $h=t,$h}var Uh,sC;function bo(){if(sC)return Uh;sC=1;var e=h8(),r=hb(),t=p8(),n=TI(),a=g8(),i=ai(),o=gI(),u="[object Map]",s="[object Object]",l="[object Promise]",f="[object Set]",c="[object WeakMap]",d="[object DataView]",v=o(e),h=o(r),b=o(t),m=o(n),g=o(a),p=i;return(e&&p(new e(new ArrayBuffer(1)))!=d||r&&p(new r)!=u||t&&p(t.resolve())!=l||n&&p(new n)!=f||a&&p(new a)!=c)&&(p=function(y){var w=i(y),E=w==s?y.constructor:void 0,S=E?o(E):"";if(S)switch(S){case v:return d;case h:return u;case b:return l;case m:return f;case g:return c}return w}),Uh=p,Uh}var Gh,lC;function m8(){if(lC)return Gh;lC=1;var e=Object.prototype,r=e.hasOwnProperty;function t(n){var a=n.length,i=new n.constructor(a);return a&&typeof n[0]=="string"&&r.call(n,"index")&&(i.index=n.index,i.input=n.input),i}return Gh=t,Gh}var Hh,fC;function AI(){if(fC)return Hh;fC=1;var e=en(),r=e.Uint8Array;return Hh=r,Hh}var Wh,cC;function Eb(){if(cC)return Wh;cC=1;var e=AI();function r(t){var n=new t.constructor(t.byteLength);return new e(n).set(new e(t)),n}return Wh=r,Wh}var Kh,dC;function y8(){if(dC)return Kh;dC=1;var e=Eb();function r(t,n){var a=n?e(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}return Kh=r,Kh}var jh,vC;function b8(){if(vC)return jh;vC=1;var e=/\w*$/;function r(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}return jh=r,jh}var Yh,hC;function w8(){if(hC)return Yh;hC=1;var e=mo(),r=e?e.prototype:void 0,t=r?r.valueOf:void 0;function n(a){return t?Object(t.call(a)):{}}return Yh=n,Yh}var Xh,pC;function RI(){if(pC)return Xh;pC=1;var e=Eb();function r(t,n){var a=n?e(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}return Xh=r,Xh}var Zh,gC;function x8(){if(gC)return Zh;gC=1;var e=Eb(),r=y8(),t=b8(),n=w8(),a=RI(),i="[object Boolean]",o="[object Date]",u="[object Map]",s="[object Number]",l="[object RegExp]",f="[object Set]",c="[object String]",d="[object Symbol]",v="[object ArrayBuffer]",h="[object DataView]",b="[object Float32Array]",m="[object Float64Array]",g="[object Int8Array]",p="[object Int16Array]",y="[object Int32Array]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",x="[object Uint32Array]";function C(_,k,T){var A=_.constructor;switch(k){case v:return e(_);case i:case o:return new A(+_);case h:return r(_,T);case b:case m:case g:case p:case y:case w:case E:case S:case x:return a(_,T);case u:return new A;case s:case c:return new A(_);case l:return t(_);case f:return new A;case d:return n(_)}}return Zh=C,Zh}var Qh,mC;function PI(){if(mC)return Qh;mC=1;var e=qt(),r=Object.create,t=function(){function n(){}return function(a){if(!e(a))return{};if(r)return r(a);n.prototype=a;var i=new n;return n.prototype=void 0,i}}();return Qh=t,Qh}var Jh,yC;function DI(){if(yC)return Jh;yC=1;var e=PI(),r=Xf(),t=Yf();function n(a){return typeof a.constructor=="function"&&!t(a)?e(r(a)):{}}return Jh=n,Jh}var ep,bC;function E8(){if(bC)return ep;bC=1;var e=bo(),r=pn(),t="[object Map]";function n(a){return r(a)&&e(a)==t}return ep=n,ep}var rp,wC;function S8(){if(wC)return rp;wC=1;var e=E8(),r=jf(),t=yb(),n=t&&t.isMap,a=n?r(n):e;return rp=a,rp}var tp,xC;function C8(){if(xC)return tp;xC=1;var e=bo(),r=pn(),t="[object Set]";function n(a){return r(a)&&e(a)==t}return tp=n,tp}var np,EC;function k8(){if(EC)return np;EC=1;var e=C8(),r=jf(),t=yb(),n=t&&t.isSet,a=n?r(n):e;return np=a,np}var ap,SC;function II(){if(SC)return ap;SC=1;var e=Gf(),r=gb(),t=Wf(),n=u8(),a=f8(),i=wI(),o=xI(),u=c8(),s=d8(),l=_I(),f=v8(),c=bo(),d=m8(),v=x8(),h=DI(),b=mr(),m=yo(),g=S8(),p=qt(),y=k8(),w=Ta(),E=oi(),S=1,x=2,C=4,_="[object Arguments]",k="[object Array]",T="[object Boolean]",A="[object Date]",R="[object Error]",I="[object Function]",L="[object GeneratorFunction]",B="[object Map]",O="[object Number]",D="[object Object]",F="[object RegExp]",z="[object Set]",q="[object String]",$="[object Symbol]",Y="[object WeakMap]",M="[object ArrayBuffer]",N="[object DataView]",V="[object Float32Array]",H="[object Float64Array]",re="[object Int8Array]",j="[object Int16Array]",U="[object Int32Array]",G="[object Uint8Array]",K="[object Uint8ClampedArray]",X="[object Uint16Array]",ne="[object Uint32Array]",ie={};ie[_]=ie[k]=ie[M]=ie[N]=ie[T]=ie[A]=ie[V]=ie[H]=ie[re]=ie[j]=ie[U]=ie[B]=ie[O]=ie[D]=ie[F]=ie[z]=ie[q]=ie[$]=ie[G]=ie[K]=ie[X]=ie[ne]=!0,ie[R]=ie[I]=ie[Y]=!1;function Ae(ue,xe,me,se,pe,de){var ge,ye=xe&S,Te=xe&x,Be=xe&C;if(me&&(ge=pe?me(ue,se,pe,de):me(ue)),ge!==void 0)return ge;if(!p(ue))return ue;var Ne=b(ue);if(Ne){if(ge=d(ue),!ye)return o(ue,ge)}else{var Le=c(ue),qe=Le==I||Le==L;if(m(ue))return i(ue,ye);if(Le==D||Le==_||qe&&!pe){if(ge=Te||qe?{}:h(ue),!ye)return Te?s(ue,a(ge,ue)):u(ue,n(ge,ue))}else{if(!ie[Le])return pe?ue:{};ge=v(ue,Le,ye)}}de||(de=new e);var _e=de.get(ue);if(_e)return _e;de.set(ue,ge),y(ue)?ue.forEach(function(P){ge.add(Ae(P,xe,me,P,ue,de))}):g(ue)&&ue.forEach(function(P,W){ge.set(W,Ae(P,xe,me,W,ue,de))});var le=Be?Te?f:l:Te?E:w,J=Ne?void 0:le(ue);return r(J||ue,function(P,W){J&&(W=P,P=ue[W]),t(ge,W,Ae(P,xe,me,W,ue,de))}),ge}return ap=Ae,ap}var ip,CC;function _8(){if(CC)return ip;CC=1;var e=II(),r=4;function t(n){return e(n,r)}return ip=t,ip}var op,kC;function Sb(){if(kC)return op;kC=1;function e(r){return function(){return r}}return op=e,op}var up,_C;function T8(){if(_C)return up;_C=1;function e(r){return function(t,n,a){for(var i=-1,o=Object(t),u=a(t),s=u.length;s--;){var l=u[r?s:++i];if(n(o[l],l,o)===!1)break}return t}}return up=e,up}var sp,TC;function Cb(){if(TC)return sp;TC=1;var e=T8(),r=e();return sp=r,sp}var lp,AC;function kb(){if(AC)return lp;AC=1;var e=Cb(),r=Ta();function t(n,a){return n&&e(n,a,r)}return lp=t,lp}var fp,RC;function A8(){if(RC)return fp;RC=1;var e=Bn();function r(t,n){return function(a,i){if(a==null)return a;if(!e(a))return t(a,i);for(var o=a.length,u=n?o:-1,s=Object(a);(n?u--:++u<o)&&i(s[u],u,s)!==!1;);return a}}return fp=r,fp}var cp,PC;function Zf(){if(PC)return cp;PC=1;var e=kb(),r=A8(),t=r(e);return cp=t,cp}var dp,DC;function ui(){if(DC)return dp;DC=1;function e(r){return r}return dp=e,dp}var vp,IC;function LI(){if(IC)return vp;IC=1;var e=ui();function r(t){return typeof t=="function"?t:e}return vp=r,vp}var hp,LC;function OI(){if(LC)return hp;LC=1;var e=gb(),r=Zf(),t=LI(),n=mr();function a(i,o){var u=n(i)?e:r;return u(i,t(o))}return hp=a,hp}var pp,OC;function MI(){return OC||(OC=1,pp=OI()),pp}var gp,MC;function R8(){if(MC)return gp;MC=1;var e=Zf();function r(t,n){var a=[];return e(t,function(i,o,u){n(i,o,u)&&a.push(i)}),a}return gp=r,gp}var mp,BC;function P8(){if(BC)return mp;BC=1;var e="__lodash_hash_undefined__";function r(t){return this.__data__.set(t,e),this}return mp=r,mp}var yp,NC;function D8(){if(NC)return yp;NC=1;function e(r){return this.__data__.has(r)}return yp=e,yp}var bp,qC;function BI(){if(qC)return bp;qC=1;var e=pb(),r=P8(),t=D8();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=r,n.prototype.has=t,bp=n,bp}var wp,FC;function I8(){if(FC)return wp;FC=1;function e(r,t){for(var n=-1,a=r==null?0:r.length;++n<a;)if(t(r[n],n,r))return!0;return!1}return wp=e,wp}var xp,zC;function NI(){if(zC)return xp;zC=1;function e(r,t){return r.has(t)}return xp=e,xp}var Ep,VC;function qI(){if(VC)return Ep;VC=1;var e=BI(),r=I8(),t=NI(),n=1,a=2;function i(o,u,s,l,f,c){var d=s&n,v=o.length,h=u.length;if(v!=h&&!(d&&h>v))return!1;var b=c.get(o),m=c.get(u);if(b&&m)return b==u&&m==o;var g=-1,p=!0,y=s&a?new e:void 0;for(c.set(o,u),c.set(u,o);++g<v;){var w=o[g],E=u[g];if(l)var S=d?l(E,w,g,u,o,c):l(w,E,g,o,u,c);if(S!==void 0){if(S)continue;p=!1;break}if(y){if(!r(u,function(x,C){if(!t(y,C)&&(w===x||f(w,x,s,l,c)))return y.push(C)})){p=!1;break}}else if(!(w===E||f(w,E,s,l,c))){p=!1;break}}return c.delete(o),c.delete(u),p}return Ep=i,Ep}var Sp,$C;function L8(){if($C)return Sp;$C=1;function e(r){var t=-1,n=Array(r.size);return r.forEach(function(a,i){n[++t]=[i,a]}),n}return Sp=e,Sp}var Cp,UC;function _b(){if(UC)return Cp;UC=1;function e(r){var t=-1,n=Array(r.size);return r.forEach(function(a){n[++t]=a}),n}return Cp=e,Cp}var kp,GC;function O8(){if(GC)return kp;GC=1;var e=mo(),r=AI(),t=go(),n=qI(),a=L8(),i=_b(),o=1,u=2,s="[object Boolean]",l="[object Date]",f="[object Error]",c="[object Map]",d="[object Number]",v="[object RegExp]",h="[object Set]",b="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",p="[object DataView]",y=e?e.prototype:void 0,w=y?y.valueOf:void 0;function E(S,x,C,_,k,T,A){switch(C){case p:if(S.byteLength!=x.byteLength||S.byteOffset!=x.byteOffset)return!1;S=S.buffer,x=x.buffer;case g:return!(S.byteLength!=x.byteLength||!T(new r(S),new r(x)));case s:case l:case d:return t(+S,+x);case f:return S.name==x.name&&S.message==x.message;case v:case b:return S==x+"";case c:var R=a;case h:var I=_&o;if(R||(R=i),S.size!=x.size&&!I)return!1;var L=A.get(S);if(L)return L==x;_|=u,A.set(S,x);var B=n(R(S),R(x),_,k,T,A);return A.delete(S),B;case m:if(w)return w.call(S)==w.call(x)}return!1}return kp=E,kp}var _p,HC;function M8(){if(HC)return _p;HC=1;var e=_I(),r=1,t=Object.prototype,n=t.hasOwnProperty;function a(i,o,u,s,l,f){var c=u&r,d=e(i),v=d.length,h=e(o),b=h.length;if(v!=b&&!c)return!1;for(var m=v;m--;){var g=d[m];if(!(c?g in o:n.call(o,g)))return!1}var p=f.get(i),y=f.get(o);if(p&&y)return p==o&&y==i;var w=!0;f.set(i,o),f.set(o,i);for(var E=c;++m<v;){g=d[m];var S=i[g],x=o[g];if(s)var C=c?s(x,S,g,o,i,f):s(S,x,g,i,o,f);if(!(C===void 0?S===x||l(S,x,u,s,f):C)){w=!1;break}E||(E=g=="constructor")}if(w&&!E){var _=i.constructor,k=o.constructor;_!=k&&"constructor"in i&&"constructor"in o&&!(typeof _=="function"&&_ instanceof _&&typeof k=="function"&&k instanceof k)&&(w=!1)}return f.delete(i),f.delete(o),w}return _p=a,_p}var Tp,WC;function B8(){if(WC)return Tp;WC=1;var e=Gf(),r=qI(),t=O8(),n=M8(),a=bo(),i=mr(),o=yo(),u=ss(),s=1,l="[object Arguments]",f="[object Array]",c="[object Object]",d=Object.prototype,v=d.hasOwnProperty;function h(b,m,g,p,y,w){var E=i(b),S=i(m),x=E?f:a(b),C=S?f:a(m);x=x==l?c:x,C=C==l?c:C;var _=x==c,k=C==c,T=x==C;if(T&&o(b)){if(!o(m))return!1;E=!0,_=!1}if(T&&!_)return w||(w=new e),E||u(b)?r(b,m,g,p,y,w):t(b,m,x,g,p,y,w);if(!(g&s)){var A=_&&v.call(b,"__wrapped__"),R=k&&v.call(m,"__wrapped__");if(A||R){var I=A?b.value():b,L=R?m.value():m;return w||(w=new e),y(I,L,g,p,w)}}return T?(w||(w=new e),n(b,m,g,p,y,w)):!1}return Tp=h,Tp}var Ap,KC;function FI(){if(KC)return Ap;KC=1;var e=B8(),r=pn();function t(n,a,i,o,u){return n===a?!0:n==null||a==null||!r(n)&&!r(a)?n!==n&&a!==a:e(n,a,i,o,t,u)}return Ap=t,Ap}var Rp,jC;function N8(){if(jC)return Rp;jC=1;var e=Gf(),r=FI(),t=1,n=2;function a(i,o,u,s){var l=u.length,f=l,c=!s;if(i==null)return!f;for(i=Object(i);l--;){var d=u[l];if(c&&d[2]?d[1]!==i[d[0]]:!(d[0]in i))return!1}for(;++l<f;){d=u[l];var v=d[0],h=i[v],b=d[1];if(c&&d[2]){if(h===void 0&&!(v in i))return!1}else{var m=new e;if(s)var g=s(h,b,v,i,o,m);if(!(g===void 0?r(b,h,t|n,s,m):g))return!1}}return!0}return Rp=a,Rp}var Pp,YC;function zI(){if(YC)return Pp;YC=1;var e=qt();function r(t){return t===t&&!e(t)}return Pp=r,Pp}var Dp,XC;function q8(){if(XC)return Dp;XC=1;var e=zI(),r=Ta();function t(n){for(var a=r(n),i=a.length;i--;){var o=a[i],u=n[o];a[i]=[o,u,e(u)]}return a}return Dp=t,Dp}var Ip,ZC;function VI(){if(ZC)return Ip;ZC=1;function e(r,t){return function(n){return n==null?!1:n[r]===t&&(t!==void 0||r in Object(n))}}return Ip=e,Ip}var Lp,QC;function F8(){if(QC)return Lp;QC=1;var e=N8(),r=q8(),t=VI();function n(a){var i=r(a);return i.length==1&&i[0][2]?t(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return Lp=n,Lp}var Op,JC;function wo(){if(JC)return Op;JC=1;var e=ai(),r=pn(),t="[object Symbol]";function n(a){return typeof a=="symbol"||r(a)&&e(a)==t}return Op=n,Op}var Mp,ek;function Tb(){if(ek)return Mp;ek=1;var e=mr(),r=wo(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||r(i)?!0:n.test(i)||!t.test(i)||o!=null&&i in Object(o)}return Mp=a,Mp}var Bp,rk;function z8(){if(rk)return Bp;rk=1;var e=pb(),r="Expected a function";function t(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(r);var i=function(){var o=arguments,u=a?a.apply(this,o):o[0],s=i.cache;if(s.has(u))return s.get(u);var l=n.apply(this,o);return i.cache=s.set(u,l)||s,l};return i.cache=new(t.Cache||e),i}return t.Cache=e,Bp=t,Bp}var Np,tk;function V8(){if(tk)return Np;tk=1;var e=z8(),r=500;function t(n){var a=e(n,function(o){return i.size===r&&i.clear(),o}),i=a.cache;return a}return Np=t,Np}var qp,nk;function $8(){if(nk)return qp;nk=1;var e=V8(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(r,function(o,u,s,l){i.push(s?l.replace(t,"$1"):u||o)}),i});return qp=n,qp}var Fp,ak;function Qf(){if(ak)return Fp;ak=1;function e(r,t){for(var n=-1,a=r==null?0:r.length,i=Array(a);++n<a;)i[n]=t(r[n],n,r);return i}return Fp=e,Fp}var zp,ik;function U8(){if(ik)return zp;ik=1;var e=mo(),r=Qf(),t=mr(),n=wo(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(u){if(typeof u=="string")return u;if(t(u))return r(u,o)+"";if(n(u))return i?i.call(u):"";var s=u+"";return s=="0"&&1/u==-1/0?"-0":s}return zp=o,zp}var Vp,ok;function $I(){if(ok)return Vp;ok=1;var e=U8();function r(t){return t==null?"":e(t)}return Vp=r,Vp}var $p,uk;function Jf(){if(uk)return $p;uk=1;var e=mr(),r=Tb(),t=$8(),n=$I();function a(i,o){return e(i)?i:r(i,o)?[i]:t(n(i))}return $p=a,$p}var Up,sk;function ls(){if(sk)return Up;sk=1;var e=wo();function r(t){if(typeof t=="string"||e(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}return Up=r,Up}var Gp,lk;function ec(){if(lk)return Gp;lk=1;var e=Jf(),r=ls();function t(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[r(a[i++])];return i&&i==o?n:void 0}return Gp=t,Gp}var Hp,fk;function G8(){if(fk)return Hp;fk=1;var e=ec();function r(t,n,a){var i=t==null?void 0:e(t,n);return i===void 0?a:i}return Hp=r,Hp}var Wp,ck;function H8(){if(ck)return Wp;ck=1;function e(r,t){return r!=null&&t in Object(r)}return Wp=e,Wp}var Kp,dk;function UI(){if(dk)return Kp;dk=1;var e=Jf(),r=us(),t=mr(),n=Kf(),a=mb(),i=ls();function o(u,s,l){s=e(s,u);for(var f=-1,c=s.length,d=!1;++f<c;){var v=i(s[f]);if(!(d=u!=null&&l(u,v)))break;u=u[v]}return d||++f!=c?d:(c=u==null?0:u.length,!!c&&a(c)&&n(v,c)&&(t(u)||r(u)))}return Kp=o,Kp}var jp,vk;function GI(){if(vk)return jp;vk=1;var e=H8(),r=UI();function t(n,a){return n!=null&&r(n,a,e)}return jp=t,jp}var Yp,hk;function W8(){if(hk)return Yp;hk=1;var e=FI(),r=G8(),t=GI(),n=Tb(),a=zI(),i=VI(),o=ls(),u=1,s=2;function l(f,c){return n(f)&&a(c)?i(o(f),c):function(d){var v=r(d,f);return v===void 0&&v===c?t(d,f):e(c,v,u|s)}}return Yp=l,Yp}var Xp,pk;function HI(){if(pk)return Xp;pk=1;function e(r){return function(t){return t==null?void 0:t[r]}}return Xp=e,Xp}var Zp,gk;function K8(){if(gk)return Zp;gk=1;var e=ec();function r(t){return function(n){return e(n,t)}}return Zp=r,Zp}var Qp,mk;function j8(){if(mk)return Qp;mk=1;var e=HI(),r=K8(),t=Tb(),n=ls();function a(i){return t(i)?e(n(i)):r(i)}return Qp=a,Qp}var Jp,yk;function Nn(){if(yk)return Jp;yk=1;var e=F8(),r=W8(),t=ui(),n=mr(),a=j8();function i(o){return typeof o=="function"?o:o==null?t:typeof o=="object"?n(o)?r(o[0],o[1]):e(o):a(o)}return Jp=i,Jp}var eg,bk;function WI(){if(bk)return eg;bk=1;var e=EI(),r=R8(),t=Nn(),n=mr();function a(i,o){var u=n(i)?e:r;return u(i,t(o,3))}return eg=a,eg}var rg,wk;function Y8(){if(wk)return rg;wk=1;var e=Object.prototype,r=e.hasOwnProperty;function t(n,a){return n!=null&&r.call(n,a)}return rg=t,rg}var tg,xk;function KI(){if(xk)return tg;xk=1;var e=Y8(),r=UI();function t(n,a){return n!=null&&r(n,a,e)}return tg=t,tg}var ng,Ek;function X8(){if(Ek)return ng;Ek=1;var e=bb(),r=bo(),t=us(),n=mr(),a=Bn(),i=yo(),o=Yf(),u=ss(),s="[object Map]",l="[object Set]",f=Object.prototype,c=f.hasOwnProperty;function d(v){if(v==null)return!0;if(a(v)&&(n(v)||typeof v=="string"||typeof v.splice=="function"||i(v)||u(v)||t(v)))return!v.length;var h=r(v);if(h==s||h==l)return!v.size;if(o(v))return!e(v).length;for(var b in v)if(c.call(v,b))return!1;return!0}return ng=d,ng}var ag,Sk;function jI(){if(Sk)return ag;Sk=1;function e(r){return r===void 0}return ag=e,ag}var ig,Ck;function YI(){if(Ck)return ig;Ck=1;var e=Zf(),r=Bn();function t(n,a){var i=-1,o=r(n)?Array(n.length):[];return e(n,function(u,s,l){o[++i]=a(u,s,l)}),o}return ig=t,ig}var og,kk;function XI(){if(kk)return og;kk=1;var e=Qf(),r=Nn(),t=YI(),n=mr();function a(i,o){var u=n(i)?e:t;return u(i,r(o,3))}return og=a,og}var ug,_k;function Z8(){if(_k)return ug;_k=1;function e(r,t,n,a){var i=-1,o=r==null?0:r.length;for(a&&o&&(n=r[++i]);++i<o;)n=t(n,r[i],i,r);return n}return ug=e,ug}var sg,Tk;function Q8(){if(Tk)return sg;Tk=1;function e(r,t,n,a,i){return i(r,function(o,u,s){n=a?(a=!1,o):t(n,o,u,s)}),n}return sg=e,sg}var lg,Ak;function ZI(){if(Ak)return lg;Ak=1;var e=Z8(),r=Zf(),t=Nn(),n=Q8(),a=mr();function i(o,u,s){var l=a(o)?e:n,f=arguments.length<3;return l(o,t(u,4),s,f,r)}return lg=i,lg}var fg,Rk;function J8(){if(Rk)return fg;Rk=1;var e=ai(),r=mr(),t=pn(),n="[object String]";function a(i){return typeof i=="string"||!r(i)&&t(i)&&e(i)==n}return fg=a,fg}var cg,Pk;function e6(){if(Pk)return cg;Pk=1;var e=HI(),r=e("length");return cg=r,cg}var dg,Dk;function r6(){if(Dk)return dg;Dk=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=r+t+n,i="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+e+a+i+"]");function s(l){return u.test(l)}return dg=s,dg}var vg,Ik;function t6(){if(Ik)return vg;Ik=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=r+t+n,i="\\ufe0e\\ufe0f",o="["+e+"]",u="["+a+"]",s="\\ud83c[\\udffb-\\udfff]",l="(?:"+u+"|"+s+")",f="[^"+e+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",h=l+"?",b="["+i+"]?",m="(?:"+v+"(?:"+[f,c,d].join("|")+")"+b+h+")*",g=b+h+m,p="(?:"+[f+u+"?",u,c,d,o].join("|")+")",y=RegExp(s+"(?="+s+")|"+p+g,"g");function w(E){for(var S=y.lastIndex=0;y.test(E);)++S;return S}return vg=w,vg}var hg,Lk;function n6(){if(Lk)return hg;Lk=1;var e=e6(),r=r6(),t=t6();function n(a){return r(a)?t(a):e(a)}return hg=n,hg}var pg,Ok;function a6(){if(Ok)return pg;Ok=1;var e=bb(),r=bo(),t=Bn(),n=J8(),a=n6(),i="[object Map]",o="[object Set]";function u(s){if(s==null)return 0;if(t(s))return n(s)?a(s):s.length;var l=r(s);return l==i||l==o?s.size:e(s).length}return pg=u,pg}var gg,Mk;function i6(){if(Mk)return gg;Mk=1;var e=gb(),r=PI(),t=kb(),n=Nn(),a=Xf(),i=mr(),o=yo(),u=is(),s=qt(),l=ss();function f(c,d,v){var h=i(c),b=h||o(c)||l(c);if(d=n(d,4),v==null){var m=c&&c.constructor;b?v=h?new m:[]:s(c)?v=u(m)?r(a(c)):{}:v={}}return(b?e:t)(c,function(g,p,y){return d(v,g,p,y)}),v}return gg=f,gg}var mg,Bk;function o6(){if(Bk)return mg;Bk=1;var e=mo(),r=us(),t=mr(),n=e?e.isConcatSpreadable:void 0;function a(i){return t(i)||r(i)||!!(n&&i&&i[n])}return mg=a,mg}var yg,Nk;function Ab(){if(Nk)return yg;Nk=1;var e=xb(),r=o6();function t(n,a,i,o,u){var s=-1,l=n.length;for(i||(i=r),u||(u=[]);++s<l;){var f=n[s];a>0&&i(f)?a>1?t(f,a-1,i,o,u):e(u,f):o||(u[u.length]=f)}return u}return yg=t,yg}var bg,qk;function u6(){if(qk)return bg;qk=1;function e(r,t,n){switch(n.length){case 0:return r.call(t);case 1:return r.call(t,n[0]);case 2:return r.call(t,n[0],n[1]);case 3:return r.call(t,n[0],n[1],n[2])}return r.apply(t,n)}return bg=e,bg}var wg,Fk;function QI(){if(Fk)return wg;Fk=1;var e=u6(),r=Math.max;function t(n,a,i){return a=r(a===void 0?n.length-1:a,0),function(){for(var o=arguments,u=-1,s=r(o.length-a,0),l=Array(s);++u<s;)l[u]=o[a+u];u=-1;for(var f=Array(a+1);++u<a;)f[u]=o[u];return f[a]=i(l),e(n,this,f)}}return wg=t,wg}var xg,zk;function s6(){if(zk)return xg;zk=1;var e=Sb(),r=mI(),t=ui(),n=r?function(a,i){return r(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:t;return xg=n,xg}var Eg,Vk;function l6(){if(Vk)return Eg;Vk=1;var e=800,r=16,t=Date.now;function n(a){var i=0,o=0;return function(){var u=t(),s=r-(u-o);if(o=u,s>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Eg=n,Eg}var Sg,$k;function JI(){if($k)return Sg;$k=1;var e=s6(),r=l6(),t=r(e);return Sg=t,Sg}var Cg,Uk;function rc(){if(Uk)return Cg;Uk=1;var e=ui(),r=QI(),t=JI();function n(a,i){return t(r(a,i,e),a+"")}return Cg=n,Cg}var kg,Gk;function eL(){if(Gk)return kg;Gk=1;function e(r,t,n,a){for(var i=r.length,o=n+(a?1:-1);a?o--:++o<i;)if(t(r[o],o,r))return o;return-1}return kg=e,kg}var _g,Hk;function f6(){if(Hk)return _g;Hk=1;function e(r){return r!==r}return _g=e,_g}var Tg,Wk;function c6(){if(Wk)return Tg;Wk=1;function e(r,t,n){for(var a=n-1,i=r.length;++a<i;)if(r[a]===t)return a;return-1}return Tg=e,Tg}var Ag,Kk;function d6(){if(Kk)return Ag;Kk=1;var e=eL(),r=f6(),t=c6();function n(a,i,o){return i===i?t(a,i,o):e(a,r,o)}return Ag=n,Ag}var Rg,jk;function v6(){if(jk)return Rg;jk=1;var e=d6();function r(t,n){var a=t==null?0:t.length;return!!a&&e(t,n,0)>-1}return Rg=r,Rg}var Pg,Yk;function h6(){if(Yk)return Pg;Yk=1;function e(r,t,n){for(var a=-1,i=r==null?0:r.length;++a<i;)if(n(t,r[a]))return!0;return!1}return Pg=e,Pg}var Dg,Xk;function p6(){if(Xk)return Dg;Xk=1;function e(){}return Dg=e,Dg}var Ig,Zk;function g6(){if(Zk)return Ig;Zk=1;var e=TI(),r=p6(),t=_b(),n=1/0,a=e&&1/t(new e([,-0]))[1]==n?function(i){return new e(i)}:r;return Ig=a,Ig}var Lg,Qk;function m6(){if(Qk)return Lg;Qk=1;var e=BI(),r=v6(),t=h6(),n=NI(),a=g6(),i=_b(),o=200;function u(s,l,f){var c=-1,d=r,v=s.length,h=!0,b=[],m=b;if(f)h=!1,d=t;else if(v>=o){var g=l?null:a(s);if(g)return i(g);h=!1,d=n,m=new e}else m=l?[]:b;e:for(;++c<v;){var p=s[c],y=l?l(p):p;if(p=f||p!==0?p:0,h&&y===y){for(var w=m.length;w--;)if(m[w]===y)continue e;l&&m.push(y),b.push(p)}else d(m,y,f)||(m!==b&&m.push(y),b.push(p))}return b}return Lg=u,Lg}var Og,Jk;function rL(){if(Jk)return Og;Jk=1;var e=Bn(),r=pn();function t(n){return r(n)&&e(n)}return Og=t,Og}var Mg,e_;function y6(){if(e_)return Mg;e_=1;var e=Ab(),r=rc(),t=m6(),n=rL(),a=r(function(i){return t(e(i,1,n,!0))});return Mg=a,Mg}var Bg,r_;function b6(){if(r_)return Bg;r_=1;var e=Qf();function r(t,n){return e(n,function(a){return t[a]})}return Bg=r,Bg}var Ng,t_;function tL(){if(t_)return Ng;t_=1;var e=b6(),r=Ta();function t(n){return n==null?[]:e(n,r(n))}return Ng=t,Ng}var qg,n_;function Ft(){if(n_)return qg;n_=1;var e;if(typeof vb=="function")try{e={clone:_8(),constant:Sb(),each:MI(),filter:WI(),has:KI(),isArray:mr(),isEmpty:X8(),isFunction:is(),isUndefined:jI(),keys:Ta(),map:XI(),reduce:ZI(),size:a6(),transform:i6(),union:y6(),values:tL()}}catch{}return e||(e=window._),qg=e,qg}var Fg,a_;function Rb(){if(a_)return Fg;a_=1;var e=Ft();Fg=a;var r="\0",t="\0",n="";function a(f){this._isDirected=e.has(f,"directed")?f.directed:!0,this._isMultigraph=e.has(f,"multigraph")?f.multigraph:!1,this._isCompound=e.has(f,"compound")?f.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[t]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(f){return this._label=f,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(f){return e.isFunction(f)||(f=e.constant(f)),this._defaultNodeLabelFn=f,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return e.keys(this._nodes)},a.prototype.sources=function(){var f=this;return e.filter(this.nodes(),function(c){return e.isEmpty(f._in[c])})},a.prototype.sinks=function(){var f=this;return e.filter(this.nodes(),function(c){return e.isEmpty(f._out[c])})},a.prototype.setNodes=function(f,c){var d=arguments,v=this;return e.each(f,function(h){d.length>1?v.setNode(h,c):v.setNode(h)}),this},a.prototype.setNode=function(f,c){return e.has(this._nodes,f)?(arguments.length>1&&(this._nodes[f]=c),this):(this._nodes[f]=arguments.length>1?c:this._defaultNodeLabelFn(f),this._isCompound&&(this._parent[f]=t,this._children[f]={},this._children[t][f]=!0),this._in[f]={},this._preds[f]={},this._out[f]={},this._sucs[f]={},++this._nodeCount,this)},a.prototype.node=function(f){return this._nodes[f]},a.prototype.hasNode=function(f){return e.has(this._nodes,f)},a.prototype.removeNode=function(f){var c=this;if(e.has(this._nodes,f)){var d=function(v){c.removeEdge(c._edgeObjs[v])};delete this._nodes[f],this._isCompound&&(this._removeFromParentsChildList(f),delete this._parent[f],e.each(this.children(f),function(v){c.setParent(v)}),delete this._children[f]),e.each(e.keys(this._in[f]),d),delete this._in[f],delete this._preds[f],e.each(e.keys(this._out[f]),d),delete this._out[f],delete this._sucs[f],--this._nodeCount}return this},a.prototype.setParent=function(f,c){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(c))c=t;else{c+="";for(var d=c;!e.isUndefined(d);d=this.parent(d))if(d===f)throw new Error("Setting "+c+" as parent of "+f+" would create a cycle");this.setNode(c)}return this.setNode(f),this._removeFromParentsChildList(f),this._parent[f]=c,this._children[c][f]=!0,this},a.prototype._removeFromParentsChildList=function(f){delete this._children[this._parent[f]][f]},a.prototype.parent=function(f){if(this._isCompound){var c=this._parent[f];if(c!==t)return c}},a.prototype.children=function(f){if(e.isUndefined(f)&&(f=t),this._isCompound){var c=this._children[f];if(c)return e.keys(c)}else{if(f===t)return this.nodes();if(this.hasNode(f))return[]}},a.prototype.predecessors=function(f){var c=this._preds[f];if(c)return e.keys(c)},a.prototype.successors=function(f){var c=this._sucs[f];if(c)return e.keys(c)},a.prototype.neighbors=function(f){var c=this.predecessors(f);if(c)return e.union(c,this.successors(f))},a.prototype.isLeaf=function(f){var c;return this.isDirected()?c=this.successors(f):c=this.neighbors(f),c.length===0},a.prototype.filterNodes=function(f){var c=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});c.setGraph(this.graph());var d=this;e.each(this._nodes,function(b,m){f(m)&&c.setNode(m,b)}),e.each(this._edgeObjs,function(b){c.hasNode(b.v)&&c.hasNode(b.w)&&c.setEdge(b,d.edge(b))});var v={};function h(b){var m=d.parent(b);return m===void 0||c.hasNode(m)?(v[b]=m,m):m in v?v[m]:h(m)}return this._isCompound&&e.each(c.nodes(),function(b){c.setParent(b,h(b))}),c},a.prototype.setDefaultEdgeLabel=function(f){return e.isFunction(f)||(f=e.constant(f)),this._defaultEdgeLabelFn=f,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return e.values(this._edgeObjs)},a.prototype.setPath=function(f,c){var d=this,v=arguments;return e.reduce(f,function(h,b){return v.length>1?d.setEdge(h,b,c):d.setEdge(h,b),b}),this},a.prototype.setEdge=function(){var f,c,d,v,h=!1,b=arguments[0];typeof b=="object"&&b!==null&&"v"in b?(f=b.v,c=b.w,d=b.name,arguments.length===2&&(v=arguments[1],h=!0)):(f=b,c=arguments[1],d=arguments[3],arguments.length>2&&(v=arguments[2],h=!0)),f=""+f,c=""+c,e.isUndefined(d)||(d=""+d);var m=u(this._isDirected,f,c,d);if(e.has(this._edgeLabels,m))return h&&(this._edgeLabels[m]=v),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(f),this.setNode(c),this._edgeLabels[m]=h?v:this._defaultEdgeLabelFn(f,c,d);var g=s(this._isDirected,f,c,d);return f=g.v,c=g.w,Object.freeze(g),this._edgeObjs[m]=g,i(this._preds[c],f),i(this._sucs[f],c),this._in[c][m]=g,this._out[f][m]=g,this._edgeCount++,this},a.prototype.edge=function(f,c,d){var v=arguments.length===1?l(this._isDirected,arguments[0]):u(this._isDirected,f,c,d);return this._edgeLabels[v]},a.prototype.hasEdge=function(f,c,d){var v=arguments.length===1?l(this._isDirected,arguments[0]):u(this._isDirected,f,c,d);return e.has(this._edgeLabels,v)},a.prototype.removeEdge=function(f,c,d){var v=arguments.length===1?l(this._isDirected,arguments[0]):u(this._isDirected,f,c,d),h=this._edgeObjs[v];return h&&(f=h.v,c=h.w,delete this._edgeLabels[v],delete this._edgeObjs[v],o(this._preds[c],f),o(this._sucs[f],c),delete this._in[c][v],delete this._out[f][v],this._edgeCount--),this},a.prototype.inEdges=function(f,c){var d=this._in[f];if(d){var v=e.values(d);return c?e.filter(v,function(h){return h.v===c}):v}},a.prototype.outEdges=function(f,c){var d=this._out[f];if(d){var v=e.values(d);return c?e.filter(v,function(h){return h.w===c}):v}},a.prototype.nodeEdges=function(f,c){var d=this.inEdges(f,c);if(d)return d.concat(this.outEdges(f,c))};function i(f,c){f[c]?f[c]++:f[c]=1}function o(f,c){--f[c]||delete f[c]}function u(f,c,d,v){var h=""+c,b=""+d;if(!f&&h>b){var m=h;h=b,b=m}return h+n+b+n+(e.isUndefined(v)?r:v)}function s(f,c,d,v){var h=""+c,b=""+d;if(!f&&h>b){var m=h;h=b,b=m}var g={v:h,w:b};return v&&(g.name=v),g}function l(f,c){return u(f,c.v,c.w,c.name)}return Fg}var zg,i_;function w6(){return i_||(i_=1,zg="2.1.8"),zg}var Vg,o_;function x6(){return o_||(o_=1,Vg={Graph:Rb(),version:w6()}),Vg}var $g,u_;function E6(){if(u_)return $g;u_=1;var e=Ft(),r=Rb();$g={write:t,read:i};function t(o){var u={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:a(o)};return e.isUndefined(o.graph())||(u.value=e.clone(o.graph())),u}function n(o){return e.map(o.nodes(),function(u){var s=o.node(u),l=o.parent(u),f={v:u};return e.isUndefined(s)||(f.value=s),e.isUndefined(l)||(f.parent=l),f})}function a(o){return e.map(o.edges(),function(u){var s=o.edge(u),l={v:u.v,w:u.w};return e.isUndefined(u.name)||(l.name=u.name),e.isUndefined(s)||(l.value=s),l})}function i(o){var u=new r(o.options).setGraph(o.value);return e.each(o.nodes,function(s){u.setNode(s.v,s.value),s.parent&&u.setParent(s.v,s.parent)}),e.each(o.edges,function(s){u.setEdge({v:s.v,w:s.w,name:s.name},s.value)}),u}return $g}var Ug,s_;function S6(){if(s_)return Ug;s_=1;var e=Ft();Ug=r;function r(t){var n={},a=[],i;function o(u){e.has(n,u)||(n[u]=!0,i.push(u),e.each(t.successors(u),o),e.each(t.predecessors(u),o))}return e.each(t.nodes(),function(u){i=[],o(u),i.length&&a.push(i)}),a}return Ug}var Gg,l_;function nL(){if(l_)return Gg;l_=1;var e=Ft();Gg=r;function r(){this._arr=[],this._keyIndices={}}return r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(t){return t.key})},r.prototype.has=function(t){return e.has(this._keyIndices,t)},r.prototype.priority=function(t){var n=this._keyIndices[t];if(n!==void 0)return this._arr[n].priority},r.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(t,n){var a=this._keyIndices;if(t=String(t),!e.has(a,t)){var i=this._arr,o=i.length;return a[t]=o,i.push({key:t,priority:n}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},r.prototype.decrease=function(t,n){var a=this._keyIndices[t];if(n>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[a].priority+" New: "+n);this._arr[a].priority=n,this._decrease(a)},r.prototype._heapify=function(t){var n=this._arr,a=2*t,i=a+1,o=t;a<n.length&&(o=n[a].priority<n[o].priority?a:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==t&&(this._swap(t,o),this._heapify(o)))},r.prototype._decrease=function(t){for(var n=this._arr,a=n[t].priority,i;t!==0&&(i=t>>1,!(n[i].priority<a));)this._swap(t,i),t=i},r.prototype._swap=function(t,n){var a=this._arr,i=this._keyIndices,o=a[t],u=a[n];a[t]=u,a[n]=o,i[u.key]=t,i[o.key]=n},Gg}var Hg,f_;function aL(){if(f_)return Hg;f_=1;var e=Ft(),r=nL();Hg=n;var t=e.constant(1);function n(i,o,u,s){return a(i,String(o),u||t,s||function(l){return i.outEdges(l)})}function a(i,o,u,s){var l={},f=new r,c,d,v=function(h){var b=h.v!==c?h.v:h.w,m=l[b],g=u(h),p=d.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+g);p<m.distance&&(m.distance=p,m.predecessor=c,f.decrease(b,p))};for(i.nodes().forEach(function(h){var b=h===o?0:Number.POSITIVE_INFINITY;l[h]={distance:b},f.add(h,b)});f.size()>0&&(c=f.removeMin(),d=l[c],d.distance!==Number.POSITIVE_INFINITY);)s(c).forEach(v);return l}return Hg}var Wg,c_;function C6(){if(c_)return Wg;c_=1;var e=aL(),r=Ft();Wg=t;function t(n,a,i){return r.transform(n.nodes(),function(o,u){o[u]=e(n,u,a,i)},{})}return Wg}var Kg,d_;function iL(){if(d_)return Kg;d_=1;var e=Ft();Kg=r;function r(t){var n=0,a=[],i={},o=[];function u(s){var l=i[s]={onStack:!0,lowlink:n,index:n++};if(a.push(s),t.successors(s).forEach(function(d){e.has(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(u(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var f=[],c;do c=a.pop(),i[c].onStack=!1,f.push(c);while(s!==c);o.push(f)}}return t.nodes().forEach(function(s){e.has(i,s)||u(s)}),o}return Kg}var jg,v_;function k6(){if(v_)return jg;v_=1;var e=Ft(),r=iL();jg=t;function t(n){return e.filter(r(n),function(a){return a.length>1||a.length===1&&n.hasEdge(a[0],a[0])})}return jg}var Yg,h_;function _6(){if(h_)return Yg;h_=1;var e=Ft();Yg=t;var r=e.constant(1);function t(a,i,o){return n(a,i||r,o||function(u){return a.outEdges(u)})}function n(a,i,o){var u={},s=a.nodes();return s.forEach(function(l){u[l]={},u[l][l]={distance:0},s.forEach(function(f){l!==f&&(u[l][f]={distance:Number.POSITIVE_INFINITY})}),o(l).forEach(function(f){var c=f.v===l?f.w:f.v,d=i(f);u[l][c]={distance:d,predecessor:l}})}),s.forEach(function(l){var f=u[l];s.forEach(function(c){var d=u[c];s.forEach(function(v){var h=d[l],b=f[v],m=d[v],g=h.distance+b.distance;g<m.distance&&(m.distance=g,m.predecessor=b.predecessor)})})}),u}return Yg}var Xg,p_;function oL(){if(p_)return Xg;p_=1;var e=Ft();Xg=r,r.CycleException=t;function r(n){var a={},i={},o=[];function u(s){if(e.has(i,s))throw new t;e.has(a,s)||(i[s]=!0,a[s]=!0,e.each(n.predecessors(s),u),delete i[s],o.push(s))}if(e.each(n.sinks(),u),e.size(a)!==n.nodeCount())throw new t;return o}function t(){}return t.prototype=new Error,Xg}var Zg,g_;function T6(){if(g_)return Zg;g_=1;var e=oL();Zg=r;function r(t){try{e(t)}catch(n){if(n instanceof e.CycleException)return!1;throw n}return!0}return Zg}var Qg,m_;function uL(){if(m_)return Qg;m_=1;var e=Ft();Qg=r;function r(n,a,i){e.isArray(a)||(a=[a]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),u=[],s={};return e.each(a,function(l){if(!n.hasNode(l))throw new Error("Graph does not have node: "+l);t(n,l,i==="post",s,o,u)}),u}function t(n,a,i,o,u,s){e.has(o,a)||(o[a]=!0,i||s.push(a),e.each(u(a),function(l){t(n,l,i,o,u,s)}),i&&s.push(a))}return Qg}var Jg,y_;function A6(){if(y_)return Jg;y_=1;var e=uL();Jg=r;function r(t,n){return e(t,n,"post")}return Jg}var em,b_;function R6(){if(b_)return em;b_=1;var e=uL();em=r;function r(t,n){return e(t,n,"pre")}return em}var rm,w_;function P6(){if(w_)return rm;w_=1;var e=Ft(),r=Rb(),t=nL();rm=n;function n(a,i){var o=new r,u={},s=new t,l;function f(d){var v=d.v===l?d.w:d.v,h=s.priority(v);if(h!==void 0){var b=i(d);b<h&&(u[v]=l,s.decrease(v,b))}}if(a.nodeCount()===0)return o;e.each(a.nodes(),function(d){s.add(d,Number.POSITIVE_INFINITY),o.setNode(d)}),s.decrease(a.nodes()[0],0);for(var c=!1;s.size()>0;){if(l=s.removeMin(),e.has(u,l))o.setEdge(l,u[l]);else{if(c)throw new Error("Input graph is not connected: "+a);c=!0}a.nodeEdges(l).forEach(f)}return o}return rm}var tm,x_;function D6(){return x_||(x_=1,tm={components:S6(),dijkstra:aL(),dijkstraAll:C6(),findCycles:k6(),floydWarshall:_6(),isAcyclic:T6(),postorder:A6(),preorder:R6(),prim:P6(),tarjan:iL(),topsort:oL()}),tm}var nm,E_;function I6(){if(E_)return nm;E_=1;var e=x6();return nm={Graph:e.Graph,json:E6(),alg:D6(),version:e.version},nm}var am,S_;function Jt(){if(S_)return am;S_=1;var e;if(typeof vb=="function")try{e=I6()}catch{}return e||(e=window.graphlib),am=e,am}var im,C_;function L6(){if(C_)return im;C_=1;var e=II(),r=1,t=4;function n(a){return e(a,r|t)}return im=n,im}var om,k_;function tc(){if(k_)return om;k_=1;var e=go(),r=Bn(),t=Kf(),n=qt();function a(i,o,u){if(!n(u))return!1;var s=typeof o;return(s=="number"?r(u)&&t(o,u.length):s=="string"&&o in u)?e(u[o],i):!1}return om=a,om}var um,__;function O6(){if(__)return um;__=1;var e=rc(),r=go(),t=tc(),n=oi(),a=Object.prototype,i=a.hasOwnProperty,o=e(function(u,s){u=Object(u);var l=-1,f=s.length,c=f>2?s[2]:void 0;for(c&&t(s[0],s[1],c)&&(f=1);++l<f;)for(var d=s[l],v=n(d),h=-1,b=v.length;++h<b;){var m=v[h],g=u[m];(g===void 0||r(g,a[m])&&!i.call(u,m))&&(u[m]=d[m])}return u});return um=o,um}var sm,T_;function M6(){if(T_)return sm;T_=1;var e=Nn(),r=Bn(),t=Ta();function n(a){return function(i,o,u){var s=Object(i);if(!r(i)){var l=e(o,3);i=t(i),o=function(c){return l(s[c],c,s)}}var f=a(i,o,u);return f>-1?s[l?i[f]:f]:void 0}}return sm=n,sm}var lm,A_;function B6(){if(A_)return lm;A_=1;var e=/\s/;function r(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}return lm=r,lm}var fm,R_;function N6(){if(R_)return fm;R_=1;var e=B6(),r=/^\s+/;function t(n){return n&&n.slice(0,e(n)+1).replace(r,"")}return fm=t,fm}var cm,P_;function q6(){if(P_)return cm;P_=1;var e=N6(),r=qt(),t=wo(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function s(l){if(typeof l=="number")return l;if(t(l))return n;if(r(l)){var f=typeof l.valueOf=="function"?l.valueOf():l;l=r(f)?f+"":f}if(typeof l!="string")return l===0?l:+l;l=e(l);var c=i.test(l);return c||o.test(l)?u(l.slice(2),c?2:8):a.test(l)?n:+l}return cm=s,cm}var dm,D_;function sL(){if(D_)return dm;D_=1;var e=q6(),r=1/0,t=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===r||a===-r){var i=a<0?-1:1;return i*t}return a===a?a:0}return dm=n,dm}var vm,I_;function F6(){if(I_)return vm;I_=1;var e=sL();function r(t){var n=e(t),a=n%1;return n===n?a?n-a:n:0}return vm=r,vm}var hm,L_;function z6(){if(L_)return hm;L_=1;var e=eL(),r=Nn(),t=F6(),n=Math.max;function a(i,o,u){var s=i==null?0:i.length;if(!s)return-1;var l=u==null?0:t(u);return l<0&&(l=n(s+l,0)),e(i,r(o,3),l)}return hm=a,hm}var pm,O_;function V6(){if(O_)return pm;O_=1;var e=M6(),r=z6(),t=e(r);return pm=t,pm}var gm,M_;function lL(){if(M_)return gm;M_=1;var e=Ab();function r(t){var n=t==null?0:t.length;return n?e(t,1):[]}return gm=r,gm}var mm,B_;function $6(){if(B_)return mm;B_=1;var e=Cb(),r=LI(),t=oi();function n(a,i){return a==null?a:e(a,r(i),t)}return mm=n,mm}var ym,N_;function U6(){if(N_)return ym;N_=1;function e(r){var t=r==null?0:r.length;return t?r[t-1]:void 0}return ym=e,ym}var bm,q_;function G6(){if(q_)return bm;q_=1;var e=Hf(),r=kb(),t=Nn();function n(a,i){var o={};return i=t(i,3),r(a,function(u,s,l){e(o,s,i(u,s,l))}),o}return bm=n,bm}var wm,F_;function Pb(){if(F_)return wm;F_=1;var e=wo();function r(t,n,a){for(var i=-1,o=t.length;++i<o;){var u=t[i],s=n(u);if(s!=null&&(l===void 0?s===s&&!e(s):a(s,l)))var l=s,f=u}return f}return wm=r,wm}var xm,z_;function H6(){if(z_)return xm;z_=1;function e(r,t){return r>t}return xm=e,xm}var Em,V_;function W6(){if(V_)return Em;V_=1;var e=Pb(),r=H6(),t=ui();function n(a){return a&&a.length?e(a,t,r):void 0}return Em=n,Em}var Sm,$_;function fL(){if($_)return Sm;$_=1;var e=Hf(),r=go();function t(n,a,i){(i!==void 0&&!r(n[a],i)||i===void 0&&!(a in n))&&e(n,a,i)}return Sm=t,Sm}var Cm,U_;function K6(){if(U_)return Cm;U_=1;var e=ai(),r=Xf(),t=pn(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,u=i.hasOwnProperty,s=o.call(Object);function l(f){if(!t(f)||e(f)!=n)return!1;var c=r(f);if(c===null)return!0;var d=u.call(c,"constructor")&&c.constructor;return typeof d=="function"&&d instanceof d&&o.call(d)==s}return Cm=l,Cm}var km,G_;function cL(){if(G_)return km;G_=1;function e(r,t){if(!(t==="constructor"&&typeof r[t]=="function")&&t!="__proto__")return r[t]}return km=e,km}var _m,H_;function j6(){if(H_)return _m;H_=1;var e=os(),r=oi();function t(n){return e(n,r(n))}return _m=t,_m}var Tm,W_;function Y6(){if(W_)return Tm;W_=1;var e=fL(),r=wI(),t=RI(),n=xI(),a=DI(),i=us(),o=mr(),u=rL(),s=yo(),l=is(),f=qt(),c=K6(),d=ss(),v=cL(),h=j6();function b(m,g,p,y,w,E,S){var x=v(m,p),C=v(g,p),_=S.get(C);if(_){e(m,p,_);return}var k=E?E(x,C,p+"",m,g,S):void 0,T=k===void 0;if(T){var A=o(C),R=!A&&s(C),I=!A&&!R&&d(C);k=C,A||R||I?o(x)?k=x:u(x)?k=n(x):R?(T=!1,k=r(C,!0)):I?(T=!1,k=t(C,!0)):k=[]:c(C)||i(C)?(k=x,i(x)?k=h(x):(!f(x)||l(x))&&(k=a(C))):T=!1}T&&(S.set(C,k),w(k,C,y,E,S),S.delete(C)),e(m,p,k)}return Tm=b,Tm}var Am,K_;function X6(){if(K_)return Am;K_=1;var e=Gf(),r=fL(),t=Cb(),n=Y6(),a=qt(),i=oi(),o=cL();function u(s,l,f,c,d){s!==l&&t(l,function(v,h){if(d||(d=new e),a(v))n(s,l,h,f,u,c,d);else{var b=c?c(o(s,h),v,h+"",s,l,d):void 0;b===void 0&&(b=v),r(s,h,b)}},i)}return Am=u,Am}var Rm,j_;function Z6(){if(j_)return Rm;j_=1;var e=rc(),r=tc();function t(n){return e(function(a,i){var o=-1,u=i.length,s=u>1?i[u-1]:void 0,l=u>2?i[2]:void 0;for(s=n.length>3&&typeof s=="function"?(u--,s):void 0,l&&r(i[0],i[1],l)&&(s=u<3?void 0:s,u=1),a=Object(a);++o<u;){var f=i[o];f&&n(a,f,o,s)}return a})}return Rm=t,Rm}var Pm,Y_;function Q6(){if(Y_)return Pm;Y_=1;var e=X6(),r=Z6(),t=r(function(n,a,i){e(n,a,i)});return Pm=t,Pm}var Dm,X_;function dL(){if(X_)return Dm;X_=1;function e(r,t){return r<t}return Dm=e,Dm}var Im,Z_;function J6(){if(Z_)return Im;Z_=1;var e=Pb(),r=dL(),t=ui();function n(a){return a&&a.length?e(a,t,r):void 0}return Im=n,Im}var Lm,Q_;function eV(){if(Q_)return Lm;Q_=1;var e=Pb(),r=Nn(),t=dL();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return Lm=n,Lm}var Om,J_;function rV(){if(J_)return Om;J_=1;var e=en(),r=function(){return e.Date.now()};return Om=r,Om}var Mm,eT;function tV(){if(eT)return Mm;eT=1;var e=Wf(),r=Jf(),t=Kf(),n=qt(),a=ls();function i(o,u,s,l){if(!n(o))return o;u=r(u,o);for(var f=-1,c=u.length,d=c-1,v=o;v!=null&&++f<c;){var h=a(u[f]),b=s;if(h==="__proto__"||h==="constructor"||h==="prototype")return o;if(f!=d){var m=v[h];b=l?l(m,h,v):void 0,b===void 0&&(b=n(m)?m:t(u[f+1])?[]:{})}e(v,h,b),v=v[h]}return o}return Mm=i,Mm}var Bm,rT;function nV(){if(rT)return Bm;rT=1;var e=ec(),r=tV(),t=Jf();function n(a,i,o){for(var u=-1,s=i.length,l={};++u<s;){var f=i[u],c=e(a,f);o(c,f)&&r(l,t(f,a),c)}return l}return Bm=n,Bm}var Nm,tT;function aV(){if(tT)return Nm;tT=1;var e=nV(),r=GI();function t(n,a){return e(n,a,function(i,o){return r(n,o)})}return Nm=t,Nm}var qm,nT;function iV(){if(nT)return qm;nT=1;var e=lL(),r=QI(),t=JI();function n(a){return t(r(a,void 0,e),a+"")}return qm=n,qm}var Fm,aT;function oV(){if(aT)return Fm;aT=1;var e=aV(),r=iV(),t=r(function(n,a){return n==null?{}:e(n,a)});return Fm=t,Fm}var zm,iT;function uV(){if(iT)return zm;iT=1;var e=Math.ceil,r=Math.max;function t(n,a,i,o){for(var u=-1,s=r(e((a-n)/(i||1)),0),l=Array(s);s--;)l[o?s:++u]=n,n+=i;return l}return zm=t,zm}var Vm,oT;function sV(){if(oT)return Vm;oT=1;var e=uV(),r=tc(),t=sL();function n(a){return function(i,o,u){return u&&typeof u!="number"&&r(i,o,u)&&(o=u=void 0),i=t(i),o===void 0?(o=i,i=0):o=t(o),u=u===void 0?i<o?1:-1:t(u),e(i,o,u,a)}}return Vm=n,Vm}var $m,uT;function lV(){if(uT)return $m;uT=1;var e=sV(),r=e();return $m=r,$m}var Um,sT;function fV(){if(sT)return Um;sT=1;function e(r,t){var n=r.length;for(r.sort(t);n--;)r[n]=r[n].value;return r}return Um=e,Um}var Gm,lT;function cV(){if(lT)return Gm;lT=1;var e=wo();function r(t,n){if(t!==n){var a=t!==void 0,i=t===null,o=t===t,u=e(t),s=n!==void 0,l=n===null,f=n===n,c=e(n);if(!l&&!c&&!u&&t>n||u&&s&&f&&!l&&!c||i&&s&&f||!a&&f||!o)return 1;if(!i&&!u&&!c&&t<n||c&&a&&o&&!i&&!u||l&&a&&o||!s&&o||!f)return-1}return 0}return Gm=r,Gm}var Hm,fT;function dV(){if(fT)return Hm;fT=1;var e=cV();function r(t,n,a){for(var i=-1,o=t.criteria,u=n.criteria,s=o.length,l=a.length;++i<s;){var f=e(o[i],u[i]);if(f){if(i>=l)return f;var c=a[i];return f*(c=="desc"?-1:1)}}return t.index-n.index}return Hm=r,Hm}var Wm,cT;function vV(){if(cT)return Wm;cT=1;var e=Qf(),r=ec(),t=Nn(),n=YI(),a=fV(),i=jf(),o=dV(),u=ui(),s=mr();function l(f,c,d){c.length?c=e(c,function(b){return s(b)?function(m){return r(m,b.length===1?b[0]:b)}:b}):c=[u];var v=-1;c=e(c,i(t));var h=n(f,function(b,m,g){var p=e(c,function(y){return y(b)});return{criteria:p,index:++v,value:b}});return a(h,function(b,m){return o(b,m,d)})}return Wm=l,Wm}var Km,dT;function hV(){if(dT)return Km;dT=1;var e=Ab(),r=vV(),t=rc(),n=tc(),a=t(function(i,o){if(i==null)return[];var u=o.length;return u>1&&n(i,o[0],o[1])?o=[]:u>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),r(i,e(o,1),[])});return Km=a,Km}var jm,vT;function pV(){if(vT)return jm;vT=1;var e=$I(),r=0;function t(n){var a=++r;return e(n)+a}return jm=t,jm}var Ym,hT;function gV(){if(hT)return Ym;hT=1;function e(r,t,n){for(var a=-1,i=r.length,o=t.length,u={};++a<i;){var s=a<o?t[a]:void 0;n(u,r[a],s)}return u}return Ym=e,Ym}var Xm,pT;function mV(){if(pT)return Xm;pT=1;var e=Wf(),r=gV();function t(n,a){return r(n||[],a||[],e)}return Xm=t,Xm}var Zm,gT;function tr(){if(gT)return Zm;gT=1;var e;if(typeof vb=="function")try{e={cloneDeep:L6(),constant:Sb(),defaults:O6(),each:MI(),filter:WI(),find:V6(),flatten:lL(),forEach:OI(),forIn:$6(),has:KI(),isUndefined:jI(),last:U6(),map:XI(),mapValues:G6(),max:W6(),merge:Q6(),min:J6(),minBy:eV(),now:rV(),pick:oV(),range:lV(),reduce:ZI(),sortBy:hV(),uniqueId:pV(),values:tL(),zipObject:mV()}}catch{}return e||(e=window._),Zm=e,Zm}var Qm,mT;function yV(){if(mT)return Qm;mT=1,Qm=e;function e(){var n={};n._next=n._prev=n,this._sentinel=n}e.prototype.dequeue=function(){var n=this._sentinel,a=n._prev;if(a!==n)return r(a),a},e.prototype.enqueue=function(n){var a=this._sentinel;n._prev&&n._next&&r(n),n._next=a._next,a._next._prev=n,a._next=n,n._prev=a},e.prototype.toString=function(){for(var n=[],a=this._sentinel,i=a._prev;i!==a;)n.push(JSON.stringify(i,t)),i=i._prev;return"["+n.join(", ")+"]"};function r(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function t(n,a){if(n!=="_next"&&n!=="_prev")return a}return Qm}var Jm,yT;function bV(){if(yT)return Jm;yT=1;var e=tr(),r=Jt().Graph,t=yV();Jm=a;var n=e.constant(1);function a(l,f){if(l.nodeCount()<=1)return[];var c=u(l,f||n),d=i(c.graph,c.buckets,c.zeroIdx);return e.flatten(e.map(d,function(v){return l.outEdges(v.v,v.w)}),!0)}function i(l,f,c){for(var d=[],v=f[f.length-1],h=f[0],b;l.nodeCount();){for(;b=h.dequeue();)o(l,f,c,b);for(;b=v.dequeue();)o(l,f,c,b);if(l.nodeCount()){for(var m=f.length-2;m>0;--m)if(b=f[m].dequeue(),b){d=d.concat(o(l,f,c,b,!0));break}}}return d}function o(l,f,c,d,v){var h=v?[]:void 0;return e.forEach(l.inEdges(d.v),function(b){var m=l.edge(b),g=l.node(b.v);v&&h.push({v:b.v,w:b.w}),g.out-=m,s(f,c,g)}),e.forEach(l.outEdges(d.v),function(b){var m=l.edge(b),g=b.w,p=l.node(g);p.in-=m,s(f,c,p)}),l.removeNode(d.v),h}function u(l,f){var c=new r,d=0,v=0;e.forEach(l.nodes(),function(m){c.setNode(m,{v:m,in:0,out:0})}),e.forEach(l.edges(),function(m){var g=c.edge(m.v,m.w)||0,p=f(m),y=g+p;c.setEdge(m.v,m.w,y),v=Math.max(v,c.node(m.v).out+=p),d=Math.max(d,c.node(m.w).in+=p)});var h=e.range(v+d+3).map(function(){return new t}),b=d+1;return e.forEach(c.nodes(),function(m){s(h,b,c.node(m))}),{graph:c,buckets:h,zeroIdx:b}}function s(l,f,c){c.out?c.in?l[c.out-c.in+f].enqueue(c):l[l.length-1].enqueue(c):l[0].enqueue(c)}return Jm}var ey,bT;function wV(){if(bT)return ey;bT=1;var e=tr(),r=bV();ey={run:t,undo:a};function t(i){var o=i.graph().acyclicer==="greedy"?r(i,u(i)):n(i);e.forEach(o,function(s){var l=i.edge(s);i.removeEdge(s),l.forwardName=s.name,l.reversed=!0,i.setEdge(s.w,s.v,l,e.uniqueId("rev"))});function u(s){return function(l){return s.edge(l).weight}}}function n(i){var o=[],u={},s={};function l(f){e.has(s,f)||(s[f]=!0,u[f]=!0,e.forEach(i.outEdges(f),function(c){e.has(u,c.w)?o.push(c):l(c.w)}),delete u[f])}return e.forEach(i.nodes(),l),o}function a(i){e.forEach(i.edges(),function(o){var u=i.edge(o);if(u.reversed){i.removeEdge(o);var s=u.forwardName;delete u.reversed,delete u.forwardName,i.setEdge(o.w,o.v,u,s)}})}return ey}var ry,wT;function yt(){if(wT)return ry;wT=1;var e=tr(),r=Jt().Graph;ry={addDummyNode:t,simplify:n,asNonCompoundGraph:a,successorWeights:i,predecessorWeights:o,intersectRect:u,buildLayerMatrix:s,normalizeRanks:l,removeEmptyRanks:f,addBorderNode:c,maxRank:d,partition:v,time:h,notime:b};function t(m,g,p,y){var w;do w=e.uniqueId(y);while(m.hasNode(w));return p.dummy=g,m.setNode(w,p),w}function n(m){var g=new r().setGraph(m.graph());return e.forEach(m.nodes(),function(p){g.setNode(p,m.node(p))}),e.forEach(m.edges(),function(p){var y=g.edge(p.v,p.w)||{weight:0,minlen:1},w=m.edge(p);g.setEdge(p.v,p.w,{weight:y.weight+w.weight,minlen:Math.max(y.minlen,w.minlen)})}),g}function a(m){var g=new r({multigraph:m.isMultigraph()}).setGraph(m.graph());return e.forEach(m.nodes(),function(p){m.children(p).length||g.setNode(p,m.node(p))}),e.forEach(m.edges(),function(p){g.setEdge(p,m.edge(p))}),g}function i(m){var g=e.map(m.nodes(),function(p){var y={};return e.forEach(m.outEdges(p),function(w){y[w.w]=(y[w.w]||0)+m.edge(w).weight}),y});return e.zipObject(m.nodes(),g)}function o(m){var g=e.map(m.nodes(),function(p){var y={};return e.forEach(m.inEdges(p),function(w){y[w.v]=(y[w.v]||0)+m.edge(w).weight}),y});return e.zipObject(m.nodes(),g)}function u(m,g){var p=m.x,y=m.y,w=g.x-p,E=g.y-y,S=m.width/2,x=m.height/2;if(!w&&!E)throw new Error("Not possible to find intersection inside of the rectangle");var C,_;return Math.abs(E)*S>Math.abs(w)*x?(E<0&&(x=-x),C=x*w/E,_=x):(w<0&&(S=-S),C=S,_=S*E/w),{x:p+C,y:y+_}}function s(m){var g=e.map(e.range(d(m)+1),function(){return[]});return e.forEach(m.nodes(),function(p){var y=m.node(p),w=y.rank;e.isUndefined(w)||(g[w][y.order]=p)}),g}function l(m){var g=e.min(e.map(m.nodes(),function(p){return m.node(p).rank}));e.forEach(m.nodes(),function(p){var y=m.node(p);e.has(y,"rank")&&(y.rank-=g)})}function f(m){var g=e.min(e.map(m.nodes(),function(E){return m.node(E).rank})),p=[];e.forEach(m.nodes(),function(E){var S=m.node(E).rank-g;p[S]||(p[S]=[]),p[S].push(E)});var y=0,w=m.graph().nodeRankFactor;e.forEach(p,function(E,S){e.isUndefined(E)&&S%w!==0?--y:y&&e.forEach(E,function(x){m.node(x).rank+=y})})}function c(m,g,p,y){var w={width:0,height:0};return arguments.length>=4&&(w.rank=p,w.order=y),t(m,"border",w,g)}function d(m){return e.max(e.map(m.nodes(),function(g){var p=m.node(g).rank;if(!e.isUndefined(p))return p}))}function v(m,g){var p={lhs:[],rhs:[]};return e.forEach(m,function(y){g(y)?p.lhs.push(y):p.rhs.push(y)}),p}function h(m,g){var p=e.now();try{return g()}finally{console.log(m+" time: "+(e.now()-p)+"ms")}}function b(m,g){return g()}return ry}var ty,xT;function xV(){if(xT)return ty;xT=1;var e=tr(),r=yt();ty={run:t,undo:a};function t(i){i.graph().dummyChains=[],e.forEach(i.edges(),function(o){n(i,o)})}function n(i,o){var u=o.v,s=i.node(u).rank,l=o.w,f=i.node(l).rank,c=o.name,d=i.edge(o),v=d.labelRank;if(f!==s+1){i.removeEdge(o);var h,b,m;for(m=0,++s;s<f;++m,++s)d.points=[],b={width:0,height:0,edgeLabel:d,edgeObj:o,rank:s},h=r.addDummyNode(i,"edge",b,"_d"),s===v&&(b.width=d.width,b.height=d.height,b.dummy="edge-label",b.labelpos=d.labelpos),i.setEdge(u,h,{weight:d.weight},c),m===0&&i.graph().dummyChains.push(h),u=h;i.setEdge(u,l,{weight:d.weight},c)}}function a(i){e.forEach(i.graph().dummyChains,function(o){var u=i.node(o),s=u.edgeLabel,l;for(i.setEdge(u.edgeObj,s);u.dummy;)l=i.successors(o)[0],i.removeNode(o),s.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(s.x=u.x,s.y=u.y,s.width=u.width,s.height=u.height),o=l,u=i.node(o)})}return ty}var ny,ET;function Jl(){if(ET)return ny;ET=1;var e=tr();ny={longestPath:r,slack:t};function r(n){var a={};function i(o){var u=n.node(o);if(e.has(a,o))return u.rank;a[o]=!0;var s=e.min(e.map(n.outEdges(o),function(l){return i(l.w)-n.edge(l).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),u.rank=s}e.forEach(n.sources(),i)}function t(n,a){return n.node(a.w).rank-n.node(a.v).rank-n.edge(a).minlen}return ny}var ay,ST;function vL(){if(ST)return ay;ST=1;var e=tr(),r=Jt().Graph,t=Jl().slack;ay=n;function n(u){var s=new r({directed:!1}),l=u.nodes()[0],f=u.nodeCount();s.setNode(l,{});for(var c,d;a(s,u)<f;)c=i(s,u),d=s.hasNode(c.v)?t(u,c):-t(u,c),o(s,u,d);return s}function a(u,s){function l(f){e.forEach(s.nodeEdges(f),function(c){var d=c.v,v=f===d?c.w:d;!u.hasNode(v)&&!t(s,c)&&(u.setNode(v,{}),u.setEdge(f,v,{}),l(v))})}return e.forEach(u.nodes(),l),u.nodeCount()}function i(u,s){return e.minBy(s.edges(),function(l){if(u.hasNode(l.v)!==u.hasNode(l.w))return t(s,l)})}function o(u,s,l){e.forEach(u.nodes(),function(f){s.node(f).rank+=l})}return ay}var iy,CT;function EV(){if(CT)return iy;CT=1;var e=tr(),r=vL(),t=Jl().slack,n=Jl().longestPath,a=Jt().alg.preorder,i=Jt().alg.postorder,o=yt().simplify;iy=u,u.initLowLimValues=c,u.initCutValues=s,u.calcCutValue=f,u.leaveEdge=v,u.enterEdge=h,u.exchangeEdges=b;function u(y){y=o(y),n(y);var w=r(y);c(w),s(w,y);for(var E,S;E=v(w);)S=h(w,y,E),b(w,y,E,S)}function s(y,w){var E=i(y,y.nodes());E=E.slice(0,E.length-1),e.forEach(E,function(S){l(y,w,S)})}function l(y,w,E){var S=y.node(E),x=S.parent;y.edge(E,x).cutvalue=f(y,w,E)}function f(y,w,E){var S=y.node(E),x=S.parent,C=!0,_=w.edge(E,x),k=0;return _||(C=!1,_=w.edge(x,E)),k=_.weight,e.forEach(w.nodeEdges(E),function(T){var A=T.v===E,R=A?T.w:T.v;if(R!==x){var I=A===C,L=w.edge(T).weight;if(k+=I?L:-L,g(y,E,R)){var B=y.edge(E,R).cutvalue;k+=I?-B:B}}}),k}function c(y,w){arguments.length<2&&(w=y.nodes()[0]),d(y,{},1,w)}function d(y,w,E,S,x){var C=E,_=y.node(S);return w[S]=!0,e.forEach(y.neighbors(S),function(k){e.has(w,k)||(E=d(y,w,E,k,S))}),_.low=C,_.lim=E++,x?_.parent=x:delete _.parent,E}function v(y){return e.find(y.edges(),function(w){return y.edge(w).cutvalue<0})}function h(y,w,E){var S=E.v,x=E.w;w.hasEdge(S,x)||(S=E.w,x=E.v);var C=y.node(S),_=y.node(x),k=C,T=!1;C.lim>_.lim&&(k=_,T=!0);var A=e.filter(w.edges(),function(R){return T===p(y,y.node(R.v),k)&&T!==p(y,y.node(R.w),k)});return e.minBy(A,function(R){return t(w,R)})}function b(y,w,E,S){var x=E.v,C=E.w;y.removeEdge(x,C),y.setEdge(S.v,S.w,{}),c(y),s(y,w),m(y,w)}function m(y,w){var E=e.find(y.nodes(),function(x){return!w.node(x).parent}),S=a(y,E);S=S.slice(1),e.forEach(S,function(x){var C=y.node(x).parent,_=w.edge(x,C),k=!1;_||(_=w.edge(C,x),k=!0),w.node(x).rank=w.node(C).rank+(k?_.minlen:-_.minlen)})}function g(y,w,E){return y.hasEdge(w,E)}function p(y,w,E){return E.low<=w.lim&&w.lim<=E.lim}return iy}var oy,kT;function SV(){if(kT)return oy;kT=1;var e=Jl(),r=e.longestPath,t=vL(),n=EV();oy=a;function a(s){switch(s.graph().ranker){case"network-simplex":u(s);break;case"tight-tree":o(s);break;case"longest-path":i(s);break;default:u(s)}}var i=r;function o(s){r(s),t(s)}function u(s){n(s)}return oy}var uy,_T;function CV(){if(_T)return uy;_T=1;var e=tr();uy=r;function r(a){var i=n(a);e.forEach(a.graph().dummyChains,function(o){for(var u=a.node(o),s=u.edgeObj,l=t(a,i,s.v,s.w),f=l.path,c=l.lca,d=0,v=f[d],h=!0;o!==s.w;){if(u=a.node(o),h){for(;(v=f[d])!==c&&a.node(v).maxRank<u.rank;)d++;v===c&&(h=!1)}if(!h){for(;d<f.length-1&&a.node(v=f[d+1]).minRank<=u.rank;)d++;v=f[d]}a.setParent(o,v),o=a.successors(o)[0]}})}function t(a,i,o,u){var s=[],l=[],f=Math.min(i[o].low,i[u].low),c=Math.max(i[o].lim,i[u].lim),d,v;d=o;do d=a.parent(d),s.push(d);while(d&&(i[d].low>f||c>i[d].lim));for(v=d,d=u;(d=a.parent(d))!==v;)l.push(d);return{path:s.concat(l.reverse()),lca:v}}function n(a){var i={},o=0;function u(s){var l=o;e.forEach(a.children(s),u),i[s]={low:l,lim:o++}}return e.forEach(a.children(),u),i}return uy}var sy,TT;function kV(){if(TT)return sy;TT=1;var e=tr(),r=yt();sy={run:t,cleanup:o};function t(u){var s=r.addDummyNode(u,"root",{},"_root"),l=a(u),f=e.max(e.values(l))-1,c=2*f+1;u.graph().nestingRoot=s,e.forEach(u.edges(),function(v){u.edge(v).minlen*=c});var d=i(u)+1;e.forEach(u.children(),function(v){n(u,s,c,d,f,l,v)}),u.graph().nodeRankFactor=c}function n(u,s,l,f,c,d,v){var h=u.children(v);if(!h.length){v!==s&&u.setEdge(s,v,{weight:0,minlen:l});return}var b=r.addBorderNode(u,"_bt"),m=r.addBorderNode(u,"_bb"),g=u.node(v);u.setParent(b,v),g.borderTop=b,u.setParent(m,v),g.borderBottom=m,e.forEach(h,function(p){n(u,s,l,f,c,d,p);var y=u.node(p),w=y.borderTop?y.borderTop:p,E=y.borderBottom?y.borderBottom:p,S=y.borderTop?f:2*f,x=w!==E?1:c-d[v]+1;u.setEdge(b,w,{weight:S,minlen:x,nestingEdge:!0}),u.setEdge(E,m,{weight:S,minlen:x,nestingEdge:!0})}),u.parent(v)||u.setEdge(s,b,{weight:0,minlen:c+d[v]})}function a(u){var s={};function l(f,c){var d=u.children(f);d&&d.length&&e.forEach(d,function(v){l(v,c+1)}),s[f]=c}return e.forEach(u.children(),function(f){l(f,1)}),s}function i(u){return e.reduce(u.edges(),function(s,l){return s+u.edge(l).weight},0)}function o(u){var s=u.graph();u.removeNode(s.nestingRoot),delete s.nestingRoot,e.forEach(u.edges(),function(l){var f=u.edge(l);f.nestingEdge&&u.removeEdge(l)})}return sy}var ly,AT;function _V(){if(AT)return ly;AT=1;var e=tr(),r=yt();ly=t;function t(a){function i(o){var u=a.children(o),s=a.node(o);if(u.length&&e.forEach(u,i),e.has(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var l=s.minRank,f=s.maxRank+1;l<f;++l)n(a,"borderLeft","_bl",o,s,l),n(a,"borderRight","_br",o,s,l)}}e.forEach(a.children(),i)}function n(a,i,o,u,s,l){var f={width:0,height:0,rank:l,borderType:i},c=s[i][l-1],d=r.addDummyNode(a,"border",f,o);s[i][l]=d,a.setParent(d,u),c&&a.setEdge(c,d,{weight:1})}return ly}var fy,RT;function TV(){if(RT)return fy;RT=1;var e=tr();fy={adjust:r,undo:t};function r(l){var f=l.graph().rankdir.toLowerCase();(f==="lr"||f==="rl")&&n(l)}function t(l){var f=l.graph().rankdir.toLowerCase();(f==="bt"||f==="rl")&&i(l),(f==="lr"||f==="rl")&&(u(l),n(l))}function n(l){e.forEach(l.nodes(),function(f){a(l.node(f))}),e.forEach(l.edges(),function(f){a(l.edge(f))})}function a(l){var f=l.width;l.width=l.height,l.height=f}function i(l){e.forEach(l.nodes(),function(f){o(l.node(f))}),e.forEach(l.edges(),function(f){var c=l.edge(f);e.forEach(c.points,o),e.has(c,"y")&&o(c)})}function o(l){l.y=-l.y}function u(l){e.forEach(l.nodes(),function(f){s(l.node(f))}),e.forEach(l.edges(),function(f){var c=l.edge(f);e.forEach(c.points,s),e.has(c,"x")&&s(c)})}function s(l){var f=l.x;l.x=l.y,l.y=f}return fy}var cy,PT;function AV(){if(PT)return cy;PT=1;var e=tr();cy=r;function r(t){var n={},a=e.filter(t.nodes(),function(l){return!t.children(l).length}),i=e.max(e.map(a,function(l){return t.node(l).rank})),o=e.map(e.range(i+1),function(){return[]});function u(l){if(!e.has(n,l)){n[l]=!0;var f=t.node(l);o[f.rank].push(l),e.forEach(t.successors(l),u)}}var s=e.sortBy(a,function(l){return t.node(l).rank});return e.forEach(s,u),o}return cy}var dy,DT;function RV(){if(DT)return dy;DT=1;var e=tr();dy=r;function r(n,a){for(var i=0,o=1;o<a.length;++o)i+=t(n,a[o-1],a[o]);return i}function t(n,a,i){for(var o=e.zipObject(i,e.map(i,function(d,v){return v})),u=e.flatten(e.map(a,function(d){return e.sortBy(e.map(n.outEdges(d),function(v){return{pos:o[v.w],weight:n.edge(v).weight}}),"pos")}),!0),s=1;s<i.length;)s<<=1;var l=2*s-1;s-=1;var f=e.map(new Array(l),function(){return 0}),c=0;return e.forEach(u.forEach(function(d){var v=d.pos+s;f[v]+=d.weight;for(var h=0;v>0;)v%2&&(h+=f[v+1]),v=v-1>>1,f[v]+=d.weight;c+=d.weight*h})),c}return dy}var vy,IT;function PV(){if(IT)return vy;IT=1;var e=tr();vy=r;function r(t,n){return e.map(n,function(a){var i=t.inEdges(a);if(i.length){var o=e.reduce(i,function(u,s){var l=t.edge(s),f=t.node(s.v);return{sum:u.sum+l.weight*f.order,weight:u.weight+l.weight}},{sum:0,weight:0});return{v:a,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:a}})}return vy}var hy,LT;function DV(){if(LT)return hy;LT=1;var e=tr();hy=r;function r(a,i){var o={};e.forEach(a,function(s,l){var f=o[s.v]={indegree:0,in:[],out:[],vs:[s.v],i:l};e.isUndefined(s.barycenter)||(f.barycenter=s.barycenter,f.weight=s.weight)}),e.forEach(i.edges(),function(s){var l=o[s.v],f=o[s.w];!e.isUndefined(l)&&!e.isUndefined(f)&&(f.indegree++,l.out.push(o[s.w]))});var u=e.filter(o,function(s){return!s.indegree});return t(u)}function t(a){var i=[];function o(l){return function(f){f.merged||(e.isUndefined(f.barycenter)||e.isUndefined(l.barycenter)||f.barycenter>=l.barycenter)&&n(l,f)}}function u(l){return function(f){f.in.push(l),--f.indegree===0&&a.push(f)}}for(;a.length;){var s=a.pop();i.push(s),e.forEach(s.in.reverse(),o(s)),e.forEach(s.out,u(s))}return e.map(e.filter(i,function(l){return!l.merged}),function(l){return e.pick(l,["vs","i","barycenter","weight"])})}function n(a,i){var o=0,u=0;a.weight&&(o+=a.barycenter*a.weight,u+=a.weight),i.weight&&(o+=i.barycenter*i.weight,u+=i.weight),a.vs=i.vs.concat(a.vs),a.barycenter=o/u,a.weight=u,a.i=Math.min(i.i,a.i),i.merged=!0}return hy}var py,OT;function IV(){if(OT)return py;OT=1;var e=tr(),r=yt();py=t;function t(i,o){var u=r.partition(i,function(b){return e.has(b,"barycenter")}),s=u.lhs,l=e.sortBy(u.rhs,function(b){return-b.i}),f=[],c=0,d=0,v=0;s.sort(a(!!o)),v=n(f,l,v),e.forEach(s,function(b){v+=b.vs.length,f.push(b.vs),c+=b.barycenter*b.weight,d+=b.weight,v=n(f,l,v)});var h={vs:e.flatten(f,!0)};return d&&(h.barycenter=c/d,h.weight=d),h}function n(i,o,u){for(var s;o.length&&(s=e.last(o)).i<=u;)o.pop(),i.push(s.vs),u++;return u}function a(i){return function(o,u){return o.barycenter<u.barycenter?-1:o.barycenter>u.barycenter?1:i?u.i-o.i:o.i-u.i}}return py}var gy,MT;function LV(){if(MT)return gy;MT=1;var e=tr(),r=PV(),t=DV(),n=IV();gy=a;function a(u,s,l,f){var c=u.children(s),d=u.node(s),v=d?d.borderLeft:void 0,h=d?d.borderRight:void 0,b={};v&&(c=e.filter(c,function(E){return E!==v&&E!==h}));var m=r(u,c);e.forEach(m,function(E){if(u.children(E.v).length){var S=a(u,E.v,l,f);b[E.v]=S,e.has(S,"barycenter")&&o(E,S)}});var g=t(m,l);i(g,b);var p=n(g,f);if(v&&(p.vs=e.flatten([v,p.vs,h],!0),u.predecessors(v).length)){var y=u.node(u.predecessors(v)[0]),w=u.node(u.predecessors(h)[0]);e.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+y.order+w.order)/(p.weight+2),p.weight+=2}return p}function i(u,s){e.forEach(u,function(l){l.vs=e.flatten(l.vs.map(function(f){return s[f]?s[f].vs:f}),!0)})}function o(u,s){e.isUndefined(u.barycenter)?(u.barycenter=s.barycenter,u.weight=s.weight):(u.barycenter=(u.barycenter*u.weight+s.barycenter*s.weight)/(u.weight+s.weight),u.weight+=s.weight)}return gy}var my,BT;function OV(){if(BT)return my;BT=1;var e=tr(),r=Jt().Graph;my=t;function t(a,i,o){var u=n(a),s=new r({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(l){return a.node(l)});return e.forEach(a.nodes(),function(l){var f=a.node(l),c=a.parent(l);(f.rank===i||f.minRank<=i&&i<=f.maxRank)&&(s.setNode(l),s.setParent(l,c||u),e.forEach(a[o](l),function(d){var v=d.v===l?d.w:d.v,h=s.edge(v,l),b=e.isUndefined(h)?0:h.weight;s.setEdge(v,l,{weight:a.edge(d).weight+b})}),e.has(f,"minRank")&&s.setNode(l,{borderLeft:f.borderLeft[i],borderRight:f.borderRight[i]}))}),s}function n(a){for(var i;a.hasNode(i=e.uniqueId("_root")););return i}return my}var yy,NT;function MV(){if(NT)return yy;NT=1;var e=tr();yy=r;function r(t,n,a){var i={},o;e.forEach(a,function(u){for(var s=t.parent(u),l,f;s;){if(l=t.parent(s),l?(f=i[l],i[l]=s):(f=o,o=s),f&&f!==s){n.setEdge(f,s);return}s=l}})}return yy}var by,qT;function BV(){if(qT)return by;qT=1;var e=tr(),r=AV(),t=RV(),n=LV(),a=OV(),i=MV(),o=Jt().Graph,u=yt();by=s;function s(d){var v=u.maxRank(d),h=l(d,e.range(1,v+1),"inEdges"),b=l(d,e.range(v-1,-1,-1),"outEdges"),m=r(d);c(d,m);for(var g=Number.POSITIVE_INFINITY,p,y=0,w=0;w<4;++y,++w){f(y%2?h:b,y%4>=2),m=u.buildLayerMatrix(d);var E=t(d,m);E<g&&(w=0,p=e.cloneDeep(m),g=E)}c(d,p)}function l(d,v,h){return e.map(v,function(b){return a(d,b,h)})}function f(d,v){var h=new o;e.forEach(d,function(b){var m=b.graph().root,g=n(b,m,h,v);e.forEach(g.vs,function(p,y){b.node(p).order=y}),i(b,h,g.vs)})}function c(d,v){e.forEach(v,function(h){e.forEach(h,function(b,m){d.node(b).order=m})})}return by}var wy,FT;function NV(){if(FT)return wy;FT=1;var e=tr(),r=Jt().Graph,t=yt();wy={positionX:h,findType1Conflicts:n,findType2Conflicts:a,addConflict:o,hasConflict:u,verticalAlignment:s,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:c,balance:v};function n(g,p){var y={};function w(E,S){var x=0,C=0,_=E.length,k=e.last(S);return e.forEach(S,function(T,A){var R=i(g,T),I=R?g.node(R).order:_;(R||T===k)&&(e.forEach(S.slice(C,A+1),function(L){e.forEach(g.predecessors(L),function(B){var O=g.node(B),D=O.order;(D<x||I<D)&&!(O.dummy&&g.node(L).dummy)&&o(y,B,L)})}),C=A+1,x=I)}),S}return e.reduce(p,w),y}function a(g,p){var y={};function w(S,x,C,_,k){var T;e.forEach(e.range(x,C),function(A){T=S[A],g.node(T).dummy&&e.forEach(g.predecessors(T),function(R){var I=g.node(R);I.dummy&&(I.order<_||I.order>k)&&o(y,R,T)})})}function E(S,x){var C=-1,_,k=0;return e.forEach(x,function(T,A){if(g.node(T).dummy==="border"){var R=g.predecessors(T);R.length&&(_=g.node(R[0]).order,w(x,k,A,C,_),k=A,C=_)}w(x,k,x.length,_,S.length)}),x}return e.reduce(p,E),y}function i(g,p){if(g.node(p).dummy)return e.find(g.predecessors(p),function(y){return g.node(y).dummy})}function o(g,p,y){if(p>y){var w=p;p=y,y=w}var E=g[p];E||(g[p]=E={}),E[y]=!0}function u(g,p,y){if(p>y){var w=p;p=y,y=w}return e.has(g[p],y)}function s(g,p,y,w){var E={},S={},x={};return e.forEach(p,function(C){e.forEach(C,function(_,k){E[_]=_,S[_]=_,x[_]=k})}),e.forEach(p,function(C){var _=-1;e.forEach(C,function(k){var T=w(k);if(T.length){T=e.sortBy(T,function(B){return x[B]});for(var A=(T.length-1)/2,R=Math.floor(A),I=Math.ceil(A);R<=I;++R){var L=T[R];S[k]===k&&_<x[L]&&!u(y,k,L)&&(S[L]=k,S[k]=E[k]=E[L],_=x[L])}}})}),{root:E,align:S}}function l(g,p,y,w,E){var S={},x=f(g,p,y,E),C=E?"borderLeft":"borderRight";function _(A,R){for(var I=x.nodes(),L=I.pop(),B={};L;)B[L]?A(L):(B[L]=!0,I.push(L),I=I.concat(R(L))),L=I.pop()}function k(A){S[A]=x.inEdges(A).reduce(function(R,I){return Math.max(R,S[I.v]+x.edge(I))},0)}function T(A){var R=x.outEdges(A).reduce(function(L,B){return Math.min(L,S[B.w]-x.edge(B))},Number.POSITIVE_INFINITY),I=g.node(A);R!==Number.POSITIVE_INFINITY&&I.borderType!==C&&(S[A]=Math.max(S[A],R))}return _(k,x.predecessors.bind(x)),_(T,x.successors.bind(x)),e.forEach(w,function(A){S[A]=S[y[A]]}),S}function f(g,p,y,w){var E=new r,S=g.graph(),x=b(S.nodesep,S.edgesep,w);return e.forEach(p,function(C){var _;e.forEach(C,function(k){var T=y[k];if(E.setNode(T),_){var A=y[_],R=E.edge(A,T);E.setEdge(A,T,Math.max(x(g,k,_),R||0))}_=k})}),E}function c(g,p){return e.minBy(e.values(p),function(y){var w=Number.NEGATIVE_INFINITY,E=Number.POSITIVE_INFINITY;return e.forIn(y,function(S,x){var C=m(g,x)/2;w=Math.max(S+C,w),E=Math.min(S-C,E)}),w-E})}function d(g,p){var y=e.values(p),w=e.min(y),E=e.max(y);e.forEach(["u","d"],function(S){e.forEach(["l","r"],function(x){var C=S+x,_=g[C],k;if(_!==p){var T=e.values(_);k=x==="l"?w-e.min(T):E-e.max(T),k&&(g[C]=e.mapValues(_,function(A){return A+k}))}})})}function v(g,p){return e.mapValues(g.ul,function(y,w){if(p)return g[p.toLowerCase()][w];var E=e.sortBy(e.map(g,w));return(E[1]+E[2])/2})}function h(g){var p=t.buildLayerMatrix(g),y=e.merge(n(g,p),a(g,p)),w={},E;e.forEach(["u","d"],function(x){E=x==="u"?p:e.values(p).reverse(),e.forEach(["l","r"],function(C){C==="r"&&(E=e.map(E,function(A){return e.values(A).reverse()}));var _=(x==="u"?g.predecessors:g.successors).bind(g),k=s(g,E,y,_),T=l(g,E,k.root,k.align,C==="r");C==="r"&&(T=e.mapValues(T,function(A){return-A})),w[x+C]=T})});var S=c(g,w);return d(w,S),v(w,g.graph().align)}function b(g,p,y){return function(w,E,S){var x=w.node(E),C=w.node(S),_=0,k;if(_+=x.width/2,e.has(x,"labelpos"))switch(x.labelpos.toLowerCase()){case"l":k=-x.width/2;break;case"r":k=x.width/2;break}if(k&&(_+=y?k:-k),k=0,_+=(x.dummy?p:g)/2,_+=(C.dummy?p:g)/2,_+=C.width/2,e.has(C,"labelpos"))switch(C.labelpos.toLowerCase()){case"l":k=C.width/2;break;case"r":k=-C.width/2;break}return k&&(_+=y?k:-k),k=0,_}}function m(g,p){return g.node(p).width}return wy}var xy,zT;function qV(){if(zT)return xy;zT=1;var e=tr(),r=yt(),t=NV().positionX;xy=n;function n(i){i=r.asNonCompoundGraph(i),a(i),e.forEach(t(i),function(o,u){i.node(u).x=o})}function a(i){var o=r.buildLayerMatrix(i),u=i.graph().ranksep,s=0;e.forEach(o,function(l){var f=e.max(e.map(l,function(c){return i.node(c).height}));e.forEach(l,function(c){i.node(c).y=s+f/2}),s+=f+u})}return xy}var Ey,VT;function FV(){if(VT)return Ey;VT=1;var e=tr(),r=wV(),t=xV(),n=SV(),a=yt().normalizeRanks,i=CV(),o=yt().removeEmptyRanks,u=kV(),s=_V(),l=TV(),f=BV(),c=qV(),d=yt(),v=Jt().Graph;Ey=h;function h(M,N){var V=N&&N.debugTiming?d.time:d.notime;V("layout",function(){var H=V("  buildLayoutGraph",function(){return _(M)});V("  runLayout",function(){b(H,V)}),V("  updateInputGraph",function(){m(M,H)})})}function b(M,N){N("    makeSpaceForEdgeLabels",function(){k(M)}),N("    removeSelfEdges",function(){F(M)}),N("    acyclic",function(){r.run(M)}),N("    nestingGraph.run",function(){u.run(M)}),N("    rank",function(){n(d.asNonCompoundGraph(M))}),N("    injectEdgeLabelProxies",function(){T(M)}),N("    removeEmptyRanks",function(){o(M)}),N("    nestingGraph.cleanup",function(){u.cleanup(M)}),N("    normalizeRanks",function(){a(M)}),N("    assignRankMinMax",function(){A(M)}),N("    removeEdgeLabelProxies",function(){R(M)}),N("    normalize.run",function(){t.run(M)}),N("    parentDummyChains",function(){i(M)}),N("    addBorderSegments",function(){s(M)}),N("    order",function(){f(M)}),N("    insertSelfEdges",function(){z(M)}),N("    adjustCoordinateSystem",function(){l.adjust(M)}),N("    position",function(){c(M)}),N("    positionSelfEdges",function(){q(M)}),N("    removeBorderNodes",function(){D(M)}),N("    normalize.undo",function(){t.undo(M)}),N("    fixupEdgeLabelCoords",function(){B(M)}),N("    undoCoordinateSystem",function(){l.undo(M)}),N("    translateGraph",function(){I(M)}),N("    assignNodeIntersects",function(){L(M)}),N("    reversePoints",function(){O(M)}),N("    acyclic.undo",function(){r.undo(M)})}function m(M,N){e.forEach(M.nodes(),function(V){var H=M.node(V),re=N.node(V);H&&(H.x=re.x,H.y=re.y,N.children(V).length&&(H.width=re.width,H.height=re.height))}),e.forEach(M.edges(),function(V){var H=M.edge(V),re=N.edge(V);H.points=re.points,e.has(re,"x")&&(H.x=re.x,H.y=re.y)}),M.graph().width=N.graph().width,M.graph().height=N.graph().height}var g=["nodesep","edgesep","ranksep","marginx","marginy"],p={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},y=["acyclicer","ranker","rankdir","align"],w=["width","height"],E={width:0,height:0},S=["minlen","weight","width","height","labeloffset"],x={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C=["labelpos"];function _(M){var N=new v({multigraph:!0,compound:!0}),V=Y(M.graph());return N.setGraph(e.merge({},p,$(V,g),e.pick(V,y))),e.forEach(M.nodes(),function(H){var re=Y(M.node(H));N.setNode(H,e.defaults($(re,w),E)),N.setParent(H,M.parent(H))}),e.forEach(M.edges(),function(H){var re=Y(M.edge(H));N.setEdge(H,e.merge({},x,$(re,S),e.pick(re,C)))}),N}function k(M){var N=M.graph();N.ranksep/=2,e.forEach(M.edges(),function(V){var H=M.edge(V);H.minlen*=2,H.labelpos.toLowerCase()!=="c"&&(N.rankdir==="TB"||N.rankdir==="BT"?H.width+=H.labeloffset:H.height+=H.labeloffset)})}function T(M){e.forEach(M.edges(),function(N){var V=M.edge(N);if(V.width&&V.height){var H=M.node(N.v),re=M.node(N.w),j={rank:(re.rank-H.rank)/2+H.rank,e:N};d.addDummyNode(M,"edge-proxy",j,"_ep")}})}function A(M){var N=0;e.forEach(M.nodes(),function(V){var H=M.node(V);H.borderTop&&(H.minRank=M.node(H.borderTop).rank,H.maxRank=M.node(H.borderBottom).rank,N=e.max(N,H.maxRank))}),M.graph().maxRank=N}function R(M){e.forEach(M.nodes(),function(N){var V=M.node(N);V.dummy==="edge-proxy"&&(M.edge(V.e).labelRank=V.rank,M.removeNode(N))})}function I(M){var N=Number.POSITIVE_INFINITY,V=0,H=Number.POSITIVE_INFINITY,re=0,j=M.graph(),U=j.marginx||0,G=j.marginy||0;function K(X){var ne=X.x,ie=X.y,Ae=X.width,ue=X.height;N=Math.min(N,ne-Ae/2),V=Math.max(V,ne+Ae/2),H=Math.min(H,ie-ue/2),re=Math.max(re,ie+ue/2)}e.forEach(M.nodes(),function(X){K(M.node(X))}),e.forEach(M.edges(),function(X){var ne=M.edge(X);e.has(ne,"x")&&K(ne)}),N-=U,H-=G,e.forEach(M.nodes(),function(X){var ne=M.node(X);ne.x-=N,ne.y-=H}),e.forEach(M.edges(),function(X){var ne=M.edge(X);e.forEach(ne.points,function(ie){ie.x-=N,ie.y-=H}),e.has(ne,"x")&&(ne.x-=N),e.has(ne,"y")&&(ne.y-=H)}),j.width=V-N+U,j.height=re-H+G}function L(M){e.forEach(M.edges(),function(N){var V=M.edge(N),H=M.node(N.v),re=M.node(N.w),j,U;V.points?(j=V.points[0],U=V.points[V.points.length-1]):(V.points=[],j=re,U=H),V.points.unshift(d.intersectRect(H,j)),V.points.push(d.intersectRect(re,U))})}function B(M){e.forEach(M.edges(),function(N){var V=M.edge(N);if(e.has(V,"x"))switch((V.labelpos==="l"||V.labelpos==="r")&&(V.width-=V.labeloffset),V.labelpos){case"l":V.x-=V.width/2+V.labeloffset;break;case"r":V.x+=V.width/2+V.labeloffset;break}})}function O(M){e.forEach(M.edges(),function(N){var V=M.edge(N);V.reversed&&V.points.reverse()})}function D(M){e.forEach(M.nodes(),function(N){if(M.children(N).length){var V=M.node(N),H=M.node(V.borderTop),re=M.node(V.borderBottom),j=M.node(e.last(V.borderLeft)),U=M.node(e.last(V.borderRight));V.width=Math.abs(U.x-j.x),V.height=Math.abs(re.y-H.y),V.x=j.x+V.width/2,V.y=H.y+V.height/2}}),e.forEach(M.nodes(),function(N){M.node(N).dummy==="border"&&M.removeNode(N)})}function F(M){e.forEach(M.edges(),function(N){if(N.v===N.w){var V=M.node(N.v);V.selfEdges||(V.selfEdges=[]),V.selfEdges.push({e:N,label:M.edge(N)}),M.removeEdge(N)}})}function z(M){var N=d.buildLayerMatrix(M);e.forEach(N,function(V){var H=0;e.forEach(V,function(re,j){var U=M.node(re);U.order=j+H,e.forEach(U.selfEdges,function(G){d.addDummyNode(M,"selfedge",{width:G.label.width,height:G.label.height,rank:U.rank,order:j+ ++H,e:G.e,label:G.label},"_se")}),delete U.selfEdges})})}function q(M){e.forEach(M.nodes(),function(N){var V=M.node(N);if(V.dummy==="selfedge"){var H=M.node(V.e.v),re=H.x+H.width/2,j=H.y,U=V.x-re,G=H.height/2;M.setEdge(V.e,V.label),M.removeNode(N),V.label.points=[{x:re+2*U/3,y:j-G},{x:re+5*U/6,y:j-G},{x:re+U,y:j},{x:re+5*U/6,y:j+G},{x:re+2*U/3,y:j+G}],V.label.x=V.x,V.label.y=V.y}})}function $(M,N){return e.mapValues(e.pick(M,N),Number)}function Y(M){var N={};return e.forEach(M,function(V,H){N[H.toLowerCase()]=V}),N}return Ey}var Sy,$T;function zV(){if($T)return Sy;$T=1;var e=tr(),r=yt(),t=Jt().Graph;Sy={debugOrdering:n};function n(a){var i=r.buildLayerMatrix(a),o=new t({compound:!0,multigraph:!0}).setGraph({});return e.forEach(a.nodes(),function(u){o.setNode(u,{label:u}),o.setParent(u,"layer"+a.node(u).rank)}),e.forEach(a.edges(),function(u){o.setEdge(u.v,u.w,{},u.name)}),e.forEach(i,function(u,s){var l="layer"+s;o.setNode(l,{rank:"same"}),e.reduce(u,function(f,c){return o.setEdge(f,c,{style:"invis"}),c})}),o}return Sy}var Cy,UT;function VV(){return UT||(UT=1,Cy="0.8.5"),Cy}var ky,GT;function $V(){return GT||(GT=1,ky={graphlib:Jt(),layout:FV(),debug:zV(),util:{time:yt().time,notime:yt().notime},version:VV()}),ky}(function(e,r){(function(n,a){e.exports=a($V())})(Vo,function(t){return function(n){var a={};function i(o){if(a[o])return a[o].exports;var u=a[o]={i:o,l:!1,exports:{}};return n[o].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=n,i.c=a,i.d=function(o,u,s){i.o(o,u)||Object.defineProperty(o,u,{enumerable:!0,get:s})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,u){if(u&1&&(o=i(o)),u&8||u&4&&typeof o=="object"&&o&&o.__esModule)return o;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:o}),u&2&&typeof o!="string")for(var l in o)i.d(s,l,(function(f){return o[f]}).bind(null,l));return s},i.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(u,"a",u),u},i.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},i.p="",i(i.s=0)}([function(n,a,i){var o=i(1),u=function(l){l&&l("layout","dagre",o)};typeof cytoscape<"u"&&u(cytoscape),n.exports=u},function(n,a,i){function o(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(h){return typeof h}:o=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},o(d)}var u=function(v){return typeof v=="function"},s=i(2),l=i(3),f=i(4);function c(d){this.options=l({},s,d)}c.prototype.run=function(){var d=this.options,v=this,h=d.cy,b=d.eles,m=function(q,$){return u($)?$.apply(q,[q]):$},g=d.boundingBox||{x1:0,y1:0,w:h.width(),h:h.height()};g.x2===void 0&&(g.x2=g.x1+g.w),g.w===void 0&&(g.w=g.x2-g.x1),g.y2===void 0&&(g.y2=g.y1+g.h),g.h===void 0&&(g.h=g.y2-g.y1);var p=new f.graphlib.Graph({multigraph:!0,compound:!0}),y={},w=function(q,$){$!=null&&(y[q]=$)};w("nodesep",d.nodeSep),w("edgesep",d.edgeSep),w("ranksep",d.rankSep),w("rankdir",d.rankDir),w("align",d.align),w("ranker",d.ranker),w("acyclicer",d.acyclicer),p.setGraph(y),p.setDefaultEdgeLabel(function(){return{}}),p.setDefaultNodeLabel(function(){return{}});var E=b.nodes();u(d.sort)&&(E=E.sort(d.sort));for(var S=0;S<E.length;S++){var x=E[S],C=x.layoutDimensions(d);p.setNode(x.id(),{width:C.w,height:C.h,name:x.id()})}for(var _=0;_<E.length;_++){var k=E[_];k.isChild()&&p.setParent(k.id(),k.parent().id())}var T=b.edges().stdFilter(function(z){return!z.source().isParent()&&!z.target().isParent()});u(d.sort)&&(T=T.sort(d.sort));for(var A=0;A<T.length;A++){var R=T[A];p.setEdge(R.source().id(),R.target().id(),{minlen:m(R,d.minLen),weight:m(R,d.edgeWeight),name:R.id()},R.id())}f.layout(p);for(var I=p.nodes(),L=0;L<I.length;L++){var B=I[L],O=p.node(B);h.getElementById(B).scratch().dagre=O}var D;d.boundingBox?(D={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},E.forEach(function(z){var q=z.scratch().dagre;D.x1=Math.min(D.x1,q.x),D.x2=Math.max(D.x2,q.x),D.y1=Math.min(D.y1,q.y),D.y2=Math.max(D.y2,q.y)}),D.w=D.x2-D.x1,D.h=D.y2-D.y1):D=g;var F=function(q){if(d.boundingBox){var $=D.w===0?0:(q.x-D.x1)/D.w,Y=D.h===0?0:(q.y-D.y1)/D.h;return{x:g.x1+$*g.w,y:g.y1+Y*g.h}}else return q};return E.layoutPositions(v,d,function(z){z=o(z)==="object"?z:this;var q=z.scratch().dagre;return F({x:q.x,y:q.y})}),this},n.exports=c},function(n,a){var i={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(u){return 1},edgeWeight:function(u){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(u,s){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(u,s){return s},ready:function(){},sort:void 0,stop:function(){}};n.exports=i},function(n,a){n.exports=Object.assign!=null?Object.assign.bind(Object):function(i){for(var o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];return u.forEach(function(l){Object.keys(l).forEach(function(f){return i[f]=l[f]})}),i}},function(n,a){n.exports=t}])})})(hI);var UV=hI.exports;const GV=K0(UV);ma.use(GV);const HV=[{selector:"node",style:{label:"data(label)","text-valign":"center","text-halign":"center","text-wrap":"wrap","text-max-width":160,"font-size":10,"border-width":2,"border-color":"#2F4EA2",color:"#fff",padding:"6px"}},{selector:'node[type="group"]',style:{shape:"round-rectangle","background-color":"#4C7BD9"}},{selector:'node[type="host"]',style:{shape:"ellipse","background-color":"#4CD98F","border-color":"#2FA26A"}},{selector:'node[type="var"]',style:{shape:"diamond","background-color":"#D9B84C","border-color":"#A2852F",color:"#000"}},{selector:"edge",style:{"curve-style":"bezier",width:1.8,"line-color":"#B7C1D6","target-arrow-shape":"triangle","target-arrow-color":"#B7C1D6"}},{selector:"node:selected",style:{"border-width":4,"border-color":"#222"}}],_y={dagre:{name:"dagre",rankDir:"LR",nodeSep:40,edgeSep:16,rankSep:100,fit:!0,padding:16},breadthfirst:{name:"breadthfirst",directed:!0,spacingFactor:1.2,fit:!0,padding:16},concentric:{name:"concentric",minNodeSpacing:20,fit:!0,padding:16},cose:{name:"cose",padding:16}};function WV({graph:e,showVars:r,onToggleVars:t}){const n=xt.useMemo(()=>[...e.nodes.map(l=>({data:{id:l.id,label:l.label,type:l.type,vars:JSON.stringify(l.vars||{},null,2)}})),...e.links.map(l=>({data:{source:l.source,target:l.target}}))],[e]),[a,i]=xt.useState("dagre"),[o,u]=xt.useState(null),s=xt.useRef(null);return xt.useEffect(()=>{s.current&&(s.current.on("select","node",l=>u(l.target.data())),s.current.on("unselect","node",()=>u(null)))},[]),xt.useEffect(()=>{s.current&&s.current.layout(_y[a]).run()},[a,n]),Qr.jsxs("div",{style:{display:"grid",gridTemplateRows:"48px 1fr 180px",height:"100%"},children:[Qr.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 12px",borderBottom:"1px solid #e5e5e5"},children:[Qr.jsx("b",{children:"Layout:"}),Object.keys(_y).map(l=>Qr.jsx("button",{onClick:()=>i(l),style:{padding:"6px 10px",border:"1px solid #ccc",background:a===l?"#efefef":"#fff",borderRadius:6},children:l},l)),Qr.jsx("button",{onClick:()=>s.current&&s.current.fit(),style:{marginLeft:"auto",padding:"6px 10px",border:"1px solid #ccc",borderRadius:6},children:"Fit"}),Qr.jsx("button",{onClick:t,style:{padding:"6px 10px",border:"1px solid #ccc",background:r?"#efefef":"#fff",borderRadius:6},children:r?"Hide Variables":"Show Variables"})]}),Qr.jsx(T3,{elements:n,layout:_y[a],stylesheet:HV,cy:l=>{s.current=l},style:{width:"100%",height:"100%",background:"#fff"},minZoom:.2,maxZoom:3,wheelSensitivity:.2}),Qr.jsxs("div",{style:{borderTop:"1px solid #e5e5e5",padding:"8px 12px",overflow:"auto",background:"#fafafa"},children:[Qr.jsx("b",{children:"Selection:"}),o?Qr.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:o.vars||"(group/var)"}):Qr.jsx("div",{style:{color:"#666"},children:"Click a host to see its variables"})]})]})}/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function hL(e){return typeof e>"u"||e===null}function KV(e){return typeof e=="object"&&e!==null}function jV(e){return Array.isArray(e)?e:hL(e)?[]:[e]}function YV(e,r){var t,n,a,i;if(r)for(i=Object.keys(r),t=0,n=i.length;t<n;t+=1)a=i[t],e[a]=r[a];return e}function XV(e,r){var t="",n;for(n=0;n<r;n+=1)t+=e;return t}function ZV(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var QV=hL,JV=KV,e$=jV,r$=XV,t$=ZV,n$=YV,Er={isNothing:QV,isObject:JV,toArray:e$,repeat:r$,isNegativeZero:t$,extend:n$};function pL(e,r){var t="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(t+='in "'+e.mark.name+'" '),t+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!r&&e.mark.snippet&&(t+=`

`+e.mark.snippet),n+" "+t):n}function qu(e,r){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=r,this.message=pL(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}qu.prototype=Object.create(Error.prototype);qu.prototype.constructor=qu;qu.prototype.toString=function(r){return this.name+": "+pL(this,r)};var rt=qu;function Ty(e,r,t,n,a){var i="",o="",u=Math.floor(a/2)-1;return n-r>u&&(i=" ... ",r=n-u+i.length),t-n>u&&(o=" ...",t=n+u-o.length),{str:i+e.slice(r,t).replace(/\t/g,"")+o,pos:n-r+i.length}}function Ay(e,r){return Er.repeat(" ",r-e.length)+e}function a$(e,r){if(r=Object.create(r||null),!e.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var t=/\r?\n|\r|\0/g,n=[0],a=[],i,o=-1;i=t.exec(e.buffer);)a.push(i.index),n.push(i.index+i[0].length),e.position<=i.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var u="",s,l,f=Math.min(e.line+r.linesAfter,a.length).toString().length,c=r.maxLength-(r.indent+f+3);for(s=1;s<=r.linesBefore&&!(o-s<0);s++)l=Ty(e.buffer,n[o-s],a[o-s],e.position-(n[o]-n[o-s]),c),u=Er.repeat(" ",r.indent)+Ay((e.line-s+1).toString(),f)+" | "+l.str+`
`+u;for(l=Ty(e.buffer,n[o],a[o],e.position,c),u+=Er.repeat(" ",r.indent)+Ay((e.line+1).toString(),f)+" | "+l.str+`
`,u+=Er.repeat("-",r.indent+f+3+l.pos)+`^
`,s=1;s<=r.linesAfter&&!(o+s>=a.length);s++)l=Ty(e.buffer,n[o+s],a[o+s],e.position-(n[o]-n[o+s]),c),u+=Er.repeat(" ",r.indent)+Ay((e.line+s+1).toString(),f)+" | "+l.str+`
`;return u.replace(/\n$/,"")}var i$=a$,o$=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],u$=["scalar","sequence","mapping"];function s$(e){var r={};return e!==null&&Object.keys(e).forEach(function(t){e[t].forEach(function(n){r[String(n)]=t})}),r}function l$(e,r){if(r=r||{},Object.keys(r).forEach(function(t){if(o$.indexOf(t)===-1)throw new rt('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=r,this.tag=e,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(t){return t},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=s$(r.styleAliases||null),u$.indexOf(this.kind)===-1)throw new rt('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var qr=l$;function HT(e,r){var t=[];return e[r].forEach(function(n){var a=t.length;t.forEach(function(i,o){i.tag===n.tag&&i.kind===n.kind&&i.multi===n.multi&&(a=o)}),t[a]=n}),t}function f$(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,t;function n(a){a.multi?(e.multi[a.kind].push(a),e.multi.fallback.push(a)):e[a.kind][a.tag]=e.fallback[a.tag]=a}for(r=0,t=arguments.length;r<t;r+=1)arguments[r].forEach(n);return e}function $0(e){return this.extend(e)}$0.prototype.extend=function(r){var t=[],n=[];if(r instanceof qr)n.push(r);else if(Array.isArray(r))n=n.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(t=t.concat(r.implicit)),r.explicit&&(n=n.concat(r.explicit));else throw new rt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(i){if(!(i instanceof qr))throw new rt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new rt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new rt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(i){if(!(i instanceof qr))throw new rt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create($0.prototype);return a.implicit=(this.implicit||[]).concat(t),a.explicit=(this.explicit||[]).concat(n),a.compiledImplicit=HT(a,"implicit"),a.compiledExplicit=HT(a,"explicit"),a.compiledTypeMap=f$(a.compiledImplicit,a.compiledExplicit),a};var gL=$0,mL=new qr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),yL=new qr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),bL=new qr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),wL=new gL({explicit:[mL,yL,bL]});function c$(e){if(e===null)return!0;var r=e.length;return r===1&&e==="~"||r===4&&(e==="null"||e==="Null"||e==="NULL")}function d$(){return null}function v$(e){return e===null}var xL=new qr("tag:yaml.org,2002:null",{kind:"scalar",resolve:c$,construct:d$,predicate:v$,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function h$(e){if(e===null)return!1;var r=e.length;return r===4&&(e==="true"||e==="True"||e==="TRUE")||r===5&&(e==="false"||e==="False"||e==="FALSE")}function p$(e){return e==="true"||e==="True"||e==="TRUE"}function g$(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var EL=new qr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:h$,construct:p$,predicate:g$,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function m$(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function y$(e){return 48<=e&&e<=55}function b$(e){return 48<=e&&e<=57}function w$(e){if(e===null)return!1;var r=e.length,t=0,n=!1,a;if(!r)return!1;if(a=e[t],(a==="-"||a==="+")&&(a=e[++t]),a==="0"){if(t+1===r)return!0;if(a=e[++t],a==="b"){for(t++;t<r;t++)if(a=e[t],a!=="_"){if(a!=="0"&&a!=="1")return!1;n=!0}return n&&a!=="_"}if(a==="x"){for(t++;t<r;t++)if(a=e[t],a!=="_"){if(!m$(e.charCodeAt(t)))return!1;n=!0}return n&&a!=="_"}if(a==="o"){for(t++;t<r;t++)if(a=e[t],a!=="_"){if(!y$(e.charCodeAt(t)))return!1;n=!0}return n&&a!=="_"}}if(a==="_")return!1;for(;t<r;t++)if(a=e[t],a!=="_"){if(!b$(e.charCodeAt(t)))return!1;n=!0}return!(!n||a==="_")}function x$(e){var r=e,t=1,n;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),n=r[0],(n==="-"||n==="+")&&(n==="-"&&(t=-1),r=r.slice(1),n=r[0]),r==="0")return 0;if(n==="0"){if(r[1]==="b")return t*parseInt(r.slice(2),2);if(r[1]==="x")return t*parseInt(r.slice(2),16);if(r[1]==="o")return t*parseInt(r.slice(2),8)}return t*parseInt(r,10)}function E$(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Er.isNegativeZero(e)}var SL=new qr("tag:yaml.org,2002:int",{kind:"scalar",resolve:w$,construct:x$,predicate:E$,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),S$=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function C$(e){return!(e===null||!S$.test(e)||e[e.length-1]==="_")}function k$(e){var r,t;return r=e.replace(/_/g,"").toLowerCase(),t=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:t*parseFloat(r,10)}var _$=/^[-+]?[0-9]+e/;function T$(e,r){var t;if(isNaN(e))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Er.isNegativeZero(e))return"-0.0";return t=e.toString(10),_$.test(t)?t.replace("e",".e"):t}function A$(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Er.isNegativeZero(e))}var CL=new qr("tag:yaml.org,2002:float",{kind:"scalar",resolve:C$,construct:k$,predicate:A$,represent:T$,defaultStyle:"lowercase"}),kL=wL.extend({implicit:[xL,EL,SL,CL]}),_L=kL,TL=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),AL=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function R$(e){return e===null?!1:TL.exec(e)!==null||AL.exec(e)!==null}function P$(e){var r,t,n,a,i,o,u,s=0,l=null,f,c,d;if(r=TL.exec(e),r===null&&(r=AL.exec(e)),r===null)throw new Error("Date resolve error");if(t=+r[1],n=+r[2]-1,a=+r[3],!r[4])return new Date(Date.UTC(t,n,a));if(i=+r[4],o=+r[5],u=+r[6],r[7]){for(s=r[7].slice(0,3);s.length<3;)s+="0";s=+s}return r[9]&&(f=+r[10],c=+(r[11]||0),l=(f*60+c)*6e4,r[9]==="-"&&(l=-l)),d=new Date(Date.UTC(t,n,a,i,o,u,s)),l&&d.setTime(d.getTime()-l),d}function D$(e){return e.toISOString()}var RL=new qr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:R$,construct:P$,instanceOf:Date,represent:D$});function I$(e){return e==="<<"||e===null}var PL=new qr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:I$}),Db=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function L$(e){if(e===null)return!1;var r,t,n=0,a=e.length,i=Db;for(t=0;t<a;t++)if(r=i.indexOf(e.charAt(t)),!(r>64)){if(r<0)return!1;n+=6}return n%8===0}function O$(e){var r,t,n=e.replace(/[\r\n=]/g,""),a=n.length,i=Db,o=0,u=[];for(r=0;r<a;r++)r%4===0&&r&&(u.push(o>>16&255),u.push(o>>8&255),u.push(o&255)),o=o<<6|i.indexOf(n.charAt(r));return t=a%4*6,t===0?(u.push(o>>16&255),u.push(o>>8&255),u.push(o&255)):t===18?(u.push(o>>10&255),u.push(o>>2&255)):t===12&&u.push(o>>4&255),new Uint8Array(u)}function M$(e){var r="",t=0,n,a,i=e.length,o=Db;for(n=0;n<i;n++)n%3===0&&n&&(r+=o[t>>18&63],r+=o[t>>12&63],r+=o[t>>6&63],r+=o[t&63]),t=(t<<8)+e[n];return a=i%3,a===0?(r+=o[t>>18&63],r+=o[t>>12&63],r+=o[t>>6&63],r+=o[t&63]):a===2?(r+=o[t>>10&63],r+=o[t>>4&63],r+=o[t<<2&63],r+=o[64]):a===1&&(r+=o[t>>2&63],r+=o[t<<4&63],r+=o[64],r+=o[64]),r}function B$(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var DL=new qr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:L$,construct:O$,predicate:B$,represent:M$}),N$=Object.prototype.hasOwnProperty,q$=Object.prototype.toString;function F$(e){if(e===null)return!0;var r=[],t,n,a,i,o,u=e;for(t=0,n=u.length;t<n;t+=1){if(a=u[t],o=!1,q$.call(a)!=="[object Object]")return!1;for(i in a)if(N$.call(a,i))if(!o)o=!0;else return!1;if(!o)return!1;if(r.indexOf(i)===-1)r.push(i);else return!1}return!0}function z$(e){return e!==null?e:[]}var IL=new qr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:F$,construct:z$}),V$=Object.prototype.toString;function $$(e){if(e===null)return!0;var r,t,n,a,i,o=e;for(i=new Array(o.length),r=0,t=o.length;r<t;r+=1){if(n=o[r],V$.call(n)!=="[object Object]"||(a=Object.keys(n),a.length!==1))return!1;i[r]=[a[0],n[a[0]]]}return!0}function U$(e){if(e===null)return[];var r,t,n,a,i,o=e;for(i=new Array(o.length),r=0,t=o.length;r<t;r+=1)n=o[r],a=Object.keys(n),i[r]=[a[0],n[a[0]]];return i}var LL=new qr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:$$,construct:U$}),G$=Object.prototype.hasOwnProperty;function H$(e){if(e===null)return!0;var r,t=e;for(r in t)if(G$.call(t,r)&&t[r]!==null)return!1;return!0}function W$(e){return e!==null?e:{}}var OL=new qr("tag:yaml.org,2002:set",{kind:"mapping",resolve:H$,construct:W$}),Ib=_L.extend({implicit:[RL,PL],explicit:[DL,IL,LL,OL]}),ya=Object.prototype.hasOwnProperty,ef=1,ML=2,BL=3,rf=4,Ry=1,K$=2,WT=3,j$=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Y$=/[\x85\u2028\u2029]/,X$=/[,\[\]\{\}]/,NL=/^(?:!|!!|![a-z\-]+!)$/i,qL=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function KT(e){return Object.prototype.toString.call(e)}function cn(e){return e===10||e===13}function Ua(e){return e===9||e===32}function ht(e){return e===9||e===32||e===10||e===13}function Ni(e){return e===44||e===91||e===93||e===123||e===125}function Z$(e){var r;return 48<=e&&e<=57?e-48:(r=e|32,97<=r&&r<=102?r-97+10:-1)}function Q$(e){return e===120?2:e===117?4:e===85?8:0}function J$(e){return 48<=e&&e<=57?e-48:-1}function jT(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function e9(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var FL=new Array(256),zL=new Array(256);for(var bi=0;bi<256;bi++)FL[bi]=jT(bi)?1:0,zL[bi]=jT(bi);function r9(e,r){this.input=e,this.filename=r.filename||null,this.schema=r.schema||Ib,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function VL(e,r){var t={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return t.snippet=i$(t),new rt(r,t)}function Ee(e,r){throw VL(e,r)}function tf(e,r){e.onWarning&&e.onWarning.call(null,VL(e,r))}var YT={YAML:function(r,t,n){var a,i,o;r.version!==null&&Ee(r,"duplication of %YAML directive"),n.length!==1&&Ee(r,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),a===null&&Ee(r,"ill-formed argument of the YAML directive"),i=parseInt(a[1],10),o=parseInt(a[2],10),i!==1&&Ee(r,"unacceptable YAML version of the document"),r.version=n[0],r.checkLineBreaks=o<2,o!==1&&o!==2&&tf(r,"unsupported YAML version of the document")},TAG:function(r,t,n){var a,i;n.length!==2&&Ee(r,"TAG directive accepts exactly two arguments"),a=n[0],i=n[1],NL.test(a)||Ee(r,"ill-formed tag handle (first argument) of the TAG directive"),ya.call(r.tagMap,a)&&Ee(r,'there is a previously declared suffix for "'+a+'" tag handle'),qL.test(i)||Ee(r,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{Ee(r,"tag prefix is malformed: "+i)}r.tagMap[a]=i}};function sa(e,r,t,n){var a,i,o,u;if(r<t){if(u=e.input.slice(r,t),n)for(a=0,i=u.length;a<i;a+=1)o=u.charCodeAt(a),o===9||32<=o&&o<=1114111||Ee(e,"expected valid JSON character");else j$.test(u)&&Ee(e,"the stream contains non-printable characters");e.result+=u}}function XT(e,r,t,n){var a,i,o,u;for(Er.isObject(t)||Ee(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(t),o=0,u=a.length;o<u;o+=1)i=a[o],ya.call(r,i)||(r[i]=t[i],n[i]=!0)}function qi(e,r,t,n,a,i,o,u,s){var l,f;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),l=0,f=a.length;l<f;l+=1)Array.isArray(a[l])&&Ee(e,"nested arrays are not supported inside keys"),typeof a=="object"&&KT(a[l])==="[object Object]"&&(a[l]="[object Object]");if(typeof a=="object"&&KT(a)==="[object Object]"&&(a="[object Object]"),a=String(a),r===null&&(r={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(i))for(l=0,f=i.length;l<f;l+=1)XT(e,r,i[l],t);else XT(e,r,i,t);else!e.json&&!ya.call(t,a)&&ya.call(r,a)&&(e.line=o||e.line,e.lineStart=u||e.lineStart,e.position=s||e.position,Ee(e,"duplicated mapping key")),a==="__proto__"?Object.defineProperty(r,a,{configurable:!0,enumerable:!0,writable:!0,value:i}):r[a]=i,delete t[a];return r}function Lb(e){var r;r=e.input.charCodeAt(e.position),r===10?e.position++:r===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ee(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function gr(e,r,t){for(var n=0,a=e.input.charCodeAt(e.position);a!==0;){for(;Ua(a);)a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(r&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(cn(a))for(Lb(e),a=e.input.charCodeAt(e.position),n++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return t!==-1&&n!==0&&e.lineIndent<t&&tf(e,"deficient indentation"),n}function nc(e){var r=e.position,t;return t=e.input.charCodeAt(r),!!((t===45||t===46)&&t===e.input.charCodeAt(r+1)&&t===e.input.charCodeAt(r+2)&&(r+=3,t=e.input.charCodeAt(r),t===0||ht(t)))}function Ob(e,r){r===1?e.result+=" ":r>1&&(e.result+=Er.repeat(`
`,r-1))}function t9(e,r,t){var n,a,i,o,u,s,l,f,c=e.kind,d=e.result,v;if(v=e.input.charCodeAt(e.position),ht(v)||Ni(v)||v===35||v===38||v===42||v===33||v===124||v===62||v===39||v===34||v===37||v===64||v===96||(v===63||v===45)&&(a=e.input.charCodeAt(e.position+1),ht(a)||t&&Ni(a)))return!1;for(e.kind="scalar",e.result="",i=o=e.position,u=!1;v!==0;){if(v===58){if(a=e.input.charCodeAt(e.position+1),ht(a)||t&&Ni(a))break}else if(v===35){if(n=e.input.charCodeAt(e.position-1),ht(n))break}else{if(e.position===e.lineStart&&nc(e)||t&&Ni(v))break;if(cn(v))if(s=e.line,l=e.lineStart,f=e.lineIndent,gr(e,!1,-1),e.lineIndent>=r){u=!0,v=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=s,e.lineStart=l,e.lineIndent=f;break}}u&&(sa(e,i,o,!1),Ob(e,e.line-s),i=o=e.position,u=!1),Ua(v)||(o=e.position+1),v=e.input.charCodeAt(++e.position)}return sa(e,i,o,!1),e.result?!0:(e.kind=c,e.result=d,!1)}function n9(e,r){var t,n,a;if(t=e.input.charCodeAt(e.position),t!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=a=e.position;(t=e.input.charCodeAt(e.position))!==0;)if(t===39)if(sa(e,n,e.position,!0),t=e.input.charCodeAt(++e.position),t===39)n=e.position,e.position++,a=e.position;else return!0;else cn(t)?(sa(e,n,a,!0),Ob(e,gr(e,!1,r)),n=a=e.position):e.position===e.lineStart&&nc(e)?Ee(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);Ee(e,"unexpected end of the stream within a single quoted scalar")}function a9(e,r){var t,n,a,i,o,u;if(u=e.input.charCodeAt(e.position),u!==34)return!1;for(e.kind="scalar",e.result="",e.position++,t=n=e.position;(u=e.input.charCodeAt(e.position))!==0;){if(u===34)return sa(e,t,e.position,!0),e.position++,!0;if(u===92){if(sa(e,t,e.position,!0),u=e.input.charCodeAt(++e.position),cn(u))gr(e,!1,r);else if(u<256&&FL[u])e.result+=zL[u],e.position++;else if((o=Q$(u))>0){for(a=o,i=0;a>0;a--)u=e.input.charCodeAt(++e.position),(o=Z$(u))>=0?i=(i<<4)+o:Ee(e,"expected hexadecimal character");e.result+=e9(i),e.position++}else Ee(e,"unknown escape sequence");t=n=e.position}else cn(u)?(sa(e,t,n,!0),Ob(e,gr(e,!1,r)),t=n=e.position):e.position===e.lineStart&&nc(e)?Ee(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Ee(e,"unexpected end of the stream within a double quoted scalar")}function i9(e,r){var t=!0,n,a,i,o=e.tag,u,s=e.anchor,l,f,c,d,v,h=Object.create(null),b,m,g,p;if(p=e.input.charCodeAt(e.position),p===91)f=93,v=!1,u=[];else if(p===123)f=125,v=!0,u={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),p=e.input.charCodeAt(++e.position);p!==0;){if(gr(e,!0,r),p=e.input.charCodeAt(e.position),p===f)return e.position++,e.tag=o,e.anchor=s,e.kind=v?"mapping":"sequence",e.result=u,!0;t?p===44&&Ee(e,"expected the node content, but found ','"):Ee(e,"missed comma between flow collection entries"),m=b=g=null,c=d=!1,p===63&&(l=e.input.charCodeAt(e.position+1),ht(l)&&(c=d=!0,e.position++,gr(e,!0,r))),n=e.line,a=e.lineStart,i=e.position,io(e,r,ef,!1,!0),m=e.tag,b=e.result,gr(e,!0,r),p=e.input.charCodeAt(e.position),(d||e.line===n)&&p===58&&(c=!0,p=e.input.charCodeAt(++e.position),gr(e,!0,r),io(e,r,ef,!1,!0),g=e.result),v?qi(e,u,h,m,b,g,n,a,i):c?u.push(qi(e,null,h,m,b,g,n,a,i)):u.push(b),gr(e,!0,r),p=e.input.charCodeAt(e.position),p===44?(t=!0,p=e.input.charCodeAt(++e.position)):t=!1}Ee(e,"unexpected end of the stream within a flow collection")}function o9(e,r){var t,n,a=Ry,i=!1,o=!1,u=r,s=0,l=!1,f,c;if(c=e.input.charCodeAt(e.position),c===124)n=!1;else if(c===62)n=!0;else return!1;for(e.kind="scalar",e.result="";c!==0;)if(c=e.input.charCodeAt(++e.position),c===43||c===45)Ry===a?a=c===43?WT:K$:Ee(e,"repeat of a chomping mode identifier");else if((f=J$(c))>=0)f===0?Ee(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Ee(e,"repeat of an indentation width identifier"):(u=r+f-1,o=!0);else break;if(Ua(c)){do c=e.input.charCodeAt(++e.position);while(Ua(c));if(c===35)do c=e.input.charCodeAt(++e.position);while(!cn(c)&&c!==0)}for(;c!==0;){for(Lb(e),e.lineIndent=0,c=e.input.charCodeAt(e.position);(!o||e.lineIndent<u)&&c===32;)e.lineIndent++,c=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>u&&(u=e.lineIndent),cn(c)){s++;continue}if(e.lineIndent<u){a===WT?e.result+=Er.repeat(`
`,i?1+s:s):a===Ry&&i&&(e.result+=`
`);break}for(n?Ua(c)?(l=!0,e.result+=Er.repeat(`
`,i?1+s:s)):l?(l=!1,e.result+=Er.repeat(`
`,s+1)):s===0?i&&(e.result+=" "):e.result+=Er.repeat(`
`,s):e.result+=Er.repeat(`
`,i?1+s:s),i=!0,o=!0,s=0,t=e.position;!cn(c)&&c!==0;)c=e.input.charCodeAt(++e.position);sa(e,t,e.position,!1)}return!0}function ZT(e,r){var t,n=e.tag,a=e.anchor,i=[],o,u=!1,s;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=i),s=e.input.charCodeAt(e.position);s!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ee(e,"tab characters must not be used in indentation")),!(s!==45||(o=e.input.charCodeAt(e.position+1),!ht(o))));){if(u=!0,e.position++,gr(e,!0,-1)&&e.lineIndent<=r){i.push(null),s=e.input.charCodeAt(e.position);continue}if(t=e.line,io(e,r,BL,!1,!0),i.push(e.result),gr(e,!0,-1),s=e.input.charCodeAt(e.position),(e.line===t||e.lineIndent>r)&&s!==0)Ee(e,"bad indentation of a sequence entry");else if(e.lineIndent<r)break}return u?(e.tag=n,e.anchor=a,e.kind="sequence",e.result=i,!0):!1}function u9(e,r,t){var n,a,i,o,u,s,l=e.tag,f=e.anchor,c={},d=Object.create(null),v=null,h=null,b=null,m=!1,g=!1,p;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),p=e.input.charCodeAt(e.position);p!==0;){if(!m&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ee(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),i=e.line,(p===63||p===58)&&ht(n))p===63?(m&&(qi(e,c,d,v,h,null,o,u,s),v=h=b=null),g=!0,m=!0,a=!0):m?(m=!1,a=!0):Ee(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,p=n;else{if(o=e.line,u=e.lineStart,s=e.position,!io(e,t,ML,!1,!0))break;if(e.line===i){for(p=e.input.charCodeAt(e.position);Ua(p);)p=e.input.charCodeAt(++e.position);if(p===58)p=e.input.charCodeAt(++e.position),ht(p)||Ee(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(qi(e,c,d,v,h,null,o,u,s),v=h=b=null),g=!0,m=!1,a=!1,v=e.tag,h=e.result;else if(g)Ee(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=f,!0}else if(g)Ee(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=f,!0}if((e.line===i||e.lineIndent>r)&&(m&&(o=e.line,u=e.lineStart,s=e.position),io(e,r,rf,!0,a)&&(m?h=e.result:b=e.result),m||(qi(e,c,d,v,h,b,o,u,s),v=h=b=null),gr(e,!0,-1),p=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>r)&&p!==0)Ee(e,"bad indentation of a mapping entry");else if(e.lineIndent<r)break}return m&&qi(e,c,d,v,h,null,o,u,s),g&&(e.tag=l,e.anchor=f,e.kind="mapping",e.result=c),g}function s9(e){var r,t=!1,n=!1,a,i,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&Ee(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(t=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,a="!!",o=e.input.charCodeAt(++e.position)):a="!",r=e.position,t){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(i=e.input.slice(r,e.position),o=e.input.charCodeAt(++e.position)):Ee(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!ht(o);)o===33&&(n?Ee(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(r-1,e.position+1),NL.test(a)||Ee(e,"named tag handle cannot contain such characters"),n=!0,r=e.position+1)),o=e.input.charCodeAt(++e.position);i=e.input.slice(r,e.position),X$.test(i)&&Ee(e,"tag suffix cannot contain flow indicator characters")}i&&!qL.test(i)&&Ee(e,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch{Ee(e,"tag name is malformed: "+i)}return t?e.tag=i:ya.call(e.tagMap,a)?e.tag=e.tagMap[a]+i:a==="!"?e.tag="!"+i:a==="!!"?e.tag="tag:yaml.org,2002:"+i:Ee(e,'undeclared tag handle "'+a+'"'),!0}function l9(e){var r,t;if(t=e.input.charCodeAt(e.position),t!==38)return!1;for(e.anchor!==null&&Ee(e,"duplication of an anchor property"),t=e.input.charCodeAt(++e.position),r=e.position;t!==0&&!ht(t)&&!Ni(t);)t=e.input.charCodeAt(++e.position);return e.position===r&&Ee(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(r,e.position),!0}function f9(e){var r,t,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),r=e.position;n!==0&&!ht(n)&&!Ni(n);)n=e.input.charCodeAt(++e.position);return e.position===r&&Ee(e,"name of an alias node must contain at least one character"),t=e.input.slice(r,e.position),ya.call(e.anchorMap,t)||Ee(e,'unidentified alias "'+t+'"'),e.result=e.anchorMap[t],gr(e,!0,-1),!0}function io(e,r,t,n,a){var i,o,u,s=1,l=!1,f=!1,c,d,v,h,b,m;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,i=o=u=rf===t||BL===t,n&&gr(e,!0,-1)&&(l=!0,e.lineIndent>r?s=1:e.lineIndent===r?s=0:e.lineIndent<r&&(s=-1)),s===1)for(;s9(e)||l9(e);)gr(e,!0,-1)?(l=!0,u=i,e.lineIndent>r?s=1:e.lineIndent===r?s=0:e.lineIndent<r&&(s=-1)):u=!1;if(u&&(u=l||a),(s===1||rf===t)&&(ef===t||ML===t?b=r:b=r+1,m=e.position-e.lineStart,s===1?u&&(ZT(e,m)||u9(e,m,b))||i9(e,b)?f=!0:(o&&o9(e,b)||n9(e,b)||a9(e,b)?f=!0:f9(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&Ee(e,"alias node should not have any properties")):t9(e,b,ef===t)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):s===0&&(f=u&&ZT(e,m))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ee(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,d=e.implicitTypes.length;c<d;c+=1)if(h=e.implicitTypes[c],h.resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ya.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,v=e.typeMap.multi[e.kind||"fallback"],c=0,d=v.length;c<d;c+=1)if(e.tag.slice(0,v[c].tag.length)===v[c].tag){h=v[c];break}h||Ee(e,"unknown tag !<"+e.tag+">"),e.result!==null&&h.kind!==e.kind&&Ee(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ee(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function c9(e){var r=e.position,t,n,a,i=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(gr(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(i=!0,o=e.input.charCodeAt(++e.position),t=e.position;o!==0&&!ht(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(t,e.position),a=[],n.length<1&&Ee(e,"directive name must not be less than one character in length");o!==0;){for(;Ua(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!cn(o));break}if(cn(o))break;for(t=e.position;o!==0&&!ht(o);)o=e.input.charCodeAt(++e.position);a.push(e.input.slice(t,e.position))}o!==0&&Lb(e),ya.call(YT,n)?YT[n](e,n,a):tf(e,'unknown document directive "'+n+'"')}if(gr(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,gr(e,!0,-1)):i&&Ee(e,"directives end mark is expected"),io(e,e.lineIndent-1,rf,!1,!0),gr(e,!0,-1),e.checkLineBreaks&&Y$.test(e.input.slice(r,e.position))&&tf(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&nc(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,gr(e,!0,-1));return}if(e.position<e.length-1)Ee(e,"end of the stream or a document separator is expected");else return}function $L(e,r){e=String(e),r=r||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var t=new r9(e,r),n=e.indexOf("\0");for(n!==-1&&(t.position=n,Ee(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)c9(t);return t.documents}function d9(e,r,t){r!==null&&typeof r=="object"&&typeof t>"u"&&(t=r,r=null);var n=$L(e,t);if(typeof r!="function")return n;for(var a=0,i=n.length;a<i;a+=1)r(n[a])}function v9(e,r){var t=$L(e,r);if(t.length!==0){if(t.length===1)return t[0];throw new rt("expected a single document in the stream, but found more")}}var h9=d9,p9=v9,UL={loadAll:h9,load:p9},GL=Object.prototype.toString,HL=Object.prototype.hasOwnProperty,Mb=65279,g9=9,Fu=10,m9=13,y9=32,b9=33,w9=34,U0=35,x9=37,E9=38,S9=39,C9=42,WL=44,k9=45,nf=58,_9=61,T9=62,A9=63,R9=64,KL=91,jL=93,P9=96,YL=123,D9=124,XL=125,Xr={};Xr[0]="\\0";Xr[7]="\\a";Xr[8]="\\b";Xr[9]="\\t";Xr[10]="\\n";Xr[11]="\\v";Xr[12]="\\f";Xr[13]="\\r";Xr[27]="\\e";Xr[34]='\\"';Xr[92]="\\\\";Xr[133]="\\N";Xr[160]="\\_";Xr[8232]="\\L";Xr[8233]="\\P";var I9=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],L9=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function O9(e,r){var t,n,a,i,o,u,s;if(r===null)return{};for(t={},n=Object.keys(r),a=0,i=n.length;a<i;a+=1)o=n[a],u=String(r[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),s=e.compiledTypeMap.fallback[o],s&&HL.call(s.styleAliases,u)&&(u=s.styleAliases[u]),t[o]=u;return t}function M9(e){var r,t,n;if(r=e.toString(16).toUpperCase(),e<=255)t="x",n=2;else if(e<=65535)t="u",n=4;else if(e<=4294967295)t="U",n=8;else throw new rt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+Er.repeat("0",n-r.length)+r}var B9=1,zu=2;function N9(e){this.schema=e.schema||Ib,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Er.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=O9(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?zu:B9,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function QT(e,r){for(var t=Er.repeat(" ",r),n=0,a=-1,i="",o,u=e.length;n<u;)a=e.indexOf(`
`,n),a===-1?(o=e.slice(n),n=u):(o=e.slice(n,a+1),n=a+1),o.length&&o!==`
`&&(i+=t),i+=o;return i}function G0(e,r){return`
`+Er.repeat(" ",e.indent*r)}function q9(e,r){var t,n,a;for(t=0,n=e.implicitTypes.length;t<n;t+=1)if(a=e.implicitTypes[t],a.resolve(r))return!0;return!1}function af(e){return e===y9||e===g9}function Vu(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Mb||65536<=e&&e<=1114111}function JT(e){return Vu(e)&&e!==Mb&&e!==m9&&e!==Fu}function eA(e,r,t){var n=JT(e),a=n&&!af(e);return(t?n:n&&e!==WL&&e!==KL&&e!==jL&&e!==YL&&e!==XL)&&e!==U0&&!(r===nf&&!a)||JT(r)&&!af(r)&&e===U0||r===nf&&a}function F9(e){return Vu(e)&&e!==Mb&&!af(e)&&e!==k9&&e!==A9&&e!==nf&&e!==WL&&e!==KL&&e!==jL&&e!==YL&&e!==XL&&e!==U0&&e!==E9&&e!==C9&&e!==b9&&e!==D9&&e!==_9&&e!==T9&&e!==S9&&e!==w9&&e!==x9&&e!==R9&&e!==P9}function z9(e){return!af(e)&&e!==nf}function Qo(e,r){var t=e.charCodeAt(r),n;return t>=55296&&t<=56319&&r+1<e.length&&(n=e.charCodeAt(r+1),n>=56320&&n<=57343)?(t-55296)*1024+n-56320+65536:t}function ZL(e){var r=/^\n* /;return r.test(e)}var QL=1,H0=2,JL=3,eO=4,xi=5;function V9(e,r,t,n,a,i,o,u){var s,l=0,f=null,c=!1,d=!1,v=n!==-1,h=-1,b=F9(Qo(e,0))&&z9(Qo(e,e.length-1));if(r||o)for(s=0;s<e.length;l>=65536?s+=2:s++){if(l=Qo(e,s),!Vu(l))return xi;b=b&&eA(l,f,u),f=l}else{for(s=0;s<e.length;l>=65536?s+=2:s++){if(l=Qo(e,s),l===Fu)c=!0,v&&(d=d||s-h-1>n&&e[h+1]!==" ",h=s);else if(!Vu(l))return xi;b=b&&eA(l,f,u),f=l}d=d||v&&s-h-1>n&&e[h+1]!==" "}return!c&&!d?b&&!o&&!a(e)?QL:i===zu?xi:H0:t>9&&ZL(e)?xi:o?i===zu?xi:H0:d?eO:JL}function $9(e,r,t,n,a){e.dump=function(){if(r.length===0)return e.quotingType===zu?'""':"''";if(!e.noCompatMode&&(I9.indexOf(r)!==-1||L9.test(r)))return e.quotingType===zu?'"'+r+'"':"'"+r+"'";var i=e.indent*Math.max(1,t),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),u=n||e.flowLevel>-1&&t>=e.flowLevel;function s(l){return q9(e,l)}switch(V9(r,u,e.indent,o,s,e.quotingType,e.forceQuotes&&!n,a)){case QL:return r;case H0:return"'"+r.replace(/'/g,"''")+"'";case JL:return"|"+rA(r,e.indent)+tA(QT(r,i));case eO:return">"+rA(r,e.indent)+tA(QT(U9(r,o),i));case xi:return'"'+G9(r)+'"';default:throw new rt("impossible error: invalid scalar style")}}()}function rA(e,r){var t=ZL(e)?String(r):"",n=e[e.length-1]===`
`,a=n&&(e[e.length-2]===`
`||e===`
`),i=a?"+":n?"":"-";return t+i+`
`}function tA(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function U9(e,r){for(var t=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,t.lastIndex=l,nA(e.slice(0,l),r)}(),a=e[0]===`
`||e[0]===" ",i,o;o=t.exec(e);){var u=o[1],s=o[2];i=s[0]===" ",n+=u+(!a&&!i&&s!==""?`
`:"")+nA(s,r),a=i}return n}function nA(e,r){if(e===""||e[0]===" ")return e;for(var t=/ [^ ]/g,n,a=0,i,o=0,u=0,s="";n=t.exec(e);)u=n.index,u-a>r&&(i=o>a?o:u,s+=`
`+e.slice(a,i),a=i+1),o=u;return s+=`
`,e.length-a>r&&o>a?s+=e.slice(a,o)+`
`+e.slice(o+1):s+=e.slice(a),s.slice(1)}function G9(e){for(var r="",t=0,n,a=0;a<e.length;t>=65536?a+=2:a++)t=Qo(e,a),n=Xr[t],!n&&Vu(t)?(r+=e[a],t>=65536&&(r+=e[a+1])):r+=n||M9(t);return r}function H9(e,r,t){var n="",a=e.tag,i,o,u;for(i=0,o=t.length;i<o;i+=1)u=t[i],e.replacer&&(u=e.replacer.call(t,String(i),u)),(In(e,r,u,!1,!1)||typeof u>"u"&&In(e,r,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=a,e.dump="["+n+"]"}function aA(e,r,t,n){var a="",i=e.tag,o,u,s;for(o=0,u=t.length;o<u;o+=1)s=t[o],e.replacer&&(s=e.replacer.call(t,String(o),s)),(In(e,r+1,s,!0,!0,!1,!0)||typeof s>"u"&&In(e,r+1,null,!0,!0,!1,!0))&&((!n||a!=="")&&(a+=G0(e,r)),e.dump&&Fu===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=i,e.dump=a||"[]"}function W9(e,r,t){var n="",a=e.tag,i=Object.keys(t),o,u,s,l,f;for(o=0,u=i.length;o<u;o+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),s=i[o],l=t[s],e.replacer&&(l=e.replacer.call(t,s,l)),In(e,r,s,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),In(e,r,l,!1,!1)&&(f+=e.dump,n+=f));e.tag=a,e.dump="{"+n+"}"}function K9(e,r,t,n){var a="",i=e.tag,o=Object.keys(t),u,s,l,f,c,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new rt("sortKeys must be a boolean or a function");for(u=0,s=o.length;u<s;u+=1)d="",(!n||a!=="")&&(d+=G0(e,r)),l=o[u],f=t[l],e.replacer&&(f=e.replacer.call(t,l,f)),In(e,r+1,l,!0,!0,!0)&&(c=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,c&&(e.dump&&Fu===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,c&&(d+=G0(e,r)),In(e,r+1,f,!0,c)&&(e.dump&&Fu===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,a+=d));e.tag=i,e.dump=a||"{}"}function iA(e,r,t){var n,a,i,o,u,s;for(a=t?e.explicitTypes:e.implicitTypes,i=0,o=a.length;i<o;i+=1)if(u=a[i],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof r=="object"&&r instanceof u.instanceOf)&&(!u.predicate||u.predicate(r))){if(t?u.multi&&u.representName?e.tag=u.representName(r):e.tag=u.tag:e.tag="?",u.represent){if(s=e.styleMap[u.tag]||u.defaultStyle,GL.call(u.represent)==="[object Function]")n=u.represent(r,s);else if(HL.call(u.represent,s))n=u.represent[s](r,s);else throw new rt("!<"+u.tag+'> tag resolver accepts not "'+s+'" style');e.dump=n}return!0}return!1}function In(e,r,t,n,a,i,o){e.tag=null,e.dump=t,iA(e,t,!1)||iA(e,t,!0);var u=GL.call(e.dump),s=n,l;n&&(n=e.flowLevel<0||e.flowLevel>r);var f=u==="[object Object]"||u==="[object Array]",c,d;if(f&&(c=e.duplicates.indexOf(t),d=c!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&r>0)&&(a=!1),d&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(f&&d&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),u==="[object Object]")n&&Object.keys(e.dump).length!==0?(K9(e,r,e.dump,a),d&&(e.dump="&ref_"+c+e.dump)):(W9(e,r,e.dump),d&&(e.dump="&ref_"+c+" "+e.dump));else if(u==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&r>0?aA(e,r-1,e.dump,a):aA(e,r,e.dump,a),d&&(e.dump="&ref_"+c+e.dump)):(H9(e,r,e.dump),d&&(e.dump="&ref_"+c+" "+e.dump));else if(u==="[object String]")e.tag!=="?"&&$9(e,e.dump,r,i,s);else{if(u==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new rt("unacceptable kind of an object to dump "+u)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function j9(e,r){var t=[],n=[],a,i;for(W0(e,t,n),a=0,i=n.length;a<i;a+=1)r.duplicates.push(t[n[a]]);r.usedDuplicates=new Array(i)}function W0(e,r,t){var n,a,i;if(e!==null&&typeof e=="object")if(a=r.indexOf(e),a!==-1)t.indexOf(a)===-1&&t.push(a);else if(r.push(e),Array.isArray(e))for(a=0,i=e.length;a<i;a+=1)W0(e[a],r,t);else for(n=Object.keys(e),a=0,i=n.length;a<i;a+=1)W0(e[n[a]],r,t)}function Y9(e,r){r=r||{};var t=new N9(r);t.noRefs||j9(e,t);var n=e;return t.replacer&&(n=t.replacer.call({"":n},"",n)),In(t,0,n,!0,!0)?t.dump+`
`:""}var X9=Y9,Z9={dump:X9};function Bb(e,r){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var Q9=qr,J9=gL,eU=wL,rU=kL,tU=_L,nU=Ib,aU=UL.load,iU=UL.loadAll,oU=Z9.dump,uU=rt,sU={binary:DL,float:CL,map:bL,null:xL,pairs:LL,set:OL,timestamp:RL,bool:EL,int:SL,merge:PL,omap:IL,seq:yL,str:mL},lU=Bb("safeLoad","load"),fU=Bb("safeLoadAll","loadAll"),cU=Bb("safeDump","dump"),dU={Type:Q9,Schema:J9,FAILSAFE_SCHEMA:eU,JSON_SCHEMA:rU,CORE_SCHEMA:tU,DEFAULT_SCHEMA:nU,load:aU,loadAll:iU,dump:oU,YAMLException:uU,types:sU,safeLoad:lU,safeLoadAll:fU,safeDump:cU};function vU(e,r={}){const{showVars:t=!1}=r,n=dU.load(e),a=[],i=[],o=new Set;function u(l){o.has(l.id)||(o.add(l.id),a.push(l))}function s(l,f,c){const d=!!(l&&(l.children||l.hosts||l.vars)),v=c;u({id:v,label:c,type:d?"group":"var",vars:l==null?void 0:l.vars}),f&&i.push({source:f,target:v}),t&&(l!=null&&l.vars)&&Object.entries(l.vars).forEach(([h,b])=>{const m=`${v}::${h}`;u({id:m,label:`${h}: ${b}`,type:"var"}),i.push({source:v,target:m})}),l!=null&&l.hosts&&Object.entries(l.hosts).forEach(([h,b])=>{const m=h;u({id:m,label:h,type:"host",vars:b}),i.push({source:v,target:m}),t&&b&&typeof b=="object"&&Object.entries(b).forEach(([g,p])=>{const y=`${m}::${g}`;u({id:y,label:`${g}: ${p}`,type:"var"}),i.push({source:m,target:y})})}),l!=null&&l.children&&Object.entries(l.children).forEach(([h,b])=>{s(b,v,h)})}if(!n||!n.all)throw new Error('Inventory must have an "all" root key');return s(n.all,null,"all"),{nodes:a,links:i}}const hU=`all:
  vars:
    ansible_user: ansible
    timezone: Australia/Melbourne
    ntp_servers:
    - time.google.com
    - time.cloudflare.com
    dns_servers:
    - 1.1.1.1
    - 8.8.8.8
  children:
    edge:
      hosts:
        fw01:
          ansible_host: 10.0.0.1
          role: firewall
          env: edge
          os: ubuntu24
          monitoring: true
          backup: false
        fw02:
          ansible_host: 10.0.0.2
          role: firewall
          env: edge
          os: ubuntu24
          monitoring: true
          backup: false
        vpn01:
          ansible_host: 10.0.0.10
          role: vpn
          env: edge
          os: ubuntu24
          monitoring: true
          backup: false
        vpn02:
          ansible_host: 10.0.0.11
          role: vpn
          env: edge
          os: ubuntu24
          monitoring: true
          backup: false
    automation:
      hosts:
        ansible:
          ansible_host: 192.168.20.100
          role: automation
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        gitlab:
          ansible_host: 192.168.20.110
          role: ci
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        runner01:
          ansible_host: 192.168.20.50
          role: runner
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        runner02:
          ansible_host: 192.168.20.51
          role: runner
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
    monitoring:
      hosts:
        zbx-server:
          ansible_host: 192.168.20.52
          role: zabbix-server
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        zbx-web:
          ansible_host: 192.168.20.53
          role: zabbix-web
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        prometheus:
          ansible_host: 192.168.20.54
          role: prometheus
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        grafana:
          ansible_host: 192.168.20.55
          role: grafana
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        loki:
          ansible_host: 192.168.20.56
          role: loki
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        victoriametrics:
          ansible_host: 192.168.20.57
          role: vm
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
    datacentre:
      children:
        site-a:
          children:
            prod:
              hosts:
                web-p1-site-a:
                  ansible_host: 192.168.20.58
                  role: web
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-p2-site-a:
                  ansible_host: 192.168.20.59
                  role: web
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-p3-site-a:
                  ansible_host: 192.168.20.60
                  role: web
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-p1-site-a:
                  ansible_host: 192.168.20.61
                  role: api
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-p2-site-a:
                  ansible_host: 192.168.20.62
                  role: api
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-p3-site-a:
                  ansible_host: 192.168.20.63
                  role: api
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-p1-site-a:
                  ansible_host: 192.168.20.64
                  role: app
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-p2-site-a:
                  ansible_host: 192.168.20.65
                  role: app
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                db-p1-site-a:
                  ansible_host: 192.168.20.66
                  role: db
                  env: prod
                  os: rocky9
                  monitoring: true
                  backup: true
                db-p2-site-a:
                  ansible_host: 192.168.20.67
                  role: db
                  env: prod
                  os: rocky9
                  monitoring: true
                  backup: true
                cache-p1-site-a:
                  ansible_host: 192.168.20.68
                  role: cache
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                queue-p1-site-a:
                  ansible_host: 192.168.20.69
                  role: queue
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                files-p1-site-a:
                  ansible_host: 192.168.20.70
                  role: files
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: true
                nfs-p1-site-a:
                  ansible_host: 192.168.20.71
                  role: nfs
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: true
            staging:
              hosts:
                web-s1-site-a:
                  ansible_host: 192.168.20.72
                  role: web
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-s2-site-a:
                  ansible_host: 192.168.20.73
                  role: web
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-s3-site-a:
                  ansible_host: 192.168.20.74
                  role: web
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-s1-site-a:
                  ansible_host: 192.168.20.75
                  role: api
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-s2-site-a:
                  ansible_host: 192.168.20.76
                  role: api
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-s3-site-a:
                  ansible_host: 192.168.20.77
                  role: api
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-s1-site-a:
                  ansible_host: 192.168.20.78
                  role: app
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-s2-site-a:
                  ansible_host: 192.168.20.79
                  role: app
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                db-s1-site-a:
                  ansible_host: 192.168.20.80
                  role: db
                  env: staging
                  os: rocky9
                  monitoring: true
                  backup: true
                db-s2-site-a:
                  ansible_host: 192.168.20.81
                  role: db
                  env: staging
                  os: rocky9
                  monitoring: true
                  backup: true
                cache-s1-site-a:
                  ansible_host: 192.168.20.82
                  role: cache
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                queue-s1-site-a:
                  ansible_host: 192.168.20.83
                  role: queue
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                files-s1-site-a:
                  ansible_host: 192.168.20.84
                  role: files
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: true
                nfs-s1-site-a:
                  ansible_host: 192.168.20.85
                  role: nfs
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: true
            dev:
              hosts:
                web-d1-site-a:
                  ansible_host: 192.168.20.86
                  role: web
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-d2-site-a:
                  ansible_host: 192.168.20.87
                  role: web
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-d3-site-a:
                  ansible_host: 192.168.20.88
                  role: web
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-d1-site-a:
                  ansible_host: 192.168.20.89
                  role: api
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-d2-site-a:
                  ansible_host: 192.168.20.90
                  role: api
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-d3-site-a:
                  ansible_host: 192.168.20.91
                  role: api
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-d1-site-a:
                  ansible_host: 192.168.20.92
                  role: app
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-d2-site-a:
                  ansible_host: 192.168.20.93
                  role: app
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                db-d1-site-a:
                  ansible_host: 192.168.20.94
                  role: db
                  env: dev
                  os: rocky9
                  monitoring: true
                  backup: true
                db-d2-site-a:
                  ansible_host: 192.168.20.95
                  role: db
                  env: dev
                  os: rocky9
                  monitoring: true
                  backup: true
                cache-d1-site-a:
                  ansible_host: 192.168.20.96
                  role: cache
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                queue-d1-site-a:
                  ansible_host: 192.168.20.97
                  role: queue
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                files-d1-site-a:
                  ansible_host: 192.168.20.98
                  role: files
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: true
                nfs-d1-site-a:
                  ansible_host: 192.168.20.99
                  role: nfs
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: true
        site-b:
          children:
            prod:
              hosts:
                web-p1-site-b:
                  ansible_host: 192.168.20.100
                  role: web
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-p2-site-b:
                  ansible_host: 192.168.20.101
                  role: web
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-p3-site-b:
                  ansible_host: 192.168.20.102
                  role: web
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-p1-site-b:
                  ansible_host: 192.168.20.103
                  role: api
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-p2-site-b:
                  ansible_host: 192.168.20.104
                  role: api
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-p3-site-b:
                  ansible_host: 192.168.20.105
                  role: api
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-p1-site-b:
                  ansible_host: 192.168.20.106
                  role: app
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-p2-site-b:
                  ansible_host: 192.168.20.107
                  role: app
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                db-p1-site-b:
                  ansible_host: 192.168.20.108
                  role: db
                  env: prod
                  os: rocky9
                  monitoring: true
                  backup: true
                db-p2-site-b:
                  ansible_host: 192.168.20.109
                  role: db
                  env: prod
                  os: rocky9
                  monitoring: true
                  backup: true
                cache-p1-site-b:
                  ansible_host: 192.168.20.110
                  role: cache
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                queue-p1-site-b:
                  ansible_host: 192.168.20.111
                  role: queue
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                files-p1-site-b:
                  ansible_host: 192.168.20.112
                  role: files
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: true
                nfs-p1-site-b:
                  ansible_host: 192.168.20.113
                  role: nfs
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: true
            staging:
              hosts:
                web-s1-site-b:
                  ansible_host: 192.168.20.114
                  role: web
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-s2-site-b:
                  ansible_host: 192.168.20.115
                  role: web
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-s3-site-b:
                  ansible_host: 192.168.20.116
                  role: web
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-s1-site-b:
                  ansible_host: 192.168.20.117
                  role: api
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-s2-site-b:
                  ansible_host: 192.168.20.118
                  role: api
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-s3-site-b:
                  ansible_host: 192.168.20.119
                  role: api
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-s1-site-b:
                  ansible_host: 192.168.20.120
                  role: app
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-s2-site-b:
                  ansible_host: 192.168.20.121
                  role: app
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                db-s1-site-b:
                  ansible_host: 192.168.20.122
                  role: db
                  env: staging
                  os: rocky9
                  monitoring: true
                  backup: true
                db-s2-site-b:
                  ansible_host: 192.168.20.123
                  role: db
                  env: staging
                  os: rocky9
                  monitoring: true
                  backup: true
                cache-s1-site-b:
                  ansible_host: 192.168.20.124
                  role: cache
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                queue-s1-site-b:
                  ansible_host: 192.168.20.125
                  role: queue
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                files-s1-site-b:
                  ansible_host: 192.168.20.126
                  role: files
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: true
                nfs-s1-site-b:
                  ansible_host: 192.168.20.127
                  role: nfs
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: true
            dev:
              hosts:
                web-d1-site-b:
                  ansible_host: 192.168.20.128
                  role: web
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-d2-site-b:
                  ansible_host: 192.168.20.129
                  role: web
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-d3-site-b:
                  ansible_host: 192.168.20.130
                  role: web
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-d1-site-b:
                  ansible_host: 192.168.20.131
                  role: api
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-d2-site-b:
                  ansible_host: 192.168.20.132
                  role: api
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-d3-site-b:
                  ansible_host: 192.168.20.133
                  role: api
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-d1-site-b:
                  ansible_host: 192.168.20.134
                  role: app
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-d2-site-b:
                  ansible_host: 192.168.20.135
                  role: app
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                db-d1-site-b:
                  ansible_host: 192.168.20.136
                  role: db
                  env: dev
                  os: rocky9
                  monitoring: true
                  backup: true
                db-d2-site-b:
                  ansible_host: 192.168.20.137
                  role: db
                  env: dev
                  os: rocky9
                  monitoring: true
                  backup: true
                cache-d1-site-b:
                  ansible_host: 192.168.20.138
                  role: cache
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                queue-d1-site-b:
                  ansible_host: 192.168.20.139
                  role: queue
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                files-d1-site-b:
                  ansible_host: 192.168.20.140
                  role: files
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: true
                nfs-d1-site-b:
                  ansible_host: 192.168.20.141
                  role: nfs
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: true
        site-c:
          children:
            prod:
              hosts:
                web-p1-site-c:
                  ansible_host: 192.168.20.142
                  role: web
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-p2-site-c:
                  ansible_host: 192.168.20.143
                  role: web
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-p3-site-c:
                  ansible_host: 192.168.20.144
                  role: web
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-p1-site-c:
                  ansible_host: 192.168.20.145
                  role: api
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-p2-site-c:
                  ansible_host: 192.168.20.146
                  role: api
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-p3-site-c:
                  ansible_host: 192.168.20.147
                  role: api
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-p1-site-c:
                  ansible_host: 192.168.20.148
                  role: app
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-p2-site-c:
                  ansible_host: 192.168.20.149
                  role: app
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                db-p1-site-c:
                  ansible_host: 192.168.20.150
                  role: db
                  env: prod
                  os: rocky9
                  monitoring: true
                  backup: true
                db-p2-site-c:
                  ansible_host: 192.168.20.151
                  role: db
                  env: prod
                  os: rocky9
                  monitoring: true
                  backup: true
                cache-p1-site-c:
                  ansible_host: 192.168.20.152
                  role: cache
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                queue-p1-site-c:
                  ansible_host: 192.168.20.153
                  role: queue
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: false
                files-p1-site-c:
                  ansible_host: 192.168.20.154
                  role: files
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: true
                nfs-p1-site-c:
                  ansible_host: 192.168.20.155
                  role: nfs
                  env: prod
                  os: ubuntu24
                  monitoring: true
                  backup: true
            staging:
              hosts:
                web-s1-site-c:
                  ansible_host: 192.168.20.156
                  role: web
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-s2-site-c:
                  ansible_host: 192.168.20.157
                  role: web
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-s3-site-c:
                  ansible_host: 192.168.20.158
                  role: web
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-s1-site-c:
                  ansible_host: 192.168.20.159
                  role: api
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-s2-site-c:
                  ansible_host: 192.168.20.160
                  role: api
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-s3-site-c:
                  ansible_host: 192.168.20.161
                  role: api
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-s1-site-c:
                  ansible_host: 192.168.20.162
                  role: app
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-s2-site-c:
                  ansible_host: 192.168.20.163
                  role: app
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                db-s1-site-c:
                  ansible_host: 192.168.20.164
                  role: db
                  env: staging
                  os: rocky9
                  monitoring: true
                  backup: true
                db-s2-site-c:
                  ansible_host: 192.168.20.165
                  role: db
                  env: staging
                  os: rocky9
                  monitoring: true
                  backup: true
                cache-s1-site-c:
                  ansible_host: 192.168.20.166
                  role: cache
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                queue-s1-site-c:
                  ansible_host: 192.168.20.167
                  role: queue
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: false
                files-s1-site-c:
                  ansible_host: 192.168.20.168
                  role: files
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: true
                nfs-s1-site-c:
                  ansible_host: 192.168.20.169
                  role: nfs
                  env: staging
                  os: ubuntu24
                  monitoring: true
                  backup: true
            dev:
              hosts:
                web-d1-site-c:
                  ansible_host: 192.168.20.170
                  role: web
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-d2-site-c:
                  ansible_host: 192.168.20.171
                  role: web
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                web-d3-site-c:
                  ansible_host: 192.168.20.172
                  role: web
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-d1-site-c:
                  ansible_host: 192.168.20.173
                  role: api
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-d2-site-c:
                  ansible_host: 192.168.20.174
                  role: api
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                api-d3-site-c:
                  ansible_host: 192.168.20.175
                  role: api
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-d1-site-c:
                  ansible_host: 192.168.20.176
                  role: app
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                app-d2-site-c:
                  ansible_host: 192.168.20.177
                  role: app
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                db-d1-site-c:
                  ansible_host: 192.168.20.178
                  role: db
                  env: dev
                  os: rocky9
                  monitoring: true
                  backup: true
                db-d2-site-c:
                  ansible_host: 192.168.20.179
                  role: db
                  env: dev
                  os: rocky9
                  monitoring: true
                  backup: true
                cache-d1-site-c:
                  ansible_host: 192.168.20.180
                  role: cache
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                queue-d1-site-c:
                  ansible_host: 192.168.20.181
                  role: queue
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: false
                files-d1-site-c:
                  ansible_host: 192.168.20.182
                  role: files
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: true
                nfs-d1-site-c:
                  ansible_host: 192.168.20.183
                  role: nfs
                  env: dev
                  os: ubuntu24
                  monitoring: true
                  backup: true
    kubernetes:
      hosts:
        k8s-master-1:
          ansible_host: 192.168.20.184
          role: k8s-master
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        k8s-master-2:
          ansible_host: 192.168.20.185
          role: k8s-master
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        k8s-master-3:
          ansible_host: 192.168.20.186
          role: k8s-master
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        k8s-master-4:
          ansible_host: 192.168.20.187
          role: k8s-master
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        k8s-master-5:
          ansible_host: 192.168.20.188
          role: k8s-master
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        k8s-worker-1:
          ansible_host: 192.168.20.189
          role: k8s-worker
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        k8s-worker-2:
          ansible_host: 192.168.20.190
          role: k8s-worker
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        k8s-worker-3:
          ansible_host: 192.168.20.191
          role: k8s-worker
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        k8s-worker-4:
          ansible_host: 192.168.20.192
          role: k8s-worker
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        k8s-worker-5:
          ansible_host: 192.168.20.193
          role: k8s-worker
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        k8s-worker-6:
          ansible_host: 192.168.20.194
          role: k8s-worker
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        k8s-worker-7:
          ansible_host: 192.168.20.195
          role: k8s-worker
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
        k8s-worker-8:
          ansible_host: 192.168.20.196
          role: k8s-worker
          env: prod
          os: ubuntu24
          monitoring: true
          backup: false
`;function pU(){const[e,r]=xt.useState({nodes:[],links:[]}),[t,n]=xt.useState(null),[a,i]=xt.useState(!1);return xt.useEffect(()=>{try{const o=vU(hU,{showVars:a});r(o)}catch(o){n(String(o))}},[a]),t?Qr.jsx("pre",{style:{color:"crimson",padding:16},children:t}):Qr.jsx("div",{style:{height:"100vh"},children:Qr.jsx(WV,{graph:e,showVars:a,onToggleVars:()=>i(!a)})})}yP(document.getElementById("root")).render(Qr.jsx(pU,{}));
